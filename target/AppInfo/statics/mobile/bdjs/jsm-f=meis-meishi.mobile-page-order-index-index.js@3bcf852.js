;webpackJsonp([44],{0:function(t,e,n){n(949),t.exports=n(237)},33:function(t,e,n){function r(t){return t&&t.prototype&&t.prototype.render?o(t,i):function(e){return o(e,t)}}var o=n(34),i=n(35);t.exports={Connect:r,connect:r,state:i,State:n(36)}},34:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){}function i(t,e){var n,r=e||a.default,i=function(t,e){return r.on(t,e),{remove:function(){r.removeListener(t,e)}}},s=t.prototype.componentDidMount||o;t.prototype.componentDidMount=function(){var t=this;return n=i("change",function(){p&&console.time&&console.time("全文档重渲染耗时"),t.forceUpdate(function(){p&&console.timeEnd&&console.timeEnd("全文档重渲染耗时")})}),s.call(this)};var c=t.prototype.componentWillUnmount||o;return t.prototype.componentWillUnmount=function(){return n&&n.remove(),c.call(this)},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var s=n(35),a=r(s),c=n(38),l=n(3),u=r(l),p=c.isDev&&!c.muteConsole&&"undefined"!=typeof console;"undefined"!=typeof window&&(window.React=u.default),t.exports=e.default},35:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(36),i=r(o),s="undefined"!=typeof window?window._appState:{},a=new i.default(s);e.default=a,"undefined"!=typeof window&&(window._state=a),t.exports=e.default},36:function(t,e,n){function r(t,e,n,r,o,i,s){var a=Array.isArray(t)?[]:{};if(s)throw Error("You pass too many args for merge method");try{[t,e,n,r,o,i].filter(Boolean).forEach(function(t){Object.keys(t).forEach(function(e){a[e]=t[e]})})}catch(t){return a}return a}function o(t){if(!t||"object"!=typeof t)return!1;var e="function"==typeof t.constructor?Object.getPrototypeOf(t):Object.prototype;if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&b(n)===g}function i(t){return o(t)||Array.isArray(t)}function s(t){return!!o(t)||(!!Array.isArray(t)||("object"!=typeof t&&"function"!=typeof t||(null===t||void 0===t||t!==t)))}function a(t,e,n){for(var r=t.length,o=0;o<r;o++)if(t[o]&&t[o][e]===n)return t[o]}function c(t){function e(t,r){if(!i(t))return t;if(r=r||0,r>20)throw new Error("probably too deep to clone..");var o=Array.isArray(t)?[]:{};return n.push({source:t,dest:o}),Object.keys(t).forEach(function(s){if(i(t[s])){var c=a(n,"source",t[s]);if(c)return void(o[s]=c.dest);o[s]=e(t[s],r+1)}else o[s]=t[s]}),o}var n=[];return e(t)}function l(t,e){return t.filter(function(t,n){return e!==n})}function u(t){return void 0===t||null===t||t!==t}function p(t,e,n){for(var r=e.concat(),o=r.pop();r.length;){var i=r.shift();u(t[i])&&(t[i]={}),t=t[i]}t[o]=n}function f(t,e){var n=e.concat();if(u(t)&&0===n.length)return t;for(var r=n.pop();n.length;){var o=n.shift();if(t=t[o],u(t))return}return u(t)?void 0:t[r]}function h(t,e){function n(t){return o.length>=10?void e(o.concat(),t):(r=e(o.concat(),t),void(r!==!1&&i(t)&&Object.keys(t).forEach(function(e){o.push(e),n(t[e]),o.pop()})))}var r,o=[];n(t)}function d(t,e){h(t,function(t,n){if("object"!=typeof n||t.length>=10)return void e(t.concat(),n)})}function m(t,e){this._config={},this.load(t||{}),this.clearRecord(),this.emit("change",this._state)}function y(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}):t[e]=n}var v=n(37),b=function(t){return Function.prototype.toString.call(t)},g=b(Object);m.prototype=new v,m.prototype.load=function(t){this._state=t,this.emit("change",this._state)},m.prototype.config=function(t,e){this._config[t]=e},m.prototype.toJS=function(){return this._state},m.prototype.get=function(t){return t?this.cursor(t)():this._state},m.prototype.set=function(t,e){return this.cursor(t).update(e)},m.prototype.update=m.prototype.set,m.prototype.cursor=function t(e,n){function o(t){return o.get(t)}function i(t){if(t||(t=[]),n)throw Error("cursor doesn't support a second argument");if("string"!=typeof t&&!Array.isArray(t))throw Error("State.prototype.cursor only accept string or array, "+typeof t+" is forbidden");return"string"==typeof t&&(t=t.split(".")),t}function a(t){l._config.SKIP_TYPE_CHECK||s(t)||u("You should only update a cursor with Object, Array or other basic types, "+t.constructor.name+' is not supported officially! Please fix it or call state.config("SKIP_TYPE_CHECK", true) to skip type-check.')}var l=this,u="undefined"!=typeof console&&console.warn&&console.warn.bind(console);return e=i(e),o.get=function(t){return"string"==typeof t&&(t=t.split(".")),f(l,["_state"].concat(e).concat("undefined"==typeof t?[]:t))},o.update=function(t,n){function o(t,e,n){for(var o=1;o<e.length;){var i=e.slice(0,o);i.length&&w.assign(t,i,r(f(t,i))),o++}p(t,e.concat(),n),t.emit("change",t._state),t.emit("update",{host:t,path:e.slice(1),oldval:u,newval:n})}if("function"==typeof t){var i=["_state"].concat(e),s=t(c(f(l,i)));return a(s),void o(l,i,s)}1===arguments.length&&(n=t,t=[]),"string"==typeof t&&(t=t.split("."));var i=["_state"].concat(e.concat(t)),u=f(l,i.concat());a(n),u!==n?o(l,i.concat(),n):l.emit("message",{type:"no-update",path:i.slice(1),value:n})},o.mergeUpdate=function(t){var n,o=[];d(t,function(t,r){var i=["_state"].concat(e).concat(t);n=!(f(l,i.concat())===r),n&&o.push([i.concat(),r])});var i=[],s="!@#@";o.forEach(function(t){for(var e=1,n=t[0],o=t[1];e<n.length;){var a=n.slice(0,e);if(i.indexOf(a.join(s))>-1)break;i.push(a.join(s)),a.length&&w.assign(l,a,r(f(l,a))),e++}p(l,n.concat(),o),l.emit("update",{host:l,path:n.slice(1),oldval:f(l,n),newval:o})}),o.length?l.emit("change",l._state):l.emit("message",{type:"no-update-by-merge",path:e,value:t})},o.cursor=function(n){return t(e.concat(i(n)))},o},m.prototype.cursorFromObject=function(t){if("object"!=typeof t)throw Error("parameter for cursorFromObject must be an object");var e=null;return h(this._state,function(n,r){if(r===t)return e=n,!1}),e?this.cursor(e):void 0},m.prototype.namespace=function(t){var e=this;if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw Error("namespace only accept string or array "+typeof t+" is forbiddne");return{cursor:function(n){if(n||(n=[]),"string"!=typeof n&&!Array.isArray(n))throw Error("State.prototype.cursor only accept string or array, "+typeof n+" is forbidden");return"string"==typeof n&&(n=n.split(".")),e.cursor(t.concat(n))}}},m.prototype.clearRecord=function(){this._records=[],this._recordIndex=-1},m.prototype.canUndo=function(){var t=this._records[this._recordIndex-1];return!!t},m.prototype.canRedo=function(){var t=this._records[this._recordIndex+1];return!!t},m.prototype.undo=function(){var t=this._records[this._recordIndex-1];t&&(this.load(t),this._recordIndex--)},m.prototype.redo=function(){var t=this._records[this._recordIndex+1];t&&(this.load(t),this._recordIndex++)},m.prototype.snapshot=function(){this._records[this._recordIndex+1]=this._state,this._records.length=this._recordIndex+2,this._recordIndex++},m.util={push:function(t,e){return t.concat([e])},unshift:function(t,e){return[e].concat(t)},pop:function(t){return l(t,t.length-1)},shift:function(t){return l(t,0)},sort:function(t,e){return t.concat().sort(e)},reverse:function(t){return t.concat().reverse()},splice:function(t){var e=t.concat(),n=[].slice.call(arguments,1);return e.splice.apply(e,n),e},remove:l,merge:r},m.X_PREFIX="x",m.injectPrototype=function(){["push","unshift","pop","shift","sort","reverse","splice","remove"].forEach(function(t){y(Array.prototype,"x"+t,function(e,n){return m.util[t](this,e,n)})}),y(Array.prototype,m.X_PREFIX+"splice",function(){return m.util.splice.apply(null,[this].concat([].slice.call(arguments)))}),y(Object.prototype,m.X_PREFIX+"merge",function(t,e,n,o,i){return r(this,t,e,n,o,i)})},m.prototype.util=m.util,m.prototype.injectPrototype=m.injectPrototype,t.exports=m;var w=m.INNER_FUNC={assign:p,keyPathsCall:d}},37:function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){}var i=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create&&"~";o.prototype._events=void 0,o.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)i.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},o.prototype.emit=function(t,e,n,r,o,i){var a=s?s+t:t;if(!this._events||!this._events[a])return!1;var c,l,u=this._events[a],p=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,i),!0}for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),p){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,n);break;default:if(!c)for(f=1,c=new Array(p-1);f<p;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},o.prototype.on=function(t,e,n){var o=new r(e,n||this),i=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.once=function(t,e,n){var o=new r(e,n||this,!0),i=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.removeListener=function(t,e,n,r){var o=s?s+t:t;if(!this._events||!this._events[o])return this;var i=this._events[o],a=[];if(e)if(i.fn)(i.fn!==e||r&&!i.once||n&&i.context!==n)&&a.push(i);else for(var c=0,l=i.length;c<l;c++)(i[c].fn!==e||r&&!i[c].once||n&&i[c].context!==n)&&a.push(i[c]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[s?s+t:t]:this._events=s?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,t.exports=o},38:function(t,e,n){"use strict";t.exports={muteConsole:!1,isDev:!1}},40:function(t,e,n){var r,o;/*!
	  Copyright (c) 2017 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var s=n.apply(null,r);s&&t.push(s)}else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?(n.default=n,t.exports=n):(r=[],o=function(){return n}.apply(e,r),!(void 0!==o&&(t.exports=o)))}()},41:function(t,e,n){t.exports=n(42)()},42:function(t,e,n){"use strict";function r(){}var o=n(27);t.exports=function(){function t(t,e,n,r,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},43:function(t,e,n){function r(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(t){if(!g(t))return t;var e=[];for(var n in t)null!=t[n]&&s(e,n,t[n]);return e.join("&")}function s(t,e,n){return Array.isArray(n)?n.forEach(function(n){s(t,e,n)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function a(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;i<s;++i)n=o[i],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function c(t){var e,n,r,o,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,c=i.length;a<c;++a)n=i[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=_(n.slice(e+1)),s[r]=o;return s}function l(t){return/[\/+]json\b/.test(t)}function u(t){return t.split(/ *; */).shift()}function p(t){return v(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})}function f(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new f(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var r=new Error(e.statusText||"Unsuccessful HTTP response");r.original=t,r.response=e,r.status=e.status,n.callback(r,e)})}function d(t,e){var n=w("DELETE",t);return e&&n.end(e),n}var m,y=n(44),v=n(45),b=n(46),g=n(47);m="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var w=t.exports=n(48).bind(null,h);w.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var _="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};w.serializeObject=i,w.parseString=a,w.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},w.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},f.prototype.get=function(t){return this.header[t.toLowerCase()]},f.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=u(e);var n=p(e);for(var r in n)this[r]=n[r]},f.prototype.parseBody=function(t){var e=w.parse[this.type];return!e&&l(this.type)&&(e=w.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},f.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},w.Response=f,y(h.prototype);for(var E in b)h.prototype[E]=b[E];h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.type=function(t){return this.set("Content-Type",w.types[t]||t),this},h.prototype.responseType=function(t){return this._responseType=t,this},h.prototype.accept=function(t){return this.set("Accept",w.types[t]||t),this},h.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(t+":"+e);this.set("Authorization","Basic "+r);break;case"auto":this.username=t,this.password=e}return this},h.prototype.query=function(t){return"string"!=typeof t&&(t=i(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},h.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},h.prototype.send=function(t){var e=g(t),n=this._header["content-type"];if(e&&g(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||o(t)?this:(n||this.type("json"),this)},f.prototype.parse=function(t){return m.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},f.prototype.serialize=function(t){return this._parser=t,this},h.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,n=this.xhr=w.getXHR(),i=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(e){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var c=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=c);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=c)}catch(t){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),i&&(i=w.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var u=this._header["content-type"],p=this._parser||w.serialize[u?u.split(";")[0]:""];!p&&l(u)&&(p=w.serialize["application/json"]),p&&(a=p(a))}for(var f in this.header)null!=this.header[f]&&n.setRequestHeader(f,this.header[f]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof a?a:null),this},w.Request=h,w.get=function(t,e,n){var r=w("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},w.head=function(t,e,n){var r=w("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},w.del=d,w.delete=d,w.patch=function(t,e,n){var r=w("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},w.post=function(t,e,n){var r=w("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},w.put=function(t,e,n){var r=w("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},44:function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},45:function(t,e){t.exports=function(t,e,n){for(var r=0,o=t.length,i=3==arguments.length?n:t[r++];r<o;)i=e.call(null,i,t[r],++r,t);return i}},46:function(t,e,n){var r=n(47);e.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},e.parse=function(t){return this._parser=t,this},e.timeout=function(t){return this._timeout=t,this},e.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},e.use=function(t){return t(this),this},e.get=function(t){return this._header[t.toLowerCase()]},e.getHeader=e.get,e.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},e.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},e.field=function(t,e){return this._getFormData().append(t,e),this}},47:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},48:function(t,e){function n(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}t.exports=n},201:function(t,e){"use strict";t.exports={mge:function(t){var e=t;if(window&&window.LXAnalytics){if(t&&"string"==typeof t)try{e=JSON.parse(e)}catch(t){e={}}var n=e.type||"moduleClick";"view"===e.type?n="moduleView":"click"===e.type?n="moduleClick":"pv"===e.type?n="pageView":"pd"===e.type&&(n="pageDisappear");var r=e.bid,o=e.lab||{};"order"===n||"pay"===n?window.LXAnalytics(n,r,"",o):"pageView"===n||"pageDisappear"===n?window.LXAnalytics(n,o):window.LXAnalytics(n,r,o)}}}},204:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l,u=n(3),p=r(u),f=n(33),h=n(61),d=r(h),m=n(205),y=r(m),v=n(201),b=r(v),g=n(206),w=r(g),_=n(207),E=r(_),x=(0,f.connect)((l=c=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={href:"javascript:;"},n}return s(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.midas1,n=t.paramTrans,r=void 0===n||n;e&&"string"==typeof e&&y.default.sendLoadLog(e),this.props.href&&r&&this.setState({href:E.default.getUrlWithTransferParams(this.state.href)});var o=d.default.findDOMNode(this.refs.link);this.props.midas3&&w.default.unveil(o,null,!0)&&(y.default.sendViewLog(this.props.midas3),o.removeAttribute("data-midas3"))},e.prototype.componentWillMount=function(){this.props.href&&this.setState({href:this.props.href||this.state.href})},e.prototype.handleClick=function(t){var e=this.props,n=e.gaevent,r=void 0===n?"":n,o=e.midas2,i=void 0===o?"":o,s=e.onClick;if(r&&"string"==typeof r)try{var a=JSON.parse(r);b.default.mge(a)}catch(t){b.default.mge({bid:r})}i&&"string"==typeof r&&y.default.sendClickLog(i),s&&"function"==typeof s&&s.call(this,t)},e.prototype.render=function(){var t=this.props,e=t.midas3,n=void 0===e?"":e,r=t.className,o=void 0===r?"":r,i=this.state.href;return n?p.default.createElement("a",{ref:"link",href:i,className:o,"data-midas3":n,onClick:this.handleClick.bind(this)},this.props.children):p.default.createElement("a",{ref:"link",href:i,className:o,onClick:this.handleClick.bind(this)},this.props.children)},e}(u.Component),c.propTypes={href:p.default.PropTypes.string,className:p.default.PropTypes.string,gaevent:p.default.PropTypes.string,onClick:p.default.PropTypes.func,midas1:p.default.PropTypes.string,midas2:p.default.PropTypes.string,midas3:p.default.PropTypes.string},a=l))||a;e.default=x,t.exports=e.default},205:function(t,e){"use strict";t.exports={_send:function(t,e){var n="";if(t.indexOf("?")>-1)n=t;else{var r="http://s1.meituan.net/bs/meishi.meituan.com"===location.host,o=r?"http://s1.meituan.net/bs/mlog.dianping.com":"http://s1.meituan.net/bs/mlog.51ping.com";n="https://"+o+"/log?"+decodeURIComponent(t)}n=n.replace(/^https?:/,"https:"),n=n+"&referer="+encodeURIComponent(document.referrer)+"&t="+(new Date).getTime(),n.indexOf("act=")<0&&(n=n+"&act="+e);var i=new Image(1,1);i.onload=i.onerror=function(){i=null},i.src=n},sendClickLog:function(t){t&&this._send(t,2)},sendViewLog:function(t){t&&this._send(t,3)},sendLoadLog:function(t){t&&this._send(t,1)}}},206:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(43),s=r(i);t.exports={queryURL:function(t,e){t=t.replace(/^[^?=]*\?/gi,"").split("#")[0];var n={};return t.replace(/(^|&)([^&=]+)=([^&]*)/g,function(t,e,r,o){try{r=decodeURIComponent(r)}catch(t){}try{o=decodeURIComponent(o)}catch(t){}r in n?n[r]instanceof Array?n[r].push(o):n[r]=[n[r],o]:n[r]=/\[\]$/.test(r)?[o]:o}),e?n[e]:n},parseCookie:function(t){var e={};return decodeURI(t).split("; ").forEach(function(t){var n=t.split("="),r=o(n,2),i=r[0],s=r[1];e[i]=unescape(s)}),e},isEmptyObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)&&0===Object.keys(t).length},isEmptyArr:function(t){return"[object Array]"===Object.prototype.toString.call(t)&&0===t.length},isEmptyString:function(t){return"string"==typeof t&&!t.trim()},getDistance:function(t,e){var n=t||{},r=e||{},o="";if(n.lng&&n.lat&&r.lng&&r.lat){var i=+n.lng,s=+n.lat,a=+r.lng,c=+r.lat,l=i-a,u=s-c,p=(s+c)/2,f=(.05*p*p*p-19.16*p*p+47.13*p+110966)*l,h=(17*p+110352)*u,d=Math.sqrt(f*f+h*h);o=d<100?"<100m":d<1e3?parseInt(d,10)+"m":d<=1e4?parseFloat((d/1e3).toFixed(1))+"km":d<=1e5?parseInt(d/1e3,10)+"km":">100km"}return o},clearZero:function(t){var e=""+t;return e.split(".").length>1&&e.split(".")[1].length>2&&(e=""+(+e).toFixed(2)),parseFloat(e)},makePostRequest:function(t,e,n){s.default.post(t).send(e).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(t,e){n(t,e)})},compareVersion:function(t,e){var n=t.length,r=e.length,o=t.shift(),i=e.shift();return o===i?n>1&&r>1?this.compareVersion(t,e):n>=r:o>i},compare:function(t,e){if(Object.prototype.toString.call(t)===Object.prototype.toString.call(e)){var n=Object.prototype.toString.call(t);switch(n){case"[object Object]":return this.compareObject(t,e);case"[object Array]":return this.compareArray(t,e);case"[object String]":case"[object Number]":case"[object Boolean]":case"[object Undefined]":return t===e;case"[object Function]":return!1;default:return!1}}return!1},compareArray:function(t,e){var n=this;return t.length===e.length&&t.forEach(function(t,r){return n.compare(t,e[r])}),!1},compareObject:function(t,e){var n=this;return t=Object.keys(t),e=Object.keys(e),t.length===e.length&&t.forEach(function(t,r){return n.compare(t,e[r])}),!1},getImageUrl:function(t,e){var n="";return n=e?("string"==typeof t?t:"").replace(/^http:(\/\/mss.sankuai.com)/g,"$1"):("string"==typeof t?t:"").replace(/\/w.h/,"").split("@")[0].split("%")[0],n=n.replace(/^http:(\/\/p[01])/g,"$1"),n=n.replace(/^http:(\/\/qcloud.dpfile.com)/g,"$1"),n=n.replace(/^http:(\/\/s[01].meituan.net)/g,"$1"),n=n.replace(/^http:(\/\/mss-img.sankuai.com)/g,"$1"),n=n.replace(/^http:(\/\/s3plus.sankuai.com)/g,"$1"),n=n.replace(/^http:(\/\/s3plus-img.sankuai.com)/g,"$1")},getMaskedCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",o=""+t;o=o.split("");for(var i="",s=0;s<n;s++)i+=""+r;return o.splice(e,n,i),o.join("")},getMetric:function(t){var e=t||"/i/";return e="/"===e?"/i/":e,e=e.split("/"),e=e.filter(function(t){return""!==t}),e.join(".")},unveil:function(t,e,n){var r=50,o=50;e&&"[object Object]"===Object.prototype.toString.call(e)&&(o=isFinite(e.width)?+e.width:o,r=isFinite(e.height)?+e.heigth:r);var i=t.getBoundingClientRect(),s=document.documentElement.clientHeight,a=document.documentElement.clientWidth,c=i.height,l=i.width,u=c?c:r,p=l?l:o,f=i.bottom,h=f<=s,d=n?1:u,m=s-i.top,y=m>=d,v=i.left+l,b=v>=p,g=a-(i.right-l),w=g>=p;return!!((n||h)&&y&&b&&w)},isOnScreen:function(t,e,n){var r=50,o=50;e&&"[object Object]"===Object.prototype.toString.call(e)&&(o=isFinite(e.width)?+e.width:o,r=isFinite(e.height)?+e.height:r);var i=t.getBoundingClientRect(),s=document.documentElement.clientHeight,a=(document.documentElement.clientWidth,i.height),c=(i.width,a?a:r),l=i.bottom<=s&&i.bottom>=n,u=s-(i.bottom-a)>=c,p=l&&u,f=i.top>=n,h=s-i.top>=c,d=f&&h;return p&&d},isOffScreen:function(t,e){var n=t.getBoundingClientRect(),r=document.documentElement.clientHeight,o=(document.documentElement.clientWidth,n.height),i=(n.width,n.bottom<=r&&n.bottom>=e),s=r-(n.bottom-o)>=0,a=i&&s,c=n.top>=e,l=r-n.top>=0,u=c&&l;return!(a||u)},isNumber:function(t){return!(""===t||null===t||void 0===t||!isFinite(t))},getMtPoiDetailUrl:function(t,e,n,r){var o="/i/poi/"+n;return t?o=e?"imeituan://www.meituan.com/merchant?id="+n+"&channel=food":"imeituan://www.meituan.com/food/poi/detail?id="+n+"&showtype=food&channel=food":r&&(o="dianping://shopinfo?id="+n),o},getLatLng:function(t){var e=t||{},n=e.lat,r=e.lng,o=e.latlng;return o=o&&o.split(",")||[],n=n?n:o[0],r=r?r:o[1],{lat:n||0,lng:r||0}},viewAnalytic:function(t,e,n){var r=this,o=document.querySelectorAll("["+t+"]");0!==o.length&&(o=Array.from(o),o.forEach(function(o){if(r.unveil(o)){var i={};try{i=JSON.parse(o.getAttribute(t)||"{}")}catch(t){console.error("json parse error lib 1",t)}n&&Object.assign(i.lab,n),e&&e(i),o.removeAttribute(t)}}))},removedImgProtocol:function(t){return t.replace(/^http:/,"")},getPoiHref:function(t){var e="";return e="iphone"===t||"android"===t?"imeituan://www.meituan.com/merchant?channel=food&id=":"/i/poi/"},getDealHref:function(t){var e="";return e="iphone"===t||"android"===t?"imeituan://www.meituan.com/deal?channel=food&did=":"/i/deal/"},getGrabHref:function(t,e){var n="";return n=t?e?"imeituan://www.meituan.com/food/submit/order?dealID=":"imeituan://www.meituan.com/food/submitorder?dealID=":"https://meishi.meituan.com/i/order/"},getBuyUrl:function(t){var e="";return e="iphone"===t?"imeituan://www.meituan.com/food/submitorder?dealID=":"android"===t?"imeituan://www.meituan.com/submitorder?dealId=":"/i/order/"},getPrice:function(t){var e=(t/100).toFixed(1);return 10*e%10===0&&(e=parseInt(e)),e},formatPrice:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},isLoginServer:function(t,e){return!(!+t||!e)},jsEscapeString:function(t){return(""+t).replace(/["'\\\n\r\u2028\u2029]/g,function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})},handleName:function(t){return t.forEach(function(t){t.userName&&t.userName.length>5?t.userName=t.userName.split("").splice(0,3).join("")+"***":t.userName||(t.userName="美团用户")}),t},enableBounces:function(t){t&&t.ready(function(){t.setBouncesEnabled&&t.setBouncesEnabled({enabled:0})})},hideNavigationBar:function(t){t&&t.ready(function(){t.setNavigationBarHidden&&t.setNavigationBarHidden({flag:1})})}}},207:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(208),i=r(o),s=n(215),a=r(s);t.exports={_getConfig:function(){return{paramList:["source","_sr","lch"],schema:[{name:"imeituan",urlMatchParams:["url","redirectURL"]},"meituanpayment"],ignore:["tel","mailto","ssh","javascript"]}},_getParamsToTranser:function(){var t=this._getConfig().paramList,e=i.default.getUrlParams(),n={};return t.forEach(function(t){t in e&&(n[t]=e[t])}),n},_insertParamsToUrl:function(t,e){var n="",r=e.indexOf("#"),o=e;r>0&&(n=e.slice(r),o=e.slice(0,r));var s=o.indexOf("?"),c=o,l={};s>0&&(l=i.default.getUrlParams(o.slice(s,o.length)),c=o.slice(0,s));var u=/^imeituan:\/\//.test(e)||/^dianping:\/\//.test(e),p={},f=this._getConfig();Object.keys(t).forEach(function(e){(!u||u&&"lch"===e)&&(p[e]=l[e]||t[e])}),Object.keys(l).forEach(function(t){f.paramList.indexOf(t)===-1&&(p[t]=l[t])});var h=void 0,d=a.default.stringify(p);return h=d?c+"?"+d+n:c+n},_checkSchema:function(t,e){var n=t||[];return!!n.length&&new RegExp("^("+n.join("|")+"):").exec(e)},_checkUrlMatchParams:function(t,e){var n=t||[];return!!n.length&&new RegExp("[\\&\\?]("+n.join("|")+")(?=[\\&=]|$)").exec(e)},getUrlWithTransferParams:function(t){var e=this,n=t,r=this._getConfig();if(!n||/^#/.test(n)||this._checkSchema(r.ignore,n))return n;var o=[],i={};r.schema=r.schema||[],r.schema.forEach(function(t){"[object Object]"===Object.prototype.toString.call(t)?(o.push(t.name),i[t.name]=t.urlMatchParams):o.push(t)});var s=this._getParamsToTranser(),a=this._checkSchema(o,n);if(a){var c=i[a[1]];if(c&&this._checkUrlMatchParams(c,n)){var l=new RegExp("([\\&\\?](?:"+c.join("|")+")=?)(.*?)(?=\\&|$)");n=n.replace(l,function(t,n,r){if(!r.length)return n;var o=e._insertParamsToUrl(s,decodeURIComponent(r));return n+encodeURIComponent(o)})}else n=this._insertParamsToUrl(s,n)}else n=this._insertParamsToUrl(s,n);return n}}},208:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(209),o=n(211),i=n(212),s=r.buildservice.host,a=r.buildservice.path,c=r.buildservice.port,l=!0,u=r.buildservice.repo,p=r.buildservice.hash;p=p.slice(0,14);var f=s+(c?":"+c:"");if(a)switch(!0){case"/"===a.charAt(0)&&/\/$/.test(f):f+=a.slice(1);break;case"/"!==a.charAt(0)&&!/\/$/.test(f):f=f+"/"+a;break;default:f+=a}/\/$/.test(f)&&(f=f.slice(0,-1));var h=/^https?:\/\/|^\/\//i;e.default={prefix:f,url:function(t,e){return o(t,e,{prefix:f,noMinify:l,repo:u,hash:p})},isAbsolute:function(t){return h.test(t)},getUrlParams:function(t){if(t=t||("undefined"!=typeof window?document.location.search:""),!t)return{};for(var e={},n=0===t.indexOf("?")?t.slice(1):t,r=n.split("&"),o=0;o<r.length;o++){var i=r[o].split("=");2===i.length&&(e[i[0]]=i[1])}return e},setUrlParam:function(t,e){if(t=t||"",t.indexOf("?")!=-1){t=t.substring(1);for(var n=t.split("&"),r=[],o=0,i=0;i<n.length;i++)if(n[i]){var s=n[i].split("=");e.key==s[0]?(o=1,r.push(e.key+"="+e.val)):"page"!=s[0]&&"token"!=s[0]&&r.push(n[i])}return o||r.push(e.key+"="+e.val),"?"+r.join("&")}return"?"+e.key+"="+e.val},getImeituanJumpUrl:function(t){var e=i.parse(t);if(!e)return"";var n=e.protocol;if("imeituan:"===n){var r=e.pathname;if("/web"===r){var o=decodeURIComponent(e.query);return o.slice(4)||""}return""}return t}},t.exports=e.default},209:function(t,e,n){"use strict";var r=n(210),o="undefined"!=typeof window?window:{appConfig:r};t.exports=o.appConfig},210:function(t,e){t.exports={}},211:function(t,e){"use strict";function n(t){for(var e=t.length,n=0,r=0;r<e;r+=3)n+=t.charCodeAt(r)||0;return n}t.exports=function(t,e,r){var o=r.prefix,i=r.noMinify,s=r.repo,a=r.hash;t=[].concat(t),e||(e=/(js|jsx)$/.test(t[0])?"js":/(css)$/.test(t[0])?"css":"file");var c=/js|css/.test(e)&&i?"m":"",l=t.join(","),u=o.indexOf("*")>-1?o.replace("*",n(l)%2):o;return u="/"===u.charAt(0)?u:"//"+u,u+"/"+e+c+"?f="+s+":"+l+"@"+a}},212:function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&l.isObject(t)&&t instanceof r)return t;var o=new r;return o.parse(t,e,n),o}function i(t){return l.isString(t)&&(t=o(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}var c=n(213),l=n(214);e.parse=o,e.resolve=s,e.resolveObject=a,e.format=i,e.Url=r;var u=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(d),y=["%","/","?",";","#"].concat(m),v=["/","?","#"],b=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=n(215);r.prototype.parse=function(t,e,n){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=r!==-1&&r<t.indexOf("#")?"?":"#",i=t.split(o),s=/\\/g;i[0]=i[0].replace(s,"/"),t=i.join(o);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var p=f.exec(a);if(p)return this.path=a,this.href=a,this.pathname=p[1],p[2]?(this.search=p[2],e?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=u.exec(a);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,a=a.substr(h.length)}if(n||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===a.substr(0,2);!O||h&&E[h]||(a=a.substr(2),this.slashes=!0)}if(!E[h]&&(O||h&&!x[h])){for(var j=-1,k=0;k<v.length;k++){var C=a.indexOf(v[k]);C!==-1&&(j===-1||C<j)&&(j=C)}var N,P;P=j===-1?a.lastIndexOf("@"):a.lastIndexOf("@",j),P!==-1&&(N=a.slice(0,P),a=a.slice(P+1),this.auth=decodeURIComponent(N)),j=-1;for(var k=0;k<y.length;k++){var C=a.indexOf(y[k]);C!==-1&&(j===-1||C<j)&&(j=C)}j===-1&&(j=a.length),this.host=a.slice(0,j),a=a.slice(j),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var A=this.hostname.split(/\./),k=0,M=A.length;k<M;k++){var R=A[k];if(R&&!R.match(g)){for(var q="",L=0,U=R.length;L<U;L++)q+=R.charCodeAt(L)>127?"x":R[L];if(!q.match(g)){var I=A.slice(0,k),D=A.slice(k+1),H=R.match(w);H&&(I.push(H[1]),D.unshift(H[2])),D.length&&(a="/"+D.join(".")+a),this.hostname=I.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=c.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!_[d])for(var k=0,M=m.length;k<M;k++){var X=m[k];if(a.indexOf(X)!==-1){var z=encodeURIComponent(X);z===X&&(z=escape(X)),a=a.split(X).join(z)}}var $=a.indexOf("#");$!==-1&&(this.hash=a.substr($),a=a.slice(0,$));var K=a.indexOf("?");if(K!==-1?(this.search=a.substr(K),this.query=a.substr(K+1),e&&(this.query=T.parse(this.query)),a=a.slice(0,K)):e&&(this.search="",this.query={}),a&&(this.pathname=a),x[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",Q=this.search||"";this.path=B+Q}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(i=T.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(l.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(n[u]=t[u])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol]){for(var p=Object.keys(t),f=0;f<p.length;f++){var h=p[f];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||E[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=b||v||n.host&&t.pathname,w=g,_=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],T=n.protocol&&!x[n.protocol];if(T&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),g=g&&(""===d[0]||""===_[0])),
b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),n.search=t.search,n.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(T){n.hostname=n.host=_.shift();var O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=_.slice(-1)[0],k=(n.host||t.host||_.length>1)&&("."===j||".."===j)||""===j,C=0,N=_.length;N>=0;N--)j=_[N],"."===j?_.splice(N,1):".."===j?(_.splice(N,1),C++):C&&(_.splice(N,1),C--);if(!g&&!w)for(;C--;C)_.unshift("..");!g||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),k&&"/"!==_.join("/").substr(-1)&&_.push("");var P=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(T){n.hostname=n.host=P?"":_.length?_.shift():"";var O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return g=g||n.host&&_.length,g&&!P&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},213:function(t,e,n){var r;(function(t,o){!function(i){function s(t){throw RangeError(A[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function c(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(S,".");var o=t.split("."),i=a(o,e).join(".");return r+i}function l(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function u(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=q(t>>>10&1023|55296),t=56320|1023&t),e+=q(t)}).join("")}function p(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:_}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?R(t/O):t>>1,t+=R(t/e);t>M*x>>1;r+=_)t=R(t/M);return R(r+(M+1)*t/(t+T))}function d(t){var e,n,r,o,i,a,c,l,f,d,m=[],y=t.length,v=0,b=k,g=j;for(n=t.lastIndexOf(C),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&s("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(i=v,a=1,c=_;o>=y&&s("invalid-input"),l=p(t.charCodeAt(o++)),(l>=_||l>R((w-v)/a))&&s("overflow"),v+=l*a,f=c<=g?E:c>=g+x?x:c-g,!(l<f);c+=_)d=_-f,a>R(w/d)&&s("overflow"),a*=d;e=m.length+1,g=h(v-i,e,0==i),R(v/e)>w-b&&s("overflow"),b+=R(v/e),v%=e,m.splice(v++,0,b)}return u(m)}function m(t){var e,n,r,o,i,a,c,u,p,d,m,y,v,b,g,T=[];for(t=l(t),y=t.length,e=k,n=0,i=j,a=0;a<y;++a)m=t[a],m<128&&T.push(q(m));for(r=o=T.length,o&&T.push(C);r<y;){for(c=w,a=0;a<y;++a)m=t[a],m>=e&&m<c&&(c=m);for(v=r+1,c-e>R((w-n)/v)&&s("overflow"),n+=(c-e)*v,e=c,a=0;a<y;++a)if(m=t[a],m<e&&++n>w&&s("overflow"),m==e){for(u=n,p=_;d=p<=i?E:p>=i+x?x:p-i,!(u<d);p+=_)g=u-d,b=_-d,T.push(q(f(d+g%b,0))),u=R(g/b);T.push(q(f(u,0))),i=h(n,v,r==o),n=0,++r}++n,++e}return T.join("")}function y(t){return c(t,function(t){return N.test(t)?d(t.slice(4).toLowerCase()):t})}function v(t){return c(t,function(t){return P.test(t)?"xn--"+m(t):t})}var b=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof o&&o);b.global!==b&&b.window!==b&&b.self!==b||(i=b);var g,w=2147483647,_=36,E=1,x=26,T=38,O=700,j=72,k=128,C="-",N=/^xn--/,P=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=_-E,R=Math.floor,q=String.fromCharCode;g={version:"1.3.2",ucs2:{decode:l,encode:u},decode:d,encode:m,toASCII:v,toUnicode:y},r=function(){return g}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(2)(t),function(){return this}())},214:function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},215:function(t,e,n){"use strict";e.decode=e.parse=n(216),e.encode=e.stringify=n(217)},216:function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var s=/\+/g;t=t.split(e);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var c=t.length;a>0&&c>a&&(c=a);for(var l=0;l<c;++l){var u,p,f,h,d=t[l].replace(s,"%20"),m=d.indexOf(r);m>=0?(u=d.substr(0,m),p=d.substr(m+1)):(u=d,p=""),f=decodeURIComponent(u),h=decodeURIComponent(p),n(i,f)?Array.isArray(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i}},217:function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(o){var i=encodeURIComponent(n(o))+r;return Array.isArray(t[o])?t[o].map(function(t){return i+encodeURIComponent(n(t))}).join(e):i+encodeURIComponent(n(t[o]))}).join(e):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(t)):""}},236:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(3),c=r(a),l=function(t){function e(){var n,r,s;o(this,e);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=i(this,t.call.apply(t,[this].concat(c))),r.state={show:!1,text:""},s=n,i(r,s)}return s(e,t),e.prototype.show=function(t,e){var n=this;if(!this.state.show){var r=e||1e3;this.setState({text:t,show:!0}),setTimeout(function(){return n.setState({show:!1})},r)}},e.prototype.hide=function(){this.setState({show:!1})},e.prototype.render=function(){var t={display:this.state.show?"block":"none"};return c.default.createElement("div",{className:"meishi-msg-toast",style:t},c.default.createElement("div",{className:"meishi-msg-toast-content"},this.state.text))},e}(a.Component);e.default=l,t.exports=e.default},240:function(t,e,n){var r=n(241);t.exports=function(t,e,n){return void 0===n?r(t,e,!1):r(t,n,e!==!1)}},241:function(t,e){t.exports=function(t,e,n,r){function o(){function o(){s=Number(new Date),n.apply(c,u)}function a(){i=void 0}var c=this,l=Number(new Date)-s,u=arguments;r&&!i&&o(),i&&clearTimeout(i),void 0===r&&l>t?o():e!==!0&&(i=setTimeout(r?a:o,void 0===r?t-l:t))}var i,s=0;return"boolean"!=typeof e&&(r=n,n=e,e=void 0),o}},298:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l=n(3),u=r(l),p=n(61),f=r(p),h=n(240),d=r(h),m=n(299),y=r(m),v=n(302),b=r(v),g=n(303),w=r(g),_=n(304),E=r(_),x=n(236),T=r(x),O=n(305),j=r(O),k=n(306),C=r(k),N=n(307),P=(r(N),n(308)),S=r(P),A=n(205),M=r(A),R=n(206),q=r(R),L=n(201),U=(c=a=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.delegateScroll=function(t,e,n){window.setTimeout(function(){var r=document.querySelectorAll("["+t+"]");r=Array.from(r),r.forEach(function(r){if(q.default.unveil(r,null,n)){var o=r.getAttribute(t);o&&e&&e(o,r),r.removeAttribute(t)}})},0)},e.prototype.handleScroll=function(t){this.delegateScroll("data-midas3",M.default.sendViewLog.bind(M.default),!0),this.delegateScroll("data-view",L.mge)},e.prototype.adjustHeight=function(){var t=window&&window.navigator&&window.navigator.userAgent,e=1;t&&/(ipad|iphone|ipod)/i.exec(t)&&window.devicePixelRatio>=2&&(e*=2);var n=f.default.findDOMNode(this.refs.cw);if("meituan"===this.props.scene||"dianping"===this.props.scene)n.style.minHeight=document.documentElement.clientHeight+"px",n.style.marginBottom="0px";else{var r=document.documentElement.clientHeight-530*e/2;n.style.minHeight=r+"px";var o=document.getElementById("contentWrapper");o&&(["c_05wQm","c_yDrDR","c_6NCia"].indexOf(this.props.pageId)>-1?o.style.minHeight=r-66*e/2+"px":o.style.minHeight=r+"px")}},e.prototype.showToast=function(t,e){this.refs.toast.show(t,e)},e.prototype.componentWillMount=function(){this.setState({showOpenAppDialog:this.props.showOpenAppDialog})},e.prototype.componentDidMount=function(){var t=this;this.listener=(0,C.default)(window,"resize",this.adjustHeight.bind(this)),this.adjustHeight(),"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){window.FastClick&&window.FastClick.attach(document.body)},!1),window.addEventListener("scroll",(0,d.default)(300,t.handleScroll.bind(t))),window.addEventListener("touchmove",(0,d.default)(300,t.handleScroll.bind(t))),this.handleScroll()},e.prototype.componentWillUnmount=function(){this.listener.remove(),window.removeEventListener("scroll",this.handleScroll.bind(this)),window.removeEventListener("touchmove",this.handleScroll.bind(this))},e.prototype.render=function(){var t=this.props,e=(t.pageId,t.id,t.userName),n=void 0===e?"":e,r=t.cityName,o=void 0===r?"北京":r,i=(t.backUrl,t.scene),s=void 0===i?"i":i,a=t.appDownloadConfig,c=void 0===a?null:a,l=t.showAppDownload,p=void 0===l||l,f=t.useNewHeader,h=void 0!==f&&f,d=t.showToTop,m=void 0===d||d,v=t.hidehf,g=void 0===v?"":v,_=Object.assign({showToast:this.showToast.bind(this)},this.props),x=h?u.default.createElement(b.default,_):u.default.createElement(y.default,_);return!h||"dianping"!==s&&"meituan"!==s?"true"===g||"dianping"===s||"meituan"===s||"dpwxapp"===s||"mtwxapp"===s?u.default.createElement("div",{className:"main-content"},u.default.createElement("div",{className:"content-wrapper",ref:"cw"},this.props.children),"meituan"===s&&"true"===m?u.default.createElement(E.default,null):"","meituan"===s?u.default.createElement(T.default,{ref:"toast"}):""):u.default.createElement("div",{className:"main-content"},x,u.default.createElement("div",{className:"content-wrapper",ref:"cw"},this.props.children),u.default.createElement(E.default,null),u.default.createElement(w.default,{userName:n,cityName:o}),u.default.createElement(T.default,{ref:"toast"}),u.default.createElement(j.default,{ref:"dialog"}),p&&c?u.default.createElement(S.default,c):""):u.default.createElement("div",{className:"main-content"},x,u.default.createElement("div",{className:"content-wrapper",ref:"cw"},this.props.children),"meituan"===s?u.default.createElement(E.default,null):"","meituan"===s?u.default.createElement(T.default,{ref:"toast"}):"")},e}(l.Component),a.propTypes={pageId:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]).isRequired,id:u.default.PropTypes.oneOfType([u.default.PropTypes.number,u.default.PropTypes.string]),userName:u.default.PropTypes.string,cityName:u.default.PropTypes.string,backUrl:u.default.PropTypes.string,scene:u.default.PropTypes.string,hidehf:u.default.PropTypes.string},c);e.default=U,t.exports=e.default},299:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c,l,u,p=n(3),f=r(p),h=n(33),d=n(300),m=r(d),y=n(301),v=r(y),b=n(204),g=r(b),w=(0,h.connect)((u=l=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={showNavList:!1,referer:""},n.pageConfig={c_05wQm:{title:"美食",backUrl:"https://i.meituan.com/",showSearch:!0,showAccount:!0},c_6NCia:{title:"商家详情",showCollectPoi:!0,showMenu:!0},c_hrrOb:{title:"商家相册"},c_yDrDR:{title:"团购详情",showCollectDeal:!0,showMenu:!0},c_4A8XZ:{title:"商家列表",showHome:!0,showAccount:!0},c_8rqx6:{title:"团购详情",showHome:!0,showSearch:!0},c_FxXkF:{title:"提交订单"},c_lwcCr:{title:"如何获取抵用券",showMenu:!0},c_f8u6k:{title:"支付订单",showHome:!0,showAccount:!0},c_AFSGC:{title:"订单详情",showHome:!0,showSearch:!0},c_gphEA:{title:"申请退款",showMenu:!0},c_CwLIh:{title:"申请退款",showMenu:!0},c_pLhT1:{title:"出错了",showMenu:!0},c_Vvloa:{title:"出错了"}},n}return s(e,t),e.prototype.goBack=function(t){t.preventDefault(),window.history.back()},e.prototype.toggleNavList=function(t){t.preventDefault(),this.setState({showNavList:!this.state.showNavList})},e.prototype.hideNavList=function(t){t&&t.preventDefault(),this.setState({showNavList:!1})},e.prototype.componentDidMount=function(){this.setState({referer:document.referrer})},e.prototype.render=function(){var t=this,e=this.props,n=e.pageId,r=void 0===n?"c_pLhT1":n,o=e.id,i=void 0===o?0:o,s=e.showToast,c=void 0===s?a:s,l=e.backUrl,u=void 0===l?"":l,p=e.title,h=this.state,d=h.showNavList,y=h.referer,b=this.pageConfig[r]||this.pageConfig.c_pLhT1;b.backUrl=u||b.backUrl||"";var w=f.default.createElement("div",{className:"nav-wrap-left"},b.backUrl?f.default.createElement(g.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+b.backUrl+'", "referer": "'+y+'"}}',className:"react back",href:b.backUrl},f.default.createElement("i",{className:"text-icon icon-back"})):f.default.createElement(g.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+b.backUrl+'", "referer": "'+y+'"}}',className:"react back",href:"#",onClick:function(e){return t.goBack(e)}},f.default.createElement("i",{className:"text-icon icon-back"}))),_=f.default.createElement("div",{className:"nav-wrap-right"},b.showHome&&f.default.createElement(g.default,{gaevent:"b_drpHl",href:"https://i.meituan.com/"},f.default.createElement("span",{className:"nav-btn"},f.default.createElement("i",{className:"text-icon icon-sp icon-home icon-home-lg"}),"首页")),b.showAccount&&f.default.createElement(g.default,{gaevent:"b_dqsWt",href:"https://i.meituan.com/account"},f.default.createElement("span",{className:"nav-btn"},f.default.createElement("i",{className:"text-icon icon-sp icon-person-40"}),"我的")),b.showSearch&&f.default.createElement(g.default,{gaevent:"b_zwCC4",href:"https://i.meituan.com/s/?cateId=1&cateType=poi"},f.default.createElement("span",{className:"nav-btn"},f.default.createElement("i",{className:"text-icon icon-sp icon-search"}),"搜索")),b.showCollectPoi&&f.default.createElement(v.default,{showToast:c,handleClick:this.hideNavList.bind(this),id:i}),b.showCollectDeal&&f.default.createElement(m.default,{showToast:c,handleClick:this.hideNavList.bind(this),id:i}),b.showMenu&&f.default.createElement(g.default,{gaevent:'{"bid":"b_WB0Z9","lab":{"operate":"'+(d?"hide":"show")+'"}}',href:"#",onClick:this.toggleNavList.bind(this)},f.default.createElement("span",{className:"nav-btn"},f.default.createElement("i",{className:"text-icon icon-sp icon-menu"}),"导航"))),E="";return b.showMenu&&(E=f.default.createElement("div",{className:d?"nav-dropdown active":"nav-dropdown"},f.default.createElement("ul",null,f.default.createElement("li",null,f.default.createElement(g.default,{gaevent:"b_IYbHQ",href:"https://i.meituan.com/"},f.default.createElement("i",{className:"text-icon icon-sp icon-home"}),"首页")),f.default.createElement("li",null,f.default.createElement(g.default,{gaevent:"b_6U5je",href:"https://i.meituan.com/account/"},f.default.createElement("i",{className:"text-icon icon-sp icon-person-34"}),"我的"))))),f.default.createElement("header",{className:"navbar"},w,f.default.createElement("div",{className:"nav-header"},p),_,E)},e}(p.Component),l.propTypes={pageId:f.default.PropTypes.oneOfType([f.default.PropTypes.string,f.default.PropTypes.number]).isRequired,id:f.default.PropTypes.oneOfType([f.default.PropTypes.number,f.default.PropTypes.string]),showToast:f.default.PropTypes.func},c=u))||c;e.default=w,t.exports=e.default},300:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l,u=n(3),p=r(u),f=n(33),h=n(43),d=r(h),m=n(204),y=r(m),v=(0,f.connect)((l=c=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={collected:!1,message:"收藏"},n}return s(e,t),e.prototype.handleClick=function(t){var e=this;t.preventDefault(),this.props.handleClick(),this.state.collected?d.default.post("/i/api/collection/delete/deal/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(t,n){if(t)console.log(t);else{var r=n.body;0!==r.status?e.props.showToast("取消收藏失败"):(e.setState({collected:r.data.collected,message:r.data.collected?"取消收藏":"收藏"}),e.props.showToast(r.data.collected?"取消收藏失败":"取消收藏成功"))}}):d.default.post("/i/api/collection/add/deal/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(t,n){if(t)console.log(t);else{var r=n.body;0!==r.status?e.props.showToast("收藏失败"):(e.setState({collected:r.data.collected,message:r.data.collected?"取消收藏":"收藏"}),e.props.showToast(r.data.collected?"收藏成功":"收藏失败"))}})},e.prototype.componentDidMount=function(){},e.prototype.shouldComponentUpdate=function(t,e){return e.collected!==this.state.collected},e.prototype.render=function(){var t=this.props.id,e=this.state,n=e.collected,r=e.message;return p.default.createElement(y.default,{href:"#",gaevent:'{"bid":"b_R2AR0","lab":{"poiId":"'+t+'", "operate":"'+r+'"}}',onClick:this.handleClick.bind(this)},p.default.createElement("span",{className:"nav-btn"},p.default.createElement("i",{className:n?"text-icon icon-sp icon-collected":"text-icon icon-sp icon-collect"}),r))},e}(u.Component),c.propTypes={handleClick:p.default.PropTypes.func.isRequired,id:p.default.PropTypes.oneOfType([p.default.PropTypes.number,p.default.PropTypes.string]),showToast:p.default.PropTypes.func},a=l))||a;e.default=v,t.exports=e.default},301:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l,u=n(3),p=r(u),f=n(33),h=n(43),d=r(h),m=n(204),y=r(m),v=(0,f.connect)((l=c=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={collected:!1,message:"收藏"},n}return s(e,t),e.prototype.handleClick=function(t){var e=this;t.preventDefault(),this.props.handleClick(),this.state.collected?d.default.post("/i/api/collection/delete/poi/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(t,n){if(t)console.log(t);else{var r=n.body;0!==r.status?e.props.showToast("取消收藏失败"):(e.setState({collected:r.data.collected,message:r.data.collected?"取消收藏":"收藏"}),e.props.showToast(r.data.collected?"取消收藏失败":"取消收藏成功"))}}):d.default.post("/i/api/collection/add/poi/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(t,n){if(t)console.log(t);else{var r=n.body;0!==r.status?e.props.showToast("收藏失败"):(e.setState({collected:r.data.collected,message:r.data.collected?"取消收藏":"收藏"}),e.props.showToast(r.data.collected?"收藏成功":"收藏失败"))}})},e.prototype.componentDidMount=function(){var t=this;d.default.post("/i/api/collection/get/poi/"+this.props.id).set("Accept","application/json").set("x-requested-with","XMLHttpRequest").end(function(e,n){if(e)console.log(e);else{var r=n.body;0!==r.status?console.log(r):t.setState({collected:r.data.collected,message:r.data.collected?"取消收藏":"收藏"})}})},e.prototype.shouldComponentUpdate=function(t,e){return e.collected!==this.state.collected},e.prototype.render=function(){var t=this.props.id,e=this.state,n=e.collected,r=e.message;return p.default.createElement(y.default,{href:"#",gaevent:'{"bid":"b_XVoYV","lab":{"poiId":"'+t+'", "operate":"'+r+'"}}',onClick:this.handleClick.bind(this)},p.default.createElement("span",{className:"nav-btn"},p.default.createElement("i",{className:n?"text-icon icon-sp icon-collected":"text-icon icon-sp icon-collect"}),r))},e}(u.Component),c.propTypes={handleClick:p.default.PropTypes.func.isRequired,id:p.default.PropTypes.oneOfType([p.default.PropTypes.number,p.default.PropTypes.string]),showToast:p.default.PropTypes.func},a=l))||a;e.default=v,t.exports=e.default},302:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l=n(3),u=r(l),p=n(300),f=(r(p),n(301)),h=(r(f),n(204)),d=r(h),m=n(240),y=r(m),v=n(40),b=r(v),g=n(33),w=(c=a=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={showNavList:!1,referer:"",didHideNavBar:!1},n.pageConfig={c_05wQm:{title:"美食",backUrl:"https://i.meituan.com/",nativeBackUrl:"imeituan://www.meituan.com/home",showSearch:!0,showAccount:!0}},n}return s(e,t),e.prototype.componentWillMount=function(){var t=this;"undefined"!=typeof window&&window.KNB&&KNB.ready(function(){KNB.setNavigationBarHidden({flag:1,success:function(){t.setState({didHideNavBar:!0}),g.state.set("didHideNavBar",1);var e=document.body;e.classList.add("hide-webview-navbar")},fail:function(){}})})},e.prototype.componentDidMount=function(){var t=this;this.setState({referer:document.referrer});var e=this.props.onlyList;"undefined"==typeof window||e||(this.headerScrollHandler=(0,y.default)(10,t.scrollHandler.bind(t)),window.addEventListener("scroll",this.headerScrollHandler),window.addEventListener("touchmove",this.headerScrollHandler))},e.prototype.componentWillUnmount=function(){window.addEventListener("scroll",this.headerScrollHandler),window.addEventListener("touchmove",this.headerScrollHandler)},e.prototype.goBack=function(t){t.preventDefault(),window.history.back()},e.prototype.toggleNavList=function(t){t.preventDefault(),this.setState({showNavList:!this.state.showNavList})},e.prototype.hideNavList=function(t){t&&t.preventDefault(),this.setState({showNavList:!1})},e.prototype.scrollHandler=function(){if(g.state.get("noBanner"))return"";var t=document.documentElement,e=document.body.scrollTop+t.scrollTop,n=1.8*parseInt(t.style.fontSize,10),r=(e/n).toFixed(1);r=r>1?1:r;var o=this.header;o&&(o.style.background="rgba(250, 250, 250, "+r+")"),r>=1?o.classList.add("scrolled"):o.classList.remove("scrolled")},e.prototype.render=function(){var t=this,e=this.props,n=e.pageId,r=void 0===n?"c_pLhT1":n,o=(e.id,e.showToast,e.backUrl),i=void 0===o?"":o,s=(e.title,e.onlyList),a=this.state,c=(a.showNavList,a.referer),l=a.didHideNavBar,p=this.pageConfig[r]||this.pageConfig.c_pLhT1;p.backUrl=i||p.backUrl||"",p.backUrl=l?p.nativeBackUrl:p.backUrl;var f=u.default.createElement("div",{className:"nav-wrap-left"},p.backUrl&&!s?u.default.createElement(d.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+p.backUrl+'", "referer": "'+c+'"}}',className:"react back",href:"#",onClick:function(t){return window.location=p.backUrl}},u.default.createElement("i",{className:"text-icon icon-back"})):u.default.createElement(d.default,{gaevent:'{"bid":"b_QYtkK","lab":{"backUrl":"'+p.backUrl+'", "referer": "'+c+'"}}',className:"react back",href:"#",onClick:function(e){return t.goBack(e)}},u.default.createElement("i",{className:"text-icon icon-back"}))),h=u.default.createElement("div",{className:"nav-wrap-right"},p.showAccount&&u.default.createElement(d.default,{gaevent:"b_dqsWt",href:"https://i.meituan.com/account"},u.default.createElement("span",{className:"nav-btn"},u.default.createElement("i",{className:"person-icon"})))),m=(0,b.default)({"new-navbar":!0,scrolled:s,nonavbar:l});return u.default.createElement("header",{className:m,ref:function(e){return t.header=e}},f,u.default.createElement("div",{className:"new-nav-header"},p.showSearch&&u.default.createElement(d.default,{gaevent:"b_zwCC4",href:"https://i.meituan.com/s/?cateId=1&cateType=poi"},u.default.createElement("span",{className:"nav-search"},u.default.createElement("i",{className:"search-icon"}),"输入商家名、品类或商圈"))),h)},e}(l.Component),a.propTypes={pageId:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]).isRequired,id:u.default.PropTypes.oneOfType([u.default.PropTypes.number,u.default.PropTypes.string]),showToast:u.default.PropTypes.func,onlyList:u.default.PropTypes.bool},c);e.default=w,t.exports=e.default},303:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l,u=n(3),p=r(u),f=n(33),h=n(204),d=r(h),m=(0,f.connect)((l=c=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){var t=this.props,e=t.userName,n=void 0===e?"":e,r=t.cityName,o=void 0===r?"北京":r,i="";return i=n?p.default.createElement(d.default,{href:"https://i.meituan.com/account/",gaevent:"b_RduIu",className:"btn btn-weak footer-mine-btn",rel:"nofollow"},n):p.default.createElement("div",{className:"login-container"},p.default.createElement(d.default,{href:"https://i.meituan.com/account/login",gaevent:'{"bid":"b_Vvu6c","lab":{"operate":"login"}}',className:"btn btn-weak",rel:"nofollow"},"登录"),p.default.createElement(d.default,{href:"https://i.meituan.com/account/signup",gaevent:'{"bid":"b_Vvu6c","lab":{"operate":"signup"}}',className:"btn btn-weak",rel:"nofollow"},"注册")),p.default.createElement("div",{className:"footer-container"},p.default.createElement("div",{className:"footer-bar"},p.default.createElement("div",{className:"pull-right"},p.default.createElement("span",null,"城市: "),p.default.createElement(d.default,{href:"https://i.meituan.com/index/changecity/",gaevent:"b_G6Smk",className:"btn btn-weak footer-city-btn"},o)),i),p.default.createElement("div",{className:"footer-nav"},p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement(d.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"homePage"}}',href:"https://i.meituan.com/"},"首页")),p.default.createElement("li",null,p.default.createElement(d.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"allOrder"}}',rel:"nofollow",href:"https://i.meituan.com/orders/all"},"订单")),p.default.createElement("li",null,p.default.createElement(d.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"app"}}',rel:"nofollow",href:"https://i.meituan.com/client"},"客户端")),p.default.createElement("li",null,p.default.createElement(d.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"pc"}}',href:"https://www.meituan.com?pcstyle=1"},"电脑版")),p.default.createElement("li",null,p.default.createElement(d.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"help"}}',rel:"nofollow",href:"https://i.meituan.com/help/"},"帮助")))),p.default.createElement("div",{className:"footer-links"},"友情链接：",p.default.createElement(d.default,{gaevent:'{"bid":"b_u39eu","lab":{"link":"maoyan"}}',target:"_blank",href:"https://m.maoyan.com/?channel=touch_group"},"猫眼电影")),p.default.createElement("div",{className:"footer-copy-right"},p.default.createElement("div",{className:"hr"}),p.default.createElement("span",{className:"footer-copy-right-text"},"©2016 美团网"," ",p.default.createElement(d.default,{href:"http://www.miibeian.gov.cn/",target:"_blank",rel:"nofollow"},"京ICP证070791号"))))},e}(u.Component),c.propTypes={userName:p.default.PropTypes.string,cityName:p.default.PropTypes.string},a=l))||a;e.default=m,t.exports=e.default},304:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c=n(3),l=r(c),u=n(33),p=n(240),f=r(p),h=n(204),d=r(h),m=(0,u.connect)(a=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={
showTop:!1},n}return s(e,t),e.prototype.componentDidMount=function(){var t=this;window.addEventListener("scroll",(0,f.default)(300,t.handleScroll.bind(t)))},e.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll.bind(this))},e.prototype.handleScroll=function(){var t=document.documentElement.clientHeight,e=document.documentElement.scrollTop||document.body.scrollTop;e>t?this.setState({showTop:!0}):this.setState({showTop:!1})},e.prototype.goToTop=function(t){t.preventDefault(),document.documentElement.scrollTop=0,document.body.scrollTop=0},e.prototype.render=function(){return l.default.createElement(d.default,{className:this.state.showTop?"top-btn top":"top-btn",gaevent:"b_9I011",onClick:this.goToTop.bind(this)},l.default.createElement("span",{className:"icon icon-top"}))},e}(c.Component))||a;e.default=m,t.exports=e.default},305:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(3),c=r(a),l=n(204),u=r(l),p=function(t){function e(){var n,r,s;o(this,e);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=i(this,t.call.apply(t,[this].concat(c))),r.state={show:!1,config:{type:"confirm",content:"",title:"",okText:"确定",cancelText:"取消"}},s=n,i(r,s)}return s(e,t),e.prototype.getConfig=function(t,e,n){var r=t||{};return r.closeOut!==!1&&(r.closeOut=!0),r.okText=r.okText||"确定",r.cancelText=r.cancelText||"取消",r.onOK=r.onOK||function(){},r.onCancel=r.onCancel||function(){},r.type=e,r.content=n,r},e.prototype.alert=function(t,e){this.setState({show:!0,config:this.getConfig(e,"alert",t)})},e.prototype.confirm=function(t,e){this.setState({show:!0,config:this.getConfig(e,"confirm",t)})},e.prototype.clickOK=function(){var t=this.state.config;this.setState({show:!1}),t.onOK()},e.prototype.clickCancel=function(){var t=this.state.config;this.setState({show:!1}),t.onCancel()},e.prototype.render=function(){var t=this.state.config,e=this.props.isDp,n="";t.title&&(n=c.default.createElement("div",{className:"meishi-msg-hd"},t.title));var r="";"alert"===t.type?r=c.default.createElement("div",{className:"meishi-msg-ft"},c.default.createElement(u.default,{className:"meishi-msg-btn meishi-msg-btn-ok",gaevent:'{"bid":"b_YKzwN","lab":{"type":"alert","operate": "ok","content":"'+t.content+'"}}',onClick:this.clickOK.bind(this)},t.okText)):"confirm"===t.type&&(r=c.default.createElement("div",{className:"meishi-msg-ft"},c.default.createElement(u.default,{className:"meishi-msg-btn meishi-msg-btn-cancel",gaevent:'{"bid":"b_YKzwN","lab":{"type":"confirm","operate": "cancel","content":"'+t.content+'"}}',onClick:this.clickCancel.bind(this)},t.cancelText),c.default.createElement(u.default,{className:"meishi-msg-btn meishi-msg-btn-ok",gaevent:'{"bid":"b_YKzwN","lab":{"type":"confirm","operate": "ok","content":"'+t.content+'"}}',onClick:this.clickOK.bind(this)},t.okText)));var o={display:this.state.show?"block":"none"};return c.default.createElement("div",{style:o,className:e?"dp":""},c.default.createElement("div",{className:"meishi-msg-bg"}),c.default.createElement("div",{className:"meishi-msg-doc"},n,c.default.createElement("div",{className:"meishi-msg-bd"},t.content),r))},e}(a.Component);e.default=p,t.exports=e.default},306:function(t,e){"use strict";function n(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0}t.exports=n},307:function(t,e){"use strict";t.exports={get:function(t,e){var n="cookie",r=document,o=e;return o=r[n].match("(?:;|^)\\s*"+t+"\\s*=\\s*([^;]+)\\s*(?:;|$)"),o&&o[1]},set:function(t,e,n,r){var o="cookie",i="; expires=",s="; domain=",a=document,c=r;location.host.indexOf("http://s1.meituan.net/bs/meituan.com")===-1||r||(c="http://s1.meituan.net/bs/meituan.com"),a[o]=t+"="+e+(n?i+new Date((new Date).getTime()+1e3*n).toGMTString():"")+(c?s+c:"")+"; path=/"},remove:function(t){var e="cookie",n="; expires=",r=document;r[e]=t+"="+n+(new Date).toGMTString()}}},308:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c=n(3),l=r(c),u=n(33),p=n(41),f=r(p),h=n(43),d=r(h),m=n(204),y=r(m),v=(0,u.connect)(a=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={showAppDownload:!1,detail:{title:"",buttonText:""}},n}return s(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.platform,n=t.handleAppDownloadHeight,r=t.handleAppDownloadFooterHeight;if("2"===e)this.setState({showAppDownload:!0},function(){n?n(2.4):document.body.className+="openordown-dianping-paddingTop"});else{var o=this;try{this.props.requestUrl&&d.default.get(this.props.requestUrl).withCredentials().then(function(t,e){if(e);else{var n=t.body;if(0===+n.status&&n.data){var i=n.data||{};0===+i.type&&(o.setState({showAppDownload:!0,detail:{title:i.title,buttonText:i.buttonText||"点击下载"}}),i.title&&r&&r(1.4))}}})}catch(t){console.log(t)}}},e.prototype.jumpToDpApp=function(t,e,n){var r=this.state.isAndroid;if(e&&n){if(r)return e;var o=""+window.location.origin+t,i="dianping://web?url="+encodeURIComponent(o),s="https://m.dianping.com/cube/evoke/dianping.html?url="+encodeURIComponent(i)+"&web="+encodeURIComponent(e);return s}},e.prototype.hanleClick=function(t){t.preventDefault();var e=this.props.platform;if("2"===e){var n=this.jumpToDpApp(this.props.origionUrl,this.props.dpAppConfigUrl,this.props.dpUrlParams);window.location=n}else window.location=this.props.openAppUrl},e.prototype.render=function(){var t=this.state,e=t.showAppDownload,n=t.detail,r=this.props.platform;if(n.title=n.title.replace(/\s+/g,"<br>"),e){if("2"===r)return l.default.createElement("section",{className:"openordown-dianping"},l.default.createElement("div",{className:"download-guide"},l.default.createElement("div",{className:"title"},l.default.createElement("i",{className:"icon"}),l.default.createElement("span",{className:"text"},"吃喝玩乐，找优惠")),l.default.createElement("div",{className:"btns"},l.default.createElement("div",{className:"btn-open",onClick:this.hanleClick.bind(this)},"打开大众点评"),l.default.createElement("a",{className:"btn-download",href:"https://m.dianping.com/download/redirect?id=11617"},"下载APP享特价"))));if(n.title)return l.default.createElement("div",{className:"pop-wapper"},l.default.createElement("img",{className:"mt-logo",src:"logo.png"/*tpa=http://ms0.meituan.net/touch/css/i/logo.png*/}),l.default.createElement("div",{className:"banner-title",dangerouslySetInnerHTML:{__html:n.title}}),l.default.createElement(y.default,{gaevent:"b_RPrsP",onClick:this.hanleClick.bind(this),href:"#",className:"btn btn-weak"},n.buttonText))}return l.default.createElement("div",null)},e}(c.Component))||a;e.default=v,v.propTypes={requestUrl:f.default.string.isRequired,openAppUrl:f.default.string.isRequired,handleAppDownloadHeight:f.default.func,handleAppDownloadFooterHeight:f.default.func},t.exports=e.default},435:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c,l,u=n(3),p=r(u),f=n(33),h=n(201),d=r(h),m=(0,f.connect)((l=c=function(t){function e(){return o(this,e),i(this,t.call(this))}return s(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.gaevent,r=void 0===n?"":n,o=e.onClick;if(r&&"string"==typeof r)try{var i=JSON.parse(r);d.default.mge(i)}catch(t){d.default.mge({bid:r})}o&&"function"==typeof o&&o.call(this,t)},e.prototype.render=function(){var t=this.props,e=t.type,n=void 0===e?"button":e,r=t.disabled,o=void 0!==r&&r,i=t.className,s=void 0===i?"":i;return p.default.createElement("button",{type:n,disabled:o,className:s,onClick:this.handleClick.bind(this)},this.props.children)},e}(u.Component),c.propTypes={type:p.default.PropTypes.string,className:p.default.PropTypes.string,gaevent:p.default.PropTypes.string,onClick:p.default.PropTypes.func,disabled:p.default.PropTypes.bool},a=l))||a;e.default=m,t.exports=e.default},536:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=a(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function a(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var c=r(n(537));t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.successFilter,n=void 0===e?function(t){return 0===t.status}:e,r=t.keyBussiness,i=function(){var t=Array.prototype.slice.call(arguments);return function(e){var n=e.callback;e.callback=function(r,o){t.forEach(function(t){t.call(e,r,o)}),n.call(e,r,o)}}},a=function(t){try{var e=window,n=e.Owl;if(!n)return t;n.addLog(JSON.stringify({name:"ajaxRequest",url:t.url,data:t}))}catch(t){console.error(t)}return t},l=i(function(t,e){try{var i=window,a=i.Owl;if(!a)return;var c=!1,l="default";if(t)a.addLog(JSON.stringify({name:"ajaxRequestError",error:t})),a.addError({name:"ajaxRequestError",msg:JSON.stringify(t)}),l="网络请求异常（错误码：".concat(t.status,"）");else{var u=e.body,p=(e.text,s(e,["text"]));if("function"==typeof n&&n(u))a.addLog(JSON.stringify({name:"ajaxResponseSuccess",url:e.req.url,data:p})),c=!0,l="成功";else{var f="网络请求异常";u.error&&u.error.message&&(f=u.error.message),l=f,a.addLog(JSON.stringify({name:"ajaxResponseError",url:e.req.url,data:p})),a.addError({name:"ajaxResponseError",msg:JSON.stringify(p)},{level:"debug"})}}if(r&&r.name){var h=a.metricManager,d=r.tags,m=void 0===d?{}:d,y=r.name;h.setTags(o({bussinessSuccess:c,bussinessStatus:l},m)),h.setMetric(y,1),h.report()}}catch(t){console.error(t)}}),u=c.default.agent().use(a).use(l);return u}},537:function(t,e,n){function r(){}function o(t){if(!m(t))return t;var e=[];for(var n in t)i(e,n,t[n]);return e.join("&")}function i(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){i(t,e,n)});else if(m(n))for(var r in n)i(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function s(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;i<s;++i)e=o[i],n=e.indexOf("="),n==-1?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function a(t){for(var e,n,r,o,i=t.split(/\r?\n/),s={},a=0,c=i.length;a<c;++a)n=i[a],e=n.indexOf(":"),e!==-1&&(r=n.slice(0,e).toLowerCase(),o=g(n.slice(e+1)),s[r]=o);return s}function c(t){return/[\/+]json($|[^-\w])/.test(t)}function l(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function u(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new l(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,n.xhr?(t.rawResponse="undefined"==typeof n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",e);var r;try{n._isResponseOK(e)||(r=new Error(e.statusText||"Unsuccessful HTTP response"))}catch(t){r=t}r?(r.original=t,r.response=e,r.status=e.status,n.callback(r,e)):n.callback(null,e)})}function p(t,e,n){var r=b("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var h=n(44),d=n(538),m=n(539),y=n(540),v=n(542),b=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=u,b.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var g="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=o,b.parseString=s,b.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},y(l.prototype),l.prototype._parseBody=function(t){var e=b.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&c(this.type)&&(e=b.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},l.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},b.Response=l,h(u.prototype),d(u.prototype),u.prototype.type=function(t){return this.set("Content-Type",b.types[t]||t),this},u.prototype.accept=function(t){return this.set("Accept",b.types[t]||t),this},u.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,n,r)},u.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},u.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},u.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},u.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},u.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},u.prototype.buffer=u.prototype.ca=u.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},u.prototype.pipe=u.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},u.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},u.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||r,this._finalizeQueryString(),this._end()},u.prototype._end=function(){var t=this,e=this.xhr=b.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=r.bind(null,"download"),e.upload&&(e.upload.onprogress=r.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],i=this._serializer||b.serialize[o?o.split(";")[0]:""];!i&&c(o)&&(i=b.serialize["application/json"]),i&&(n=i(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send("undefined"!=typeof n?n:null),this},b.agent=function(){return new v},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){v.prototype[t.toLowerCase()]=function(e,n){var r=new b.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}}),v.prototype.del=v.prototype.delete,b.get=function(t,e,n){var r=b("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},b.head=function(t,e,n){var r=b("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},b.options=function(t,e,n){var r=b("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.del=p,b.delete=p,b.patch=function(t,e,n){var r=b("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.post=function(t,e,n){var r=b("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.put=function(t,e,n){var r=b("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},538:function(t,e,n){"use strict";function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}var i=n(539);t.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(t){return this._parser=t,this},r.prototype.responseType=function(t){return this._responseType=t,this},r.prototype.serialize=function(t){return this._serializer=t,this},r.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},r.prototype.retry=function(t,e){return 0!==arguments.length&&t!==!0||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var s=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(n===!0)return!0;if(n===!1)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~s.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},r.prototype.catch=function(t){return this.then(void 0,t)},r.prototype.use=function(t){return t(this),this},r.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},r.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},r.prototype.get=function(t){return this._header[t.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},r.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)this.field(t,e[r]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},r.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},r.prototype.withCredentials=function(t){return void 0==t&&(t=!0),this._withCredentials=t,this},r.prototype.redirects=function(t){return this._maxRedirects=t,this},r.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(t){var e=i(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&i(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},r.prototype.sortQuery=function(t){return this._sort="undefined"==typeof t||t,this},r.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},r.prototype._appendQueryString=function(){console.trace("Unsupported")},r.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error(t+e+"ms exceeded");r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},539:function(t,e){"use strict";function n(t){return null!==t&&"object"==typeof t}t.exports=n},540:function(t,e,n){"use strict";function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}var i=n(541);t.exports=r,r.prototype.get=function(t){return this.header[t.toLowerCase()]},r.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=i.type(e);var n=i.params(e);for(var r in n)this[r]=n[r];this.links={};try{t.link&&(this.links=i.parseLinks(t.link))}catch(t){}},r.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},541:function(t,e){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1),o=n[1].split(/ *= */)[1].slice(1,-1);return t[o]=r,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},542:function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=n},949:function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,c=n(3),l=r(c),u=n(33),p=n(298),f=r(p),h=n(236),d=r(h),m=n(305),y=r(m),v=n(536),b=r(v),g=n(204),w=r(g),_=n(435),E=r(_),x=n(206),T=r(x),O=n(201),j=r(O),k=(0,u.connect)(a=function(t){function e(){o(this,e);var n=i(this,t.call(this));return n.state={quantity:1,userMobile:"",verifyCode:"",disableSubmitBtn:!0,disableMinusBtn:!1,disableAddBtn:!1,captcha:"",currentHref:u.state.get("$meta").href},n}return s(e,t),e.prototype.componentWillMount=function(){var t=u.state.get("order");this.setState({disableSubmitBtn:!u.state.get("userName"),quantity:t.quantity||1,disableMinusBtn:t.quantity<=u.state.get("orderMinNum"),disableAddBtn:t.quantity>=u.state.get("orderMaxNum")})},e.prototype.componentDidMount=function(){window.addEventListener("pageshow",function(t){var e=t.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type;e&&window.location.reload()})},e.prototype.minusQuantity=function(){if(!this.state.disableMinusBtn){var t=this.state.quantity;t>u.state.get("orderMinNum")?this.setState({quantity:t-1,disableAddBtn:t-1>=u.state.get("orderMaxNum"),disableMinusBtn:t-1===u.state.get("orderMinNum")}):this.setState({disableMinusBtn:!0})}},e.prototype.addQuantity=function(){if(!this.state.disableAddBtn){var t=this.state.quantity;t>0?t<u.state.get("orderMaxNum")?this.setState({quantity:t+1,disableAddBtn:t+1===u.state.get("orderMaxNum"),disableMinusBtn:t+1<=u.state.get("orderMinNum")}):this.setState({disableAddBtn:!0}):this.setState({disableMinusBtn:!0,quantity:u.state.get("orderMinNum"),disableAddBtn:u.state.get("orderMinNum")>=u.state.get("orderMaxNum")})}},e.prototype.handleQuantityChange=function(t){var e=t.target.value;return e=e.replace(/[^0-9]/g,""),e=parseInt(e,10),isNaN(e)?void this.setState({disableMinusBtn:!0,quantity:"",disableAddBtn:!1}):e<=u.state.get("orderMinNum")?(e=u.state.get("orderMinNum"),void this.setState({disableMinusBtn:!0,quantity:e,disableAddBtn:e>=u.state.get("orderMaxNum")})):e>=u.state.get("orderMaxNum")?(e=u.state.get("orderMaxNum"),void this.setState({disableAddBtn:!0,quantity:e,disableMinusBtn:e<=u.state.get("orderMinNum")})):void this.setState({disableMinusBtn:!1,quantity:e,disableAddBtn:!1})},e.prototype.submitOrder=function(){var t=this;if(!this.state.disableSubmitBtn){var e=this.state.quantity,n=this.state,r=n.userMobile,o=n.captcha,i=n.verifyCode;e=(""+e).replace(/[^0-9]/g,""),e=parseInt(e,10),(isNaN(e)||0===e)&&(e=1,this.setState({quantity:1})),this.setState({disableSubmitBtn:!0}),(0,b.default)({keyBussiness:{name:"deal_order_i"}}).post("/i/api/order/apply").send({dealId:u.state.get("dealId"),userMobile:r,captcha:o,verifyCode:i,quantity:e,refer:u.state.get("refer"),stid:u.state.get("stid"),orderId:u.state.get("order").orderid,redirectUrl:encodeURIComponent(window.location.href)}).end(function(e,n){if(t.setState({disableSubmitBtn:!1}),e)t.refs.toast.show("网络开小差，稍后再试吧~");else{var r=n.body;0!==r.status?(t.setState({verifyCode:""}),t.refs.toast.show(r.error.message)):(j.default.mge({bid:"b_6Bhp5",type:"order",lab:{order_id:""+r.data.orderId,orderId:r.data.orderId,dealId:u.state.get("dealId")}}),window.location=r.data.cashierUrl)}})}},e.prototype.render=function(){var t=u.state.get("userName"),e=u.state.get("userMobile"),n=u.state.get("deal"),r=u.state.get("dealId"),o=this.state,i=o.quantity,s=o.disableSubmitBtn,a=o.disableMinusBtn,c=o.disableAddBtn,p=l.default.createElement("div",{
className:"deal-content-wrapper"},l.default.createElement("div",{className:"content-info-line"},e,l.default.createElement(w.default,{className:"change-mobile",gaevent:'{"bid":"b_kTOjh","lab":{"dealId":"'+r+'"}}',href:"https://i.meituan.com/client"},"绑定新号码"))),h=l.default.createElement("div",{className:"deal-content-wrapper"},l.default.createElement("div",{className:"content-info-line"},"还需支付：",l.default.createElement("span",{className:"amount"},T.default.clearZero(n.price*i),"元")));return t||(p=null,h=""),l.default.createElement(f.default,u.state.get("$meta"),l.default.createElement("div",{className:"content-title"},n.title),l.default.createElement("div",{className:"deal-content-wrapper deal-info"},l.default.createElement("div",{className:"content-info-line"},"单价：",l.default.createElement("span",{className:"deal-price"},n.price,"元")),l.default.createElement("div",{className:"content-info-line"},"数量：",l.default.createElement("div",{className:"operate"},l.default.createElement(E.default,{gaevent:'{"bid":"b_YyjKt","lab":{"dealId":"'+r+'","operate": "minus"}}',className:a?"btn btn-weak btn-disabled minus":"btn btn-weak minus",onClick:this.minusQuantity.bind(this)},"-"),l.default.createElement("input",{className:"number",type:"text",value:i,onChange:this.handleQuantityChange.bind(this)}),l.default.createElement(E.default,{gaevent:'{"bid":"b_YyjKt","lab":{"dealId":"'+r+'","operate": "add"}}',className:c?"btn btn-disabled btn-weak add":"btn btn-weak add",onClick:this.addQuantity.bind(this)},"+"))),l.default.createElement("div",{className:"content-info-line"},"总价：",l.default.createElement("span",{className:"amount"},T.default.clearZero(n.price*i),"元"))),h,t?l.default.createElement("div",{className:"content-title"},"美团券将发送到您绑定的手机号码"):null,p,l.default.createElement("div",{className:"btn-wrapper"},l.default.createElement(E.default,{type:"button",gaevent:'{"bid":"b_qSFQN","lab":{"dealId":"'+r+'"}}',className:"btn btn-block btn-strong btn-larger",disabled:s,onClick:this.submitOrder.bind(this)},"提交订单")),t?"":l.default.createElement("div",{className:"quick-login"},"请登录后进行购买，去",l.default.createElement(w.default,{href:u.state.get("$meta").loginURL+"?backurl="+this.state.currentHref,rel:"nofollow",gaevent:'{"bid":"b_nZ3kp","lab":{"dealId":"'+r+'"}}'},"登录")),l.default.createElement(d.default,{ref:"toast"}),l.default.createElement(y.default,{ref:"dialog"}))},e}(c.Component))||a;e.default=k,t.exports=e.default,"function"==typeof t.exports&&(t.exports.turboName="client/page/order/index0","undefined"!=typeof window&&(window._turboClasses=window._turboClasses||{},window._turboClasses["client/page/order/index0"]=t.exports)),"function"==typeof e.default&&(e.default.turboName="client/page/order/index1","undefined"!=typeof window&&(window._turboClasses=window._turboClasses||{},window._turboClasses["client/page/order/index1"]=e.default))}).call(e,n(2)(t))}});
//# sourceMappingURL=https://s3plus.vip.sankuai.com/v1/mss_20cf2cb609bf414daf70e3738dd9eeab/meituan-web-meishife-i-map/sourcemaps/order/index/index.11f67001de0f56f09cad.js.map
