webpackJsonp([34],{0:function(t,e,n){var i;i=function(t,e,i){n(1152);var o=window.F,r=n(51);n(48).init();var s=n(45),a=n(67),c=n(265),l=n(988),u=o.context("order-options"),h=o.context("user-info"),d=o.context("user-address"),p=n(74),f=n(97),m=n(268),g=o.context("juyouhui");if(u.max-=u.bought,h){var v=o.context("order-init");l.init(r.extend(u,{isLogin:!!h,logData:o.context("log-data"),count:1},!0),v)}else c.init(r.extend(u,{isLogin:!!h,addressList:d,logData:o.context("log-data"),promotion:!1},!0));if(n(78).init(),n(1154).init("#juyouhui-wrapper",g),h){n(985).init("#good-info-wrapper",{dealTitle:u.dealTitle,unitPrice:u.unitPrice,max:u.max,min:u.min,dealOptions:u.dealOptions,juyouhui:g}),n(1023).init(),n(1030).init(),n(1019).init("#privilege-info-wrapper"),n(1158).init("#balance-info-wrapper"),n(1036).init("#user-info-wrapper",{user:h,bindMobile:o.context("bind-mobile")}),n(1162),s(document.body).addClass("show-submit");var y=s("#submit-btn"),b=window.nuomiCashier;l.on("popSuccess",function(t,e){var n=t.payUrl,i=n.split("?",2);a.parse(i[1],!1);"http://zhifu.baidu.com/proxy/req/newcashier"===i[0]||"https://zhifu.baidu.com/proxy/req/newcashier"===i[0]?b.callStartPayWap(i[1]):location.href=n}),l.on("popFail",function(t,e){var n=t.payUrl,i=n.split("?",2);a.parse(i[1],!1);location.href=n}),l.on("payYizhifu",function(t,e){var n=f.create("跳转中..."),i=t.payInfo,o=t.payUrl,s=l.info.payAmount;return s||i?i?(r.extend(i,{SESSIONKEY:m.app.getSessionKey()}),void m.payment.onPay(i,function(){location.href=i.returnUrl})):(n.hide(),void f.create("抱歉，请求出错")):void(location.href=o)}),y.on("click",function(){console.log("吊起收银台");var t={};t.isYizhifu=!1,p.isYizhifu()?(t.isYizhifu=!0,l.submit(t)):b.callNuomiCashier({totalMoney:l.info.payAmount,isOrderCreateByCashier:!1,onOrderCreate:function(){t.popOnoff=!0,l.submit(t)},onFail:function(e){t.popOnoff=!1,l.submit(t)}})}),l.on("before-update",function(){s('[data-role="submit-price"]').text("计算中..."),y.attr("disabled","")}),l.on("update-calculate",function(){s('[data-role="submit-price"]').text(l.info.payAmount/100),y.attr("disabled",null)}),l.on("submit",function(){y.attr("disabled","")}),l.on("pay submit-fail",function(){y.attr("disabled",null)}),n(1187).init(o.context("qianbao"))}else if(n(1188).init("#good-info-wrapper",{dealTitle:u.dealTitle,unitPrice:u.unitPrice,max:u.max,min:u.min,dealOptions:u.dealOptions,juyouhui:g}),n(992).init("#login-wrapper",{isDayuecheng:o.context("is-dayuecheng"),phone:o.context("phone")}),/mi 3/i.test(navigator.userAgent)&&r.isBrowser("LieBao")){var w=n(1041),x=s(document.body);w.add("show",function(){x.css("padding-bottom","50%"),window.scrollTo(0,500)}),w.add("hide",function(){x.css("padding-bottom",null)})}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},45:function(t,e){var n=function(){function t(t){return null==t?String(t):q[W.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(e){return"object"==t(e)}function r(t){return o(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return"number"==typeof t.length}function a(t){return _.call(t,function(t){return null!=t})}function c(t){return t.length>0?E.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in L?L[t]:L[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||B[l(t)]?e:e+"px"}function d(t){var e,n;return R[t]||(e=O.createElement(t),O.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),R[t]=n),R[t]}function p(t){return"children"in t?I.call(t.children):E.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function f(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||""}function m(t,e,n){for(T in e)n&&(r(e[T])||Q(e[T]))?(r(e[T])&&!r(t[T])&&(t[T]={}),Q(e[T])&&!Q(t[T])&&(t[T]=[]),m(t[T],e[T],n)):e[T]!==S&&(t[T]=e[T])}function g(t,e){return null==e?E(t):E(t).filter(e)}function v(t,n,i,o){return e(n)?n.call(t,i,o):n}function y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",i=n&&n.baseVal!==S;return e===S?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function w(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?E.parseJSON(t):t):t}catch(e){return t}}function x(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)x(t.childNodes[n],e)}var S,T,E,k,C,D,P=[],A=P.concat,_=P.filter,I=P.slice,O=window.document,R={},L={},B={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/^(?:body|html)$/i,K=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],V=O.createElement("table"),z=O.createElement("tr"),Y={tr:O.createElement("tbody"),tbody:V,thead:V,tfoot:V,td:z,th:z,"*":O.createElement("div")},J=/complete|loaded|interactive/,X=/^[\w-]*$/,q={},W=q.toString,$={},G=O.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(t){return t instanceof Array};return $.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,o=t.parentNode,r=!o;return r&&(o=G).appendChild(t),i=~$.qsa(o,e).indexOf(t),r&&G.removeChild(t),i},C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},D=function(t){return _.call(t,function(e,n){return t.indexOf(e)==n})},$.fragment=function(t,e,n){var i,o,s;return N.test(t)&&(i=E(O.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(U,"<$1></$2>")),e===S&&(e=M.test(t)&&RegExp.$1),e in Y||(e="*"),s=Y[e],s.innerHTML=""+t,i=E.each(I.call(s.childNodes),function(){s.removeChild(this)})),r(n)&&(o=E(i),E.each(n,function(t,e){F.indexOf(t)>-1?o[t](e):o.attr(t,e)})),i},$.Z=function(t,e){return new f(t,e)},$.isZ=function(t){return t instanceof $.Z},$.init=function(t,n){var i;if(!t)return $.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&M.test(t))i=$.fragment(t,RegExp.$1,n),t=null;else{if(n!==S)return E(n).find(t);i=$.qsa(O,t)}else{if(e(t))return E(O).ready(t);if($.isZ(t))return t;if(Q(t))i=a(t);else if(o(t))i=[t],t=null;else if(M.test(t))i=$.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==S)return E(n).find(t);i=$.qsa(O,t)}}return $.Z(i,t)},E=function(t,e){return $.init(t,e)},E.extend=function(t){var e,n=I.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){m(t,n,e)}),t},$.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],r=i||o?e.slice(1):e,s=X.test(r);return t.getElementById&&s&&i?(n=t.getElementById(r))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:I.call(s&&!i&&t.getElementsByClassName?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},E.contains=O.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},E.type=t,E.isFunction=e,E.isWindow=n,E.isArray=Q,E.isPlainObject=r,E.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},E.inArray=function(t,e,n){return P.indexOf.call(e,t,n)},E.camelCase=C,E.trim=function(t){return null==t?"":String.prototype.trim.call(t)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(t,e){var n,i,o,r=[];if(s(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&r.push(n);else for(o in t)n=e(t[o],o),null!=n&&r.push(n);return c(r)},E.each=function(t,e){var n,i;if(s(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},E.grep=function(t,e){return _.call(t,e)},window.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){q["[object "+e+"]"]=e.toLowerCase()}),E.fn={constructor:$.Z,length:0,forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,splice:P.splice,indexOf:P.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=$.isZ(e)?e.toArray():e;return A.apply($.isZ(this)?this.toArray():this,n)},map:function(t){return E(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return E(I.apply(this,arguments))},ready:function(t){return J.test(O.readyState)&&O.body?t(E):O.addEventListener("DOMContentLoaded",function(){t(E)},!1),this},get:function(t){return t===S?I.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return P.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):E(_.call(this,function(e){return $.matches(e,t)}))},add:function(t,e){return E(D(this.concat(E(t,e))))},is:function(t){return this.length>0&&$.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==S)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):s(t)&&e(t.item)?I.call(t):E(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return E(n)},has:function(t){return this.filter(function(){return o(t)?E.contains(this,t):E(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:E(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:E(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?E(t).filter(function(){var t=this;return P.some.call(n,function(e){return E.contains(e,t)})}):1==this.length?E($.qsa(this[0],t)):this.map(function(){return $.qsa(this,t)}):E()},closest:function(t,e){var n=this[0],o=!1;for("object"==typeof t&&(o=E(t));n&&!(o?o.indexOf(n)>=0:$.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return E(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=E.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return g(e,t)},parent:function(t){return g(D(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||I.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return _.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return E.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=E(t).get(0),o=i.parentNode||this.length>1;return this.each(function(e){E(this).wrapAll(n?t.call(this,e):o?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){E(this[0]).before(t=E(t));for(var e;(e=t.children()).length;)t=e.first();E(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=E(this),o=i.contents(),r=n?t.call(this,e):t;o.length?o.wrapAll(r):i.append(r)})},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=E(this);(t===S?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return E(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return E(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;E(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(t))for(T in t)y(this,T,t[T]);else y(this,t,v(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:S},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){y(this,t)},this)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(K,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?w(i):S},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?E(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=E(this),i=v(this,t,e,n.offset()),o=n.offsetParent().offset(),r={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(r.position="relative"),n.css(r)});if(!this.length)return null;if(!E.contains(O.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i,o=this[0];if(!o)return;if(i=getComputedStyle(o,""),"string"==typeof e)return o.style[C(e)]||i.getPropertyValue(e);if(Q(e)){var r={};return E.each(e,function(t,e){r[e]=o.style[C(e)]||i.getPropertyValue(e)}),r}}var s="";if("string"==t(e))n||0===n?s=l(e)+":"+h(e,n):this.each(function(){this.style.removeProperty(l(e))});else for(T in e)e[T]||0===e[T]?s+=l(T)+":"+h(T,e[T])+";":this.each(function(){this.style.removeProperty(l(T))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(E(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?P.some.call(this,function(t){return this.test(b(t))},u(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){k=[];var n=b(this),i=v(this,t,e,n);i.split(/\s+/g).forEach(function(t){E(this).hasClass(t)||k.push(t)},this),k.length&&b(this,n+(n?" ":"")+k.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===S)return b(this,"");k=b(this),v(this,t,e,k).split(/\s+/g).forEach(function(t){k=k.replace(u(t)," ")}),b(this,k.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=E(this),o=v(this,t,n,b(this));o.split(/\s+/g).forEach(function(t){(e===S?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===S?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===S?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=j.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(E(t).css("margin-top"))||0,n.left-=parseFloat(E(t).css("margin-left"))||0,i.top+=parseFloat(E(e[0]).css("border-top-width"))||0,i.left+=parseFloat(E(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||O.body;t&&!j.test(t.nodeName)&&"static"==E(t).css("position");)t=t.offsetParent;return t})}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});E.fn[t]=function(o){var r,s=this[0];return o===S?n(s)?s["inner"+e]:i(s)?s.documentElement["scroll"+e]:(r=this.offset())&&r[t]:this.each(function(e){s=E(this),s.css(t,v(this,o,e,s[t]()))})}}),H.forEach(function(e,n){var i=n%2;E.fn[e]=function(){var e,o,r=E.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:$.fragment(n)}),s=this.length>1;return r.length<1?this:this.each(function(t,e){o=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var a=E.contains(O.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return E(t).remove();o.insertBefore(t,e),a&&x(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},E.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return E(t)[e](this),this}}),$.Z.prototype=f.prototype=E.fn,$.uniq=D,$.deserializeValue=w,E.zepto=$,E}();window.Zepto=n,void 0===window.$&&(window.$=n),function(t){function e(e,n,i){var o=t.Event(n);return t(e).trigger(o,i),!o.isDefaultPrevented()}function n(t,n,i,o){return t.global?e(n||y,i,o):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function r(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,i,"ajaxSend",[t,e])}function s(t,e,i,o){var r=i.context,s="success";i.success.call(r,t,s,e),o&&o.resolveWith(r,[t,s,e]),n(i,r,"ajaxSuccess",[e,i,t]),c(s,e,i)}function a(t,e,i,o,r){var s=o.context;o.error.call(s,i,e,t),r&&r.rejectWith(s,[i,e,t]),n(o,s,"ajaxError",[i,o,t||e]),c(e,i,o)}function c(t,e,i){var r=i.context;i.complete.call(r,e,t),n(i,r,"ajaxComplete",[e,i]),o(i)}function l(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==S?"json":w.test(t)?"script":x.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function p(e,n,i,o){return t.isFunction(n)&&(o=i,i=n,n=void 0),t.isFunction(i)||(o=i,i=void 0),{url:e,data:n,success:i,dataType:o}}function f(e,n,i,o){var r,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,c){r=t.type(c),o&&(n=i?o:o+"["+(a||"object"==r||"array"==r?n:"")+"]"),!o&&s?e.add(c.name,c.value):"array"==r||!i&&"object"==r?f(e,c,i,n):e.add(n,c)})}var m,g,v=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,S="application/json",T="text/html",E=/^\s*$/,k=y.createElement("a");k.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,o,c=e.jsonpCallback,l=(t.isFunction(c)?c():c)||"jsonp"+ ++v,u=y.createElement("script"),h=window[l],d=function(e){t(u).triggerHandler("error",e||"abort")},p={abort:d};return n&&n.promise(p),t(u).on("load error",function(r,c){clearTimeout(o),t(u).off().remove(),"error"!=r.type&&i?s(i[0],p,e,n):a(null,c||"error",p,e,n),window[l]=h,i&&t.isFunction(h)&&h(i[0]),h=i=void 0}),r(p,e)===!1?(d("abort"),p):(window[l]=function(){i=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),y.head.appendChild(u),e.timeout>0&&(o=setTimeout(function(){d("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,o,c=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===c[m]&&(c[m]=t.ajaxSettings[m]);i(c),c.crossDomain||(n=y.createElement("a"),n.href=c.url,n.href=n.href,c.crossDomain=k.protocol+"//"+k.host!=n.protocol+"//"+n.host),c.url||(c.url=window.location.toString()),(o=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,o)),d(c);var f=c.dataType,v=/\?.+=\?/.test(c.url);if(v&&(f="jsonp"),c.cache!==!1&&(e&&e.cache===!0||"script"!=f&&"jsonp"!=f)||(c.url=h(c.url,"_="+Date.now())),"jsonp"==f)return v||(c.url=h(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,p);var b,w=c.accepts[f],x={},S=function(t,e){x[t.toLowerCase()]=[t,e]},T=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,C=c.xhr(),D=C.setRequestHeader;if(p&&p.promise(C),c.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",w||"*/*"),(w=c.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(w)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&S("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(g in c.headers)S(g,c.headers[g]);if(C.setRequestHeader=S,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=l,clearTimeout(b);var e,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==T){f=f||u(c.mimeType||C.getResponseHeader("content-type")),e=C.responseText;try{"script"==f?(1,eval)(e):"xml"==f?e=C.responseXML:"json"==f&&(e=E.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?a(n,"parsererror",C,c,p):s(e,C,c,p)}else a(C.statusText||null,C.status?"error":"abort",C,c,p)}},r(C,c)===!1)return C.abort(),a(null,"abort",C,c,p),C;if(c.xhrFields)for(g in c.xhrFields)C[g]=c.xhrFields[g];var P="async"in c?c.async:!0;C.open(c.type,c.url,P,c.username,c.password);for(g in x)D.apply(C,x[g]);return c.timeout>0&&(b=setTimeout(function(){C.onreadystatechange=l,C.abort(),a(null,"timeout",C,c,p)},c.timeout)),C.send(c.data?c.data:null),C},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var o,r=this,s=e.split(/\s/),a=p(e,n,i),c=a.success;return s.length>1&&(a.url=s[0],o=s[1]),a.success=function(e){r.html(o?t("<div>").html(e.replace(b,"")).find(o):e),c&&c.apply(r,arguments)},t.ajax(a),this};var C=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(C(e)+"="+C(n))},f(i,e,n),i.join("&").replace(/%20/g,"+")}}(n),function(t){t.Callbacks=function(e){e=t.extend({},e);var n,i,o,r,s,a,c=[],l=!e.once&&[],u=function(t){for(n=e.memory&&t,i=!0,a=r||0,r=0,s=c.length,o=!0;c&&s>a;++a)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(l?l.length&&u(l.shift()):n?c.length=0:h.disable())},h={add:function(){if(c){var i=c.length,a=function(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!=typeof n&&a(n)})};a(arguments),o?s=c.length:n&&(r=i,u(n))}return this},remove:function(){return c&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,c,i))>-1;)c.splice(i,1),o&&(s>=i&&--s,a>=i&&--a)}),this},has:function(e){return!(!c||!(e?t.inArray(e,c)>-1:c.length))},empty:function(){return s=c.length=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||i&&!l||(e=e||[],e=[t,e.slice?e.slice():e],o?l.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments)},fired:function(){return!!i}};return h}}(n),function(t){function e(n){var i=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],o="pending",r={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var n=arguments;return e(function(e){t.each(i,function(i,o){var a=t.isFunction(n[i])&&n[i];s[o[1]](function(){var n=a&&a.apply(this,arguments);if(n&&t.isFunction(n.promise))n.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var i=this===r?e.promise():this,s=a?[n]:arguments;e[o[0]+"With"](i,s)}})}),n=null}).promise()},promise:function(e){return null!=e?t.extend(e,r):r}},s={};return t.each(i,function(t,e){var n=e[2],a=e[3];r[e[1]]=n.add,a&&n.add(function(){o=a},i[1^t][2].disable,i[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?r:this,arguments),this},s[e[0]+"With"]=n.fireWith}),r.promise(s),n&&n.call(s,s),s}var n=Array.prototype.slice;t.when=function(i){var o,r,s,a=n.call(arguments),c=a.length,l=0,u=1!==c||i&&t.isFunction(i.promise)?c:0,h=1===u?i:e(),d=function(t,e,i){return function(r){e[t]=this,i[t]=arguments.length>1?n.call(arguments):r,i===o?h.notifyWith(e,i):--u||h.resolveWith(e,i)}};if(c>1)for(o=new Array(c),r=new Array(c),s=new Array(c);c>l;++l)a[l]&&t.isFunction(a[l].promise)?a[l].promise().done(d(l,s,a)).fail(h.reject).progress(d(l,r,o)):--u;return u||h.resolveWith(s,a),h.promise()},t.Deferred=e}(n),function(t){function e(t,e){var n=this.os={},i=this.browser={},o=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!t.match(/\(Macintosh\; Intel /),a=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=/Win\d{2}|Windows/.test(e),d=t.match(/Windows Phone ([\d.]+)/),p=u&&t.match(/TouchPad/),f=t.match(/Kindle\/([\d.]+)/),m=t.match(/Silk\/([\d._]+)/),g=t.match(/(BlackBerry).*Version\/([\d.]+)/),v=t.match(/(BB10).*Version\/([\d.]+)/),y=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=t.match(/PlayBook/),w=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),x=t.match(/Firefox\/([\d.]+)/),S=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),T=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),E=!w&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),k=E||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!o)&&(i.version=o[1]),r&&(n.android=!0,n.version=r[2]),l&&!c&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),a&&(n.ios=n.ipad=!0,n.version=a[2].replace(/_/g,".")),c&&(n.ios=n.ipod=!0,n.version=c[3]?c[3].replace(/_/g,"."):null),d&&(n.wp=!0,n.version=d[1]),u&&(n.webos=!0,n.version=u[2]),p&&(n.touchpad=!0),g&&(n.blackberry=!0,n.version=g[2]),v&&(n.bb10=!0,n.version=v[2]),y&&(n.rimtabletos=!0,n.version=y[2]),b&&(i.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),m&&(i.silk=!0,i.version=m[1]),!m&&n.android&&t.match(/Kindle Fire/)&&(i.silk=!0),w&&(i.chrome=!0,i.version=w[1]),x&&(i.firefox=!0,i.version=x[1]),S&&(n.firefoxos=!0,n.version=S[1]),T&&(i.ie=!0,i.version=T[1]),k&&(s||n.ios||h)&&(i.safari=!0,n.ios||(i.version=k[1])),E&&(i.webview=!0),n.tablet=!!(a||b||r&&!t.match(/Mobile/)||x&&t.match(/Tablet/)||T&&!t.match(/Phone/)&&t.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(r||l||u||g||v||w&&t.match(/Android/)||w&&t.match(/CriOS\/([\d.]+)/)||x&&t.match(/Mobile/)||T&&t.match(/Touch/)))}e.call(t,navigator.userAgent,navigator.platform),t.__detect=e}(n),function(t){function e(t){return t._zid||(t._zid=d++)}function n(t,n,r,s){if(n=i(n),n.ns)var a=o(n.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||a.test(t.ns))&&(!r||e(t.fn)===e(r))&&(!s||t.sel==s)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function r(t,e){return t.del&&!y&&t.e in b||!!e}function s(t){return w[t]||y&&b[t]||t}function a(n,o,a,c,u,d,p){var f=e(n),m=g[f]||(g[f]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var o=i(e);o.fn=a,o.sel=u,o.e in w&&(a=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=d;var f=d||a;o.proxy=function(t){if(t=l(t),!t.isImmediatePropagationStopped()){t.data=c;var e=f.apply(n,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(s(o.e),o.proxy,r(o,p))})}function c(t,i,o,a,c){var l=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,o,a).forEach(function(e){delete g[l][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,r(e,c))})})}function l(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(E,function(t,i){var o=n[t];e[t]=function(){return this[i]=x,o&&o.apply(n,arguments)},e[i]=S}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function u(t){var e,n={originalEvent:t};for(e in t)T.test(e)||t[e]===h||(n[e]=t[e]);return l(n,t)}var h,d=1,p=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:a,remove:c},t.proxy=function(n,i){var o=2 in arguments&&p.call(arguments,2);if(f(n)){var r=function(){return n.apply(i,o?o.concat(p.call(arguments)):arguments)};return r._zid=e(n),r}if(m(i))return o?(o.unshift(n[i],n),t.proxy.apply(null,o)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},S=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,o,r){var s,l,d=this;return e&&!m(e)?(t.each(e,function(t,e){d.on(t,n,i,e,r)}),d):(m(n)||f(o)||o===!1||(o=i,i=n,n=h),(o===h||i===!1)&&(o=i,i=h),o===!1&&(o=S),d.each(function(h,d){r&&(s=function(t){return c(d,t.type,o),o.apply(this,arguments)}),n&&(l=function(e){var i,r=t(e.target).closest(n,d).get(0);return r&&r!==d?(i=t.extend(u(e),{currentTarget:r,liveFired:d}),(s||o).apply(r,[i].concat(p.call(arguments,1)))):void 0}),a(d,e,o,i,n,l||s)}))},t.fn.off=function(e,n,i){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,n,e)}),o):(m(n)||f(i)||i===!1||(i=n,n=h),i===!1&&(i=S),o.each(function(){c(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):l(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var o,r;return this.each(function(s,a){o=u(m(e)?t.Event(e):e),o._args=i,o.target=a,t.each(n(a,e.type||e),function(t,e){return r=e.proxy(o),o.isImmediatePropagationStopped()?!1:void 0})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(v[t]||"Events"),i=!0;if(e)for(var o in e)"bubbles"==o?i=!!e[o]:n[o]=e[o];return n.initEvent(t,i,!0),l(n)}}(n),function(t){t.fn.serializeArray=function(){var e,n,i=[],o=function(t){return t.forEach?t.forEach(o):void i.push({
name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,r){n=r.type,e=r.name,e&&"fieldset"!=r.nodeName.toLowerCase()&&!r.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||r.checked)&&o(t(r).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(n),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return o?o+t:t.toLowerCase()}var o,r,s,a,c,l,u,h,d,p,f="",m={Webkit:"webkit",Moz:"",O:"o"},g=document.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(m,function(t,n){return g.style[t+"TransitionProperty"]!==e?(f="-"+t.toLowerCase()+"-",o=n,!1):void 0}),r=f+"transform",y[s=f+"transition-property"]=y[a=f+"transition-duration"]=y[l=f+"transition-delay"]=y[c=f+"transition-timing-function"]=y[u=f+"animation-name"]=y[h=f+"animation-duration"]=y[p=f+"animation-delay"]=y[d=f+"animation-timing-function"]="",t.fx={off:o===e&&g.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:f,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,o,r,s){return t.isFunction(i)&&(r=i,o=e,i=e),t.isFunction(o)&&(r=o,o=e),t.isPlainObject(i)&&(o=i.easing,r=i.complete,s=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(n,i,o,r,s)},t.fn.anim=function(i,o,f,m,g){var b,w,x,S={},T="",E=this,k=t.fx.transitionEnd,C=!1;if(o===e&&(o=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(o=0),"string"==typeof i)S[u]=i,S[h]=o+"s",S[p]=g+"s",S[d]=f||"linear",k=t.fx.animationEnd;else{w=[];for(b in i)v.test(b)?T+=b+"("+i[b]+") ":(S[b]=i[b],w.push(n(b)));T&&(S[r]=T,w.push(r)),o>0&&"object"==typeof i&&(S[s]=w.join(", "),S[a]=o+"s",S[l]=g+"s",S[c]=f||"linear")}return x=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(k,x)}else t(this).unbind(k,x);C=!0,t(this).css(y),m&&m.call(this)},o>0&&(this.bind(k,x),setTimeout(function(){C||x.call(E)},1e3*(o+g)+25)),this.size()&&this.get(0).clientLeft,this.css(S),0>=o&&setTimeout(function(){E.each(function(){x.call(this)})},0),this},g=null}(n),function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var n,i=Object(this),o=i.length>>>0,r=0;if("function"!=typeof e)throw new TypeError;if(0==o&&1==arguments.length)throw new TypeError;if(arguments.length>=2)n=arguments[1];else for(;;){if(r in i){n=i[r++];break}if(++r>=o)throw new TypeError}for(;o>r;)r in i&&(n=e.call(t,n,i[r],r,i)),r++;return n})}(),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){u=null,d.last&&(d.el.trigger("longTap"),d={})}function i(){u&&clearTimeout(u),u=null}function o(){a&&clearTimeout(a),c&&clearTimeout(c),l&&clearTimeout(l),u&&clearTimeout(u),a=c=l=u=null,d={}}function r(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function s(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var a,c,l,u,h,d={},p=750;t(document).ready(function(){var f,m,g,v,y=0,b=0;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(d.el.trigger("swipe"),d.el.trigger("swipe"+e))}).on("touchstart",function(e){(!(v=s(e,"down"))||r(e))&&(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&d.x2&&(d.x2=void 0,d.y2=void 0),f=Date.now(),m=f-(d.last||f),d.el=t("tagName"in g.target?g.target:g.target.parentNode),a&&clearTimeout(a),d.x1=g.pageX,d.y1=g.pageY,m>0&&250>=m&&(d.isDoubleTap=!0),d.last=f,u=setTimeout(n,p),h&&v&&h.addPointer(e.pointerId))}).on("touchmove",function(t){(!(v=s(t,"move"))||r(t))&&(g=v?t:t.touches[0],i(),d.x2=g.pageX,d.y2=g.pageY,y+=Math.abs(d.x1-d.x2),b+=Math.abs(d.y1-d.y2))}).on("touchend",function(n){(!(v=s(n,"up"))||r(n))&&(i(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?l=setTimeout(function(){d.el.trigger("swipe"),d.el.trigger("swipe"+e(d.x1,d.x2,d.y1,d.y2)),d={}},0):"last"in d&&(30>y&&30>b?c=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,d.el&&d.el.trigger(e),d.isDoubleTap?(d.el&&d.el.trigger("doubleTap"),d={}):a=setTimeout(function(){a=null,d.el&&d.el.trigger("singleTap"),d={}},250)},0):d={}),y=b=0)}).on("touchcancel MSPointerCancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(n),t.exports=n},48:function(t,e,n){var i;i=function(t,e,i){n(49);var o=n(51),r=n(52);e.init=function(t){try{if(t=o.extend({usertrack:!0,"jump-for-ios-desktop":!0,"redirect-for-map-login":!0,"sync-bduss":!0,"sync-stoken":!0,locate:!0,"https-test":!0,"open-app":!0,"use-new-log":!1},t),t.usertrack){var e=n(53),i="";e.init(),e.register(".ns-track[mon]"),F.context("deal")&&F.context("deal").id&&(i="deal_id="+F.context("deal").id+"&cate="+F.context("trade-cate-id"),F.context("trade-sid")&&parseInt(F.context("trade-sid"),10)&&(i+="&telABtest="+F.context("trade-sid")),F.context("common-data")&&F.context("common-data").curStore&&(i+="&source="+F.context("common-data").channel+"&trade="+F.context("common-data").trade+"&poi_id="+F.context("common-data").curStore.merchant_id),F.context("deal").version&&(i+="&version="+F.context("deal").version)),t["use-new-log"]&&F.context("page-actionID")?e.send({actionID:F.context("page-actionID"),mon:i}):e.send({element_type:"pv",mon:i?i+"&element_type=pv":i})}if(t["jump-for-ios-desktop"]&&n(59).init(),t["redirect-for-map-login"]&&n(60).init(),t["sync-stoken"]?t["sync-bduss"]?n(61).init({isSyncStoken:!0}):n(68).init():n(61).init(),t.locate){var s=/(.)*baidumap(.)*/;s.test(window.navigator.userAgent)?n(69).getMapPosition():n(72).getPosition({usePositionIn30Min:!1,needAddress:!1})}t["https-test"]&&n(76).init(),t["open-app"]&&F.context("has-scheme")&&F.context("has-scheme").length>0&&n(77).init(F.context("has-scheme")),r.attach(document.body)}catch(a){var e=n(53);e.send({area:"base",actionID:"wap_Deal_jiankong"}),console.log(a)}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},49:function(t,e){},51:function(t,e,n){var i;i=function(t,e,n){var i=function(){},o=function(t){return Object.prototype.toString.call(t)},r=function(t,e){if("[object Array]"!==o(t)){for(var n in t)if(t.hasOwnProperty(n)&&e.call(this,t[n],n)===!1)return}else for(var i=0,r=t.length;r>i&&e.call(this,t[i],i)!==!1;i++);},s=function(t,e){if(!t)return t;var n=new t.constructor;return r(t,function(t,i){e(n,t,i)}),n},a=function(t,e){return s(t,function(t,n,i){t[i]=e?e(n,i):n})},c=function(t,e){return s(t,function(t,n,i){e(n,i)&&(t[i]=n)})},l=a,u=function(t,e,n){return t=(n?l(t):t)||{},r(e,function(e,n){t[n]=e}),t},h=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},d=function(t){t.css({"margin-left":"-"+t.width()/2+"px","margin-top":"-"+t.height()/2+"px"})},p=function(t){var e={UC:/ucbrowser/i,QQ:/mqqbrowser/i,LieBao:/liebao/i}[t];return e&&e.test(navigator.userAgent)},f=function(t){var e={Android:/android/i,IOS:/(ipad|iphone|ipod)/i}[t];return e&&e.test(navigator.userAgent)},m=function(t,e){if(null===e||void 0===e)return"";switch(e+="",t){case"phone":e=e.slice(0,3)+"****"+e.slice(-4)}return e},g=function(t,e){return t.replace(/\$\{([^\{\}]*)\}/g,function(t,n){var i=e[n.trim()];return null==i?"":i+""})},v=function(t,e){return(Array.prototype.join.call({length:e+1},"0")+t).slice(-e)},y=function(t,e){return t=t.replace(/\$([a-zA-Z])/g,function(t,e){return"${"+e+"}"}),e=new Date(e||Date.now()),g(t,{Y:v(e.getFullYear(),4),y:v(e.getFullYear(),2),M:v(e.getMonth()+1,2),d:v(e.getDate(),2),H:v(e.getHours(),2),m:v(e.getMinutes(),2),s:v(e.getSeconds(),2)})},b=function(t,e){for(var n=0,i=e.length;i>n;n++)if(t.indexOf(e[n])>=0)return!0;return!1},w=function(t){var e={},n=function(n,i){return e[n]=i||!e.hasOwnProperty(n)?t(n,i):e[n],e[n]},i=function(){e={}};return u(n,{clear:i})},x=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},S=function(t,e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=t&&t.match(n);return null!=i?i[2]:null},T=function(t){var e=/^bainuo/gim,n=/^bdbridge/gim;return t=decodeURIComponent(t||""),e.test(t)?t=t.replace("bainuo://component?url=",""):n.test(t)?(t=t.replace("bdbridge://communicate?",""),t="http://p.qiao.baidu.com/im/mapi?unq_id="+S(t,"ucid")+"&siteid="+S(t,"siteid")+"&app_id="+S(t,"appid")):t},E=function(t){for(var e=location.href||t,n=(e.split("?")[1]||"").split("&"),i={},o=0;o<n.length;o++){var r=n[o].split("=");r[0]&&(i[r[0]]=r[1])}return i};n.exports={doNothing:i,type:o,forEach:r,transform:s,map:a,filter:c,clone:l,extend:u,inherits:h,center:d,isBrowser:p,isSystem:f,protect:m,format:g,toLen:v,formatDate:y,hasAny:b,cachable:w,isElementInViewport:x,getParameter:S,bridgeToWap:T,getPara:E}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},52:function(t,e,n){var i;!function(){"use strict";/**
	     * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	     *
	     * @codingstandard ftlabs-jsv2
	     * @copyright The Financial Times Limited [All Rights Reserved]
	     * @license MIT License (see LICENSE.txt)
	     */
function o(t,e){function n(t,e){return function(){return t.apply(e,arguments)}}var i;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!o.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,c=0,l=r.length;l>c;c++)a[r[c]]=n(a[r[c]],a);s&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,s=navigator.userAgent.indexOf("Android")>0&&!r,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,c=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=a&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;o.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},o.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},o.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},o.prototype.determineEventType=function(t){return s&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},o.prototype.focus=function(t){var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},o.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},o.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],a){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!c){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},o.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},o.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},o.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(t){var e,n,i,o,r,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(r=t.changedTouches[0],u=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=u.tagName.toLowerCase(),"label"===i){if(e=this.findControl(u)){if(this.focus(u),s)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-n>100||a&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),a&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return a&&!c&&(o=u.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},o.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},o.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},o.prototype.destroy=function(){var t=this.layer;s&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.notNeeded=function(t){var e,n,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},o.attach=function(t,e){return new o(t,e)},i=function(){return o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}()},53:function(t,e,n){var i;i=function(t,e,i){var o=n(54),r=n(55),s="tap",a=(n(45),{client_type:"WAP_SMART",s:r.get("s"),channel:r.get("channel"),channel_content:r.get("channel_content"),target_city:r.get("areaCode")});a.s||delete a.s;var c={BAIDUID:"baiduid",BDUSS:"bduss",access_log:"user_cookie",SID:"sid"},l=["position","content","clickTimes","s","switch"],u=new o({monToDataSrc:l,triggerEvent:s});u.on("addCookieParam",function(t,e,n,i){"BAIDUID"===e&&(t[n]=i.substring(0,32)),"SID"===e&&t.sid&&F.context("hit")&&(t.sid=t.sid+"|"+F.context("hit"))}),u.config(a),u.setCookieList(c),u.resetCookieParam(c),u.setDataSrc({page:F.context("page-info")&&F.context("page-info").name||0}),i.exports=u}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},54:function(t,e,n){var i;i=function(t,e,i){function o(t){if(""===t)return{};for(var e,n={},i=t.split("&"),o=0,r=i.length;r>o;o++)e=i[o].split("="),n[e[0]]=e[1];return n}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n]);return t}function s(t){this.options=a.extend({},m,t),this._dataSrc={},this._cookieList={},this.globalParams={}}var a=n(45),c=n(55),l="s-1.gif"/*tpa=https://gss0.bdstatic.com/s.gif*/,u="v.gif"/*tpa=https://gss0.bdstatic.com/v.gif*/,h="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,d=h?"tap":"mousedown",p=n(56),f=n(57);f.init({$:a});var m={selector:"a[mon], a[data-mon]",triggerEvent:d,monToDataSrc:[],container:"body"};s.supportTouchEvent=h,s.prototype.send=function(t,e,n){"object"==typeof t&&t.mon&&!t.actionID&&(t=t.mon),"string"==typeof t&&(t=o(t)),void 0===e&&(e=document.body.firstElementChild),n=!!n;var i,s,c,h=+new Date,d="img_nsclick_"+h,p=t;if(p.access_time=h,e)for(e.getAttribute("href")&&(p.href=e.getAttribute("href")),e.getAttribute("bn_click")&&(p.actionID=e.getAttribute("bn_click")),n===!0&&(s=a.trim(a(e).attr("mon")||""),i=o(s),p=r(p,i)),e=e.parentElement;e&&e!==document.body;)s=a.trim(e.getAttribute("mon")||""),i=o(s),p=r(p,i),e=e.parentElement;var m,g={};if(r(g,this._dataSrc),t.actionID||p.actionID){var v;if(p.mon){var y=o(p.mon);v=a.extend(p,y),delete v.mon}else v=a.extend({},p);return void this.newStatistic(g,v)}p.area&&(g.area=p.area,p.element?(m=p.element,"#"===m.substr(0,1)&&a(m).length&&(m=a.trim(a(m).val()))):m=p.area,g.element=m,delete p.area,delete p.element,p.action=p.action||"click",p.element_type=p.element_type||"nav"),"pv"===p.element_type?f.send(F.context("log-info-ext"),{action_type:"pv"}):"click"===p.action&&f.send({area:g.area,element:g.element},{action_type:"click"}),this.options.monToDataSrc.forEach(function(t){null!=p[t]&&(g[t]=p[t]),delete p[t]});var b=["locate","other"].indexOf(p.action)>=0?u:l;p.s||delete p.s,c=a.param(p),c+="&da_src="+JSON.stringify(g),window[d]=new Image,window[d].onload=window[d].onerror=function(){window[d]=null},window[d].src=b+"?"+a.param(this.globalParams)+"&"+c,this.fire("send",this)},s.prototype.newStatistic=function(t,e){var n,i="",o=e.access_time,r={ComExtraParams:{}},s=["poi_id","deal_id","order_id","cateId","pos","cate","source","telABtest","trade","click_source","version","tel","module","click_area"];a.extend(r.ComExtraParams,t),e.area&&(r.ComExtraParams.area=e.area,e.element?(n=e.element,"#"===n.substr(0,1)&&a(n).length&&(n=a.trim(a(n).val()))):n=e.area,r.ComExtraParams.element=n,delete e.area,delete e.element),s.forEach(function(t){e[t]&&(r.ComExtraParams[t]=e[t],delete e[t])}),this.options.monToDataSrc.forEach(function(t){null!=e[t]&&(r.ComExtraParams[t]=e[t]),delete e[t]});var c=l;e.s||delete e.s,i=a.param(e),i+="&note="+JSON.stringify(r),window[o]=new Image,window[o].onload=window[o].onerror=function(){window[o]=null},window[o].src=c+"?"+a.param(this.globalParams)+"&"+i},s.prototype.config=function(t){a.extend(this.globalParams,t)},s.prototype.location=function(t,e){e=e||300,window.setTimeout(function(){window.location.href=t},e)},s.prototype.init=function(){this.$container=a(this.options.container),this.resetCookieParam(),this.handler=a.proxy(function(t){var e=a.trim(t.currentTarget.getAttribute("mon")||"");e&&this.send(e,t.currentTarget)},this),this.register(this.options.selector)},s.prototype.register=function(t){this.$container.on(this.options.triggerEvent,t,this.handler)},s.prototype.cancel=function(t){this.$container.off(this.options.triggerEvent,t,this.handler)},s.prototype.resetCookieParam=function(){var t=this;Object.keys(this._cookieList).forEach(function(e){t.addCookieParam(e,t._cookieList[e])})},s.prototype.addCookieParam=function(t,e){this._cookieList[t]=e;var n=c.get(t);n&&(this.globalParams[e]=n,this.fire("addCookieParam",this.globalParams,t,e,n))},s.prototype.setCookieList=function(t){var e=this;Object.keys(t).forEach(function(n){e.addCookieParam(n,t[n])})},s.prototype.setDataSrc=function(t){a.extend(this._dataSrc,t),f.set({client:"wap",page:this._dataSrc.page})},s.prototype.addMonToDataSrc=function(t){t=a.isArray(t)?t:[t],this.options.monToDataSrc=this.options.monToDataSrc.concat(t)},s.prototype.dispose=function(){this.cancel(this.options.selector),this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.dispose=function(){}},p.mixTo(s.prototype),i.exports=s}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},55:function(t,e){function n(t){return!isNaN(parseFloat(t))&&isFinite(t)}function i(t,e){if(t instanceof Array)return t.concat(e);var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}function o(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var r=encodeURIComponent,s=decodeURIComponent,a={createCookieString:function(t,e,i,o){o=o||{};var s=r(t)+"="+(i?r(e):e),a=o.expires,c=o.path||"/",l=o.domain||"https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/nuomi.com";if("object"==typeof o){if(a instanceof Date)s+="; expires="+a.toUTCString();else if(n(a)){var u=new Date;u.setDate(u.getDate()+a),s+="; expires="+u.toUTCString()}"string"==typeof c&&""!==c&&(s+="; path="+c),"string"==typeof l&&""!==l&&(s+="; domain="+l),o.secure===!0&&(s+="; secure")}return s},createCookieHashString:function(t){if("object"!=typeof t)return"";var e=[];return o(t,function(t,n){"function"!=typeof n&&"undefined"!=typeof n&&e.push(r(t)+"="+r(String(n)))}),e.join("&")},parseCookieHash:function(t){var e=t.split("&"),n=null,i={};if(t.length)for(var o=0,r=e.length;r>o;o++)n=e[o].split("="),i[s(n[0])]=s(n[1]);return i},parseCookieString:function(t,e,n){var i={};if("string"==typeof t&&t.length>0)for(var o=e===!1?function(t){return t}:s,r=t.split(/;\s/g),a=null,c=null,l=null,u=0,h=r.length;h>u;u++){if(l=r[u].match(/([^=]+)=/i),l instanceof Array)try{a=s(l[1]),c=o(r[u].substring(l[1].length+1))}catch(d){}else a=s(r[u]),c="";"undefined"!=typeof n&&n.reverseCookieLoading?"undefined"==typeof i[a]&&(i[a]=c):i[a]=c}return i},exists:function(t){if("string"!=typeof t||""===t)return!1;var e=this.parseCookieString(document.cookie,!0);return e.hasOwnProperty(t)},get:function(t,e){var n,i,o;return"function"==typeof e?(o=e,e={}):"object"==typeof e?o=e.converter:e={},n=this.parseCookieString(document.cookie,!e.raw,e),i=n[t],"undefined"==typeof i?null:"function"==typeof o?o(i):i},getSub:function(t,e,n,i){var o=this.getSubs(t,i);return null===o?null:"string"!=typeof e||""===e?null:"undefined"==typeof o[e]?null:"function"==typeof n?n(o[e]):o[e]},getSubs:function(t,e){var n=this.parseCookieString(document.cookie,!1,e);return"string"==typeof n[t]?this.parseCookieHash(n[t]):null},remove:function(t,e){return"string"!=typeof t||""===t?"":(e=i(e||{},{expires:new Date(0)}),this.set(t,"",e))},removeSub:function(t,e,n){if("string"!=typeof t||""===t)return"";if("string"!=typeof e||""===e)return"";n=n||{};var i=this.getSubs(t);if("object"==typeof i&&i.hasOwnProperty(e)){if(delete i[e],n.removeIfEmpty){for(var o in i)if(i.hasOwnProperty(o)&&"function"!=typeof i[o]&&"undefined"!=typeof i[o])return this.setSubs(t,i,n);return this.remove(t,n)}return this.setSubs(t,i,n)}return""},set:function(t,e,n){if("string"!=typeof t||""===t)return null;if("undefined"==typeof e)return null;n=n||{};var i=this.createCookieString(t,e,!n.raw,n);return document.cookie=i,i},setSub:function(t,e,n,i){if("string"!=typeof t||""===t)return"";if("string"!=typeof e||""===e)return"";if("undefined"==typeof n)return"";var o=this.getSubs(t);return o||(o={}),o[e]=n,this.setSubs(t,o,i)},setSubs:function(t,e,n){if("string"!=typeof t||""===t)return"";if("object"!=typeof e)return"";var i=this.createCookieString(t,this.createCookieHashString(e),!1,n);return document.cookie=i,i},enabled:function(){return navigator.cookieEnabled},clear:function(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var n=t[e],i=n.indexOf("="),o=i>-1?n.substr(0,i):n;document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}};t.exports=a},56:function(t,e,n){var i;i=function(t,e,n){function i(){}function o(t,e,n){var i=!0;if(t){var o=0,r=t.length,s=e[0],a=e[1],c=e[2];switch(e.length){case 0:for(;r>o;o+=2)i=t[o].call(t[o+1]||n)!==!1&&i;break;case 1:for(;r>o;o+=2)i=t[o].call(t[o+1]||n,s)!==!1&&i;break;case 2:for(;r>o;o+=2)i=t[o].call(t[o+1]||n,s,a)!==!1&&i;break;case 3:for(;r>o;o+=2)i=t[o].call(t[o+1]||n,s,a,c)!==!1&&i;break;default:for(;r>o;o+=2)i=t[o].apply(t[o+1]||n,e)!==!1&&i}}return i}var r=i.prototype,s=/\s+/;r._getEvents=function(){return this._events||(this._events={}),this._events};var a=Object.keys?Object.keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};r._getMaxListeners=function(){return isNaN(this.maxListeners)&&(this.maxListeners=15),this.maxListeners},r.on=function(t,e,n){var i,o,r,a=this._getEvents(),c=this._getMaxListeners();if(!e)return this;for(t=t.split(s);o=t.shift();){if(i=a[o]||(a[o]=[]),r=i.length,r>=c&&0!==c)throw new RangeError("Warning: possible Emitter memory leak detected. "+r+" listeners added.");i.push(e,n)}return this},r.once=function(t,e,n){var i=this,o=function(){i.off(t,o),e.apply(n||i,arguments)};return this.on(t,o,n)},r.un=r.off=function(t,e,n){var i,o,r,c=this._getEvents();if(!c)return this;if(0===arguments.length)return delete this._events,this;for(t=t?t.split(s):a(c);i=t.shift();)if(r=c[i])if(e||n)for(o=r.length-2;o>=0;o-=2)e&&r[o]!==e||n&&r[o+1]!==n||r.splice(o,2);else delete c[i];return this},r.fire=r.emit=function(t){var e,n,i,r,a,c,l=[],u=!0;if(!(e=this._events))return this;for(t=t.split(s),c=1,r=arguments.length;r>c;c++)l[c-1]=arguments[c];for(;n=t.shift();)(i=e.all)&&(i=i.slice()),(a=e[n])&&(a=a.slice()),"all"!==n&&(u=o(a,l,this)&&u),u=o(i,[n].concat(l),this)&&u;return u},i.mixTo=function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t},n.exports=i}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},57:function(t,e,n){"use strict";function i(){return+new Date+"_"+(Math.random()+"").replace(/^0./,"")}function o(t){try{var e={};p.each({_:i(),target:"sidlog",tip:"小流量日志",type:"error",log:""},function(t,n){e["fe_"+t]=n}),"string"==typeof t?e.log=t:p.extend(e,t),document.createElement("img").src=h.uri+"?"+p.serialize(e),void 0!==typeof console&&console&&console.info&&console.info(e)}catch(n){void 0!==typeof console&&console&&console.info&&console.info("小流量日志: log error")}}function r(){m||(f.init(),o({type:"warn",log:"use before init"}))}function s(t){var e={uri:"error-1.html"/*tpa=https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/samplelog.nuomi.com/t.gif*/,container:document.body,selector:"a[mon]",attr:"mon"};return t&&p.extend(e,t),e.uri=location.protocol+"//"+e.uri,e}function a(){var t={common:{},pv:{},click:{}},e=t.common;return p.each(["channel","BAIDUID","SID","access_log"],function(t,n){var i=p.getRawCookie(n);null!=i&&(e[n.toLowerCase()]=i)}),t}function c(t){var e=document.referrer,n=e?"&"+p.serialize({refer:e}):"",o=h.uri+"?"+p.serialize(t)+"&__="+i(),r=function(t){document.createElement("img").src=o+(e&&t?"&"+p.serialize({refer:e.match(/^(.*?)(?=#|\?|$)/)[0],js_cut:1}):n)};try{r()}catch(s){r(!0)}}function l(){return{uuid:i(),set:function(t,e){try{r(),p.extend(d[e&&e.action_type||"common"],t)}catch(n){o("call member `set` error")}},send:function(t,e){try{r(),e=e||{};var n=e.action_type||t.action_type||d.common.action_type;switch(n){case"pv":break;case"click":break;default:return void o("send without action_type")}c(p.extend({},d.common,d[n],t,{action_type:n}))}catch(i){o("call member `send` error")}},dispose:function(){}}}var u,h,d,p=n(58),f={},m=!1;f.init=function(t){try{if(m)return;m=!0,t=t||{},u=t.$||window.$,h=s(t),d=a(),p.extend(f,l())}catch(e){o("call member `init` error")}},t.exports=f},58:function(t,e){"use strict";var n={each:function(t,e){var n=Object.prototype;if("[object Array]"===n.toString.call(t)){for(var i=t.length,o=0;i>o;o++)if(e(o,t[o])===!1)return}else if(t)for(var r in t)if(n.hasOwnProperty.call(t,r)&&e(r,t[r])===!1)return},extend:function(t){function e(e,n){t[e]=n}for(var i=arguments.length,o=1;i>o;o++)n.each(arguments[o],e);return t},escapeReg:function(t){return t.replace(/([-.*+?^$=!:{}()|[\]/\\])/g,"\\$1")},encode:encodeURIComponent,decode:function(t){t+="";try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},serialize:function(t,e){e=e||n.encode;var i=[];return n.each(t,function(t,n){null!=n&&i.push(e(t)+"="+e(n))}),i.join("&")},query2obj:function(t,e){e=e||n.decode;var i={};return"string"!=typeof t?t||i:(t=t.replace(/^&|^\?/,""),n.each(t?t.split("&"):[],function(t,n){n=n.split("="),i[e(n[0])]=e(n[1])}),i)},getRawCookie:function(t){return new RegExp("(?:^|; )"+n.escapeReg(t)+"=(.*?)(?:; |$)").test(document.cookie||"")&&"string"==typeof RegExp.$1?RegExp.$1:void 0}};t.exports=n},59:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(53);e.init=function(){navigator&&navigator.standalone&&o(document).on("click","a",function(t){t.preventDefault();var e=o(t.currentTarget).attr("href");/^javascript\:/.test(e)||r.location(e)})}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},60:function(t,e,n){var i;i=function(t,e,i){var o=n(55);e.init=function(){1===parseInt(o.get("loginMapApp"),10)&&(location.href="bdapi://wappass_login.sync")}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},61:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(55),s=function(t,e){o.ajax({url:"//nuomiwappassport.baidu.com/webapp/user/crossdomainsync",data:{ac:t},dataType:"jsonp",success:function(t){e(t.errno,t.data)}})};e.init=function(t){s(1,function(e,i){n(62).syncUserInfo(!0),t&&t.isSyncStoken&&n(68).init()}),s(2,function(t,e){t||r.set("BAIDUID",e.baiduid,{raw:1,expires:2592e3})})}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},62:function(t,e,n){var i;i=function(t,e,i){n(63);var o=n(45),r=n(51),s=n(65),a=s.getInfoLoader(62),c=n(67),l=o("#footer"),u=c.parse(),h=function(){var t=l.find('[data-role="info-block"]');if(t.length){var e=window.location.href;['[data-role="city-link"]','[data-role="login-link"]','[data-role="register-link"]'].forEach(function(n){var i=t.find(n);i.attr("href",i.attr("href")+encodeURIComponent(e))})}},d=function(t){var e=l.find('[data-role="info-block"]');if(e.length){var n=e.find('[data-role="login-block"]'),i=e.find('[data-role="user-block"]'),o=e.find('[data-role="ticket"]');e.find('[data-role="unpaid"]');a=t?s.getInfoLoader(62,!0):a,a.get(["user","unusedOrders","unpaidInfo"],function(t,e,r){if(!t)return i.hide(),void n.show();n.hide(),i.show();var s=e&&e.total||0;r&&r.unpayCount||0;o.text("糯米券("+s+")")})}},p=function(t){l.length&&(1===+u.hidehomebutton&&(l.find(".info-block").hide(),l.find(".link-block").hide()),t=r.extend({},t),h(),d())};i.exports={init:p,syncUserInfo:d}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},63:function(t,e){},65:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(66),s=function(t,e){o.ajax({url:"/webapp/user/asyncuserinfo?"+Date.now(),type:"post",data:{ac:t},dataType:"json",success:function(t){e&&e(null,t)},error:e})},a={},c=function(t,e){return!e&&a[t]?a[t]:a[t]=new r(s.bind(null,t))};i.exports={getInfo:s,getInfoLoader:c}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},66:function(t,e,n){var i;i=function(t,e,n){function i(t){this._load=t,this.status=i.STATUS.WAITING,this.saved=null,this.waitings=[],this.params={}}var o=function(t,e,n){t.apply(null,e.map(function(t){return n[t]}))};i.STATUS={WAITING:0,LOADING:1,SUCCESS:2,FAILED:3},i.prototype.resolve=function(t){this.waitings.forEach(function(e){o(e.fn,e.args,t)}),this.saved=t},i.prototype.param=function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e]);return this.params},i.prototype.load=function(){var t=this;t.status!==i.STATUS.LOADING&&(t.status=i.STATUS.LOADING,t._load(function(e,n){e?(t.status=i.STATUS.FAILED,console.error(e)):(t.status=i.STATUS.SUCCESS,t.resolve(n))}))},i.prototype.get=function(t,e){this.status===i.STATUS.WAITING&&this.load();var n="[object Array]"===Object.prototype.toString.call(t)?t:[t];this.status===i.STATUS.LOADING&&this.waitings.push({fn:e,args:n}),this.status===i.STATUS.SUCCESS&&o(e,n,this.saved)},n.exports=i}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},67:function(t,e,n){var i;i=function(t,e,n){function i(t,e){void 0===t&&(t=window.location.search.substring(1));for(var n=t.split("&"),i={},o=0,r=n.length;r>o;o++){var s,a=n[o].split("="),c=e||"phone_params"===a[0]?a[0]:decodeURIComponent(a[0]);(s=a[1])&&(s=e||"phone_params"===a[0]?s:decodeURIComponent(s).replace(/\+/g," "),void 0===i[c]?i[c]=s:("object"!=typeof i[c]&&(i[c]=[i[c]]),i[c].push(s)))}return i}function o(t,e){var n,i,o=[];for(n in t)if(t.hasOwnProperty(n)){if(i=t[n],n=e?n:encodeURIComponent(n),!i)continue;if("object"!=typeof i)o.push(n+"="+(e?i:encodeURIComponent(i)));else for(var r=0,s=i.length;s>r;r++)i[r]&&o.push(n+"="+(e?i[r]:encodeURIComponent(i[r])))}return o.join("&").replace(/\%20/g,"+")}var r=function(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},s=function(t,e){void 0===e&&(e=t,t=window.location.search.substring(1)),"string"==typeof t&&(t=i(t)),"string"==typeof e&&(e=i(e));var n=r(t,e);return o(n)},a=function(t,e){1===arguments.length&&(e=t,t=window.location.search.substring(1));var n=i(t);for(var r in n)if(n.hasOwnProperty(r))switch(typeof e){case"string":r===e&&(n[r]="");break;case"object":e.indexOf&&e.indexOf(r)>=0&&(n[r]="");break;case"function":e(n[r],r)===!0&&(n[r]="")}return o(n)};n.exports={create:s,parse:i,reject:a,stringify:o}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},68:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=(n(55),function(t){o.ajax({url:"//wappass.baidu.com/v3/login/api/auth",data:t,timeout:3e3,dataType:"jsonp",jsonpCallback:"cb",success:function(t){},fail:function(t){}})});e.init=function(){r({return_type:5,tpl:"nuomi",u:"https://m.nuomi.com/webapp/user/setstoken?callback=cb",notjump:1},function(t,e){})}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},69:function(t,e,n){var i;i=function(t,e,i){function o(t){var e=t,n={path:"/",webKey:"H_LOC_MI",nativeCookieKey:"H_LOC_APP",expires:18e5};t=JSON.stringify(t),a.setItem(n.webKey,t),r(n.webKey,JSON.stringify(e),{path:n.path,expires:new Date(Date.now()+n.expires)})}function r(t,e,n){s.set(t,e,n)}var s=n(55),a=n(70),c=n(71),l=function(){var t=/(.)*baidumap_ANDR(.)*/,e=/(.)*baidumap_IPHO(.)*/;window.mapCallback=function(t){t=JSON.parse(t);var e=+t.loc_x,n=+t.loc_y,i=[e,n],r=c.convertMC2LL(i),s=(new Date).valueOf();if(0!==e&&0!==n){var a={crd:e+"_"+n+"_"+r[0]+"_"+r[1]+"_10",cc:t.c,addr:"",tp:"",city:"",district:"",street:"",t:s};o(a)}};var n="bdapi://getNativeInfo?callback=mapCallback";if(t.test(window.navigator.userAgent)){var i=document.createElement("iframe");i.style.cssText="width:0px;height:0px;",i.src=n,document.body.appendChild(i),setTimeout(function(){document.body.removeChild(i)},1e3)}else if(e.test(window.navigator.userAgent)){var r=document.createElement("a");r.style.cssText="width:100px;height:100px;position:fixed;top: 100px;display:block;",r.href=n,document.body.appendChild(r),r.click()}else{alert("wap test");var s=(new Date).valueOf(),a=[13538027,3634552],l=c.convertMC2LL(a),u={crd:l[0]+"_"+l[1]+"_10",cc:289,addr:"",tp:"",city:"",district:"",street:"",t:s};o(u)}};i.exports={getMapPosition:l}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},70:function(t,e,n){var i;i=function(t,e,n){n.exports=function(){function t(t){try{return JSON.parse(t)}catch(e){return t}}var e=window.sessionStorage,n=function(){try{return e.setItem("t","t"),!0}catch(t){return!1}}(),i=function(t,i){if(n){if("string"!=typeof i&&"object"!=typeof i)throw new Error("`"+i+"` is not the valid value, only support String or Object");e.setItem(t,"object"==typeof i?JSON.stringify(i):i)}},o=function(t){n&&e.removeItem(t)},r=function(i){if(n){var o=t(e.getItem(i));return o?o:null}},s=function(){n&&e.clear()},a=function(){if(n){for(var t={},i=[],o=0,s=e.length;s>o;o++)i.push(e.key(o));for(o=0,s=i.length;s>o;o++){var a=i[o],c=r(a);null!==c&&(t[a]=c)}return t}};return{available:n,setItem:i,getItem:r,removeItem:o,clear:s,getAll:a}}()}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},71:function(t,e,n){var i;i=function(t,e,n){function i(t){var e,n,i;for(t[0]=a(t[0],-180,180),t[1]=s(t[1],-74,74),e=t.slice(0),i=0;i<l.length;i++)if(e[1]>=l[i]){n=h[i];break}if(!n)for(i=l.length-1;i>=0;i--)if(e[1]<=-l[i]){n=h[i];break}var o=r(t,n);return t=[o[0].toFixed(2),o[1].toFixed(2)]}function o(t){var e,n;e=[Math.abs(t[0]),Math.abs(t[1])];for(var i=0;i<c.length;i++)if(e[1]>=c[i]){n=u[i];break}var o=r(t,n);return t=[o[0].toFixed(6),o[1].toFixed(6)]}function r(t,e){if(t&&e){var n=e[0]+e[1]*Math.abs(t[0]),i=Math.abs(t[1])/e[9],o=e[2]+e[3]*i+e[4]*i*i+e[5]*i*i*i+e[6]*i*i*i*i+e[7]*i*i*i*i*i+e[8]*i*i*i*i*i*i;return n*=t[0]<0?-1:1,o*=t[1]<0?-1:1,[n,o]}}function s(t,e,n){return null!=e&&(t=Math.max(t,e)),null!=n&&(t=Math.min(t,n)),t}function a(t,e,n){for(;t>n;)t-=n-e;for(;e>t;)t+=n-e;return t}var c=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],l=[75,60,45,30,15,0],u=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],h=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];n.exports={convertLL2MC:function(t){return i(t)},convertMC2LL:function(t){return o(t)}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},72:function(t,e,n){var i;i=function(t,e,i){function o(t,e){e=e||{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function r(t,e){return t.replace(/\$\{([^\{\}]*)\}/g,function(t,n){var i=e[n.trim()];return null==i?"":i+""})}function s(t,e){if(t+=(t.indexOf("?")>=0?"&":"?")+"mcmdf=inapp_baidunuomi",t.indexOf("callback=")<0){var n="_cbk"+Math.floor(1e4*Math.random());window[n]=e,t+="&callback="+n}var i=document.createElement("script");i.src=t,i.addEventListener("load",function(t){var e=t.target;e.parentNode.removeChild(e),delete window[n]},!1),document.getElementsByTagName("head")[0].appendChild(i)}function a(t,e,n){var i=!1,o=function(){return i?void 0:(i=!0,t.apply(this,arguments));
};return setTimeout(function(){o(n||new Error("TIME_OUT"))},e),o}function c(t,e,n){if(t.x=t.x&&parseFloat(t.x),t.y=t.y&&parseFloat(t.y),t.longitude=t.longitude&&parseFloat(t.longitude),t.latitude=t.latitude&&parseFloat(t.latitude),void 0===t.x||void 0===t.y){var i=p.lngLatToPixel(t.longitude,t.latitude,18);t.x=i[0],t.y=i[1]}else if(void 0===t.longitude||void 0===t.latitude){var o=p.pixelToLngLat(t.x,t.y,18);t.longitude=o[0],t.latitude=o[1]}this.coords=t,this.timestamp=e,this.addressComponent=n||{city:"",district:"",street:""},this.address=this.addressComponent.city+this.addressComponent.district+this.addressComponent.street}function l(t,e){var n="_callback"+(Math.random()+"").slice(2);window.baidu=window.baidu||{},window.baidu[n]=function(n){o(t.coords,{x:n.point.x,y:n.point.y});var i=n.addr;o(t.addressComponent,{city:i.city,cityCode:i.city_code,district:i.district,street:i.street}),t.address=i.city+i.district+i.street,e(null,t)};var i=r("//loc.map.baidu.com/wloc?x=${x}&y=${y}&r=41&prod=geoapi&addr=city|district|street|city_code&fn=${fn}&t=${t}",{x:t.coords.longitude,y:t.coords.latitude,fn:n,t:Date.now()});s(i)}function u(t){return f.get(t)}function h(t,e,n){f.set(t,e,n)}function d(t){var e=t.addressComponent,n=t.address,i=t.coords;return{crd:i.x+"_"+i.y+"_"+i.longitude+"_"+i.latitude+"_"+i.accuracy,cc:e.cityCode,addr:n,tp:"gl",city:e.city,district:e.district,street:e.street,t:t.timestamp}}var p=n(73),f=n(55),m=n(53),g=n(67),v=n(74),y=n(75),b=n(70),w={getPosition:function(t){var e=this,n=function(n){n&&0===parseInt(n.error,10)?e.requestPosition(t):t({code:-2})};n=a(n,2e3,{code:6}),s("http://127.0.0.1:6259/getapn?",n)},requestPosition:function(t){var e=function(e){if(e&&0===parseInt(e.error,10)){var n=[e.coords.longitude,e.coords.latitude],i=e.coords.accuracy,o=p.pixelToLngLat(n[0],n[1],18),r=new c({x:n[0],y:n[1],accuracy:i,longitude:o[0],latitude:o[1]},Date.now());t(null,{position:r})}else t(e&&e.error>0?{code:e.error}:{code:-1})},e=a(e,1e4,{code:3});s("http://127.0.0.1:6259/geolocation?timeout=10000",e)}},x={CODE_NOT_SUPPORTED:-2,CODE_UNKNOWN:-1,CODE_PERMISSION_DENIED:1,CODE_UNAVAILABLE:2,CODE_TIMEOUT:3,getPosition:function(t){var e=this;return window.clouda&&window.clouda.device&&window.clouda.device.geolocation?void window.clouda.device.geolocation.get({onsuccess:function(e){var n={position:{coords:e,timestamp:+new Date}};t(null,n)},onfail:function(e){t({code:e})}}):void t({code:e.CODE_NOT_SUPPORTED})}},S={PUBLIC_KEY:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDHK9EWhFBhnztm+8pnVEfAqL3f\n228diB1D3O0s0vMMA/cpJrV52gMx+qT+HDKVkYfVp/H/j3KDeeF8K6gkTZ8sz5M5\n5cw99eBvo9Em6/iVdaL4adBFCGwbWWoAjXqKDo5Mgu7ccUGLu940wsGJTlLL2pix\nSmR15Qubuew8mFd7dQIDAQAB\n-----END PUBLIC KEY-----",config:{path:"/",webSessionKey:"H_LOC_MI",nativeSessionKey:"H_LOC_APP",expires:18e5},getSession:function(t){return b.getItem(t)},getPosition:function(t){var e=this.getSession(this.config.nativeSessionKey)||this.getSession(this.config.webSessionKey),n=u(this.config.nativeSessionKey)||u(this.config.webSessionKey);if(!e||!n)return void t({code:1});try{n=JSON.parse(n)}catch(i){return void t({code:1})}var o=n.crd&&function(t){return t=n.crd.split("_"),t.length>4&&{x:t[0],y:t[1],longitude:t[2],latitude:t[3],accuracy:t[4]}}(n.crd);if(o)return void t({code:1});var r=e.crd&&function(t){return t=e.crd.split("_"),t.length>4&&{x:t[0],y:t[1],longitude:t[2],latitude:t[3],accuracy:t[4]}}(e.crd);if(!r)return void t({code:1});var s=new c(r,parseInt(e.t,10),{city:e.city,district:e.district,street:e.street,cityCode:e.cc});s.coords.x?t(null,{position:s}):t({code:2})},setPosition:function(t){var e=t=d(t);t=JSON.stringify(t),b.setItem(this.config.webSessionKey,t);var n=new y;n.setPublicKey(this.PUBLIC_KEY);for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(!o)continue;try{e[i]=n.encrypt(o.toString())}catch(r){e[i]=o}}h(this.config.webSessionKey,JSON.stringify(e),{path:this.config.path,expires:new Date(Date.now()+this.config.expires)})}},T={config:{path:"/",webCookieKey:"H_LOC_MI",nativeCookieKey:"H_LOC_APP",expires:18e5},getPosition:function(t,e){t=parseInt(t,10);var n=u(this.config.nativeCookieKey)||u(this.config.webCookieKey);if(!n)return void e({code:1});try{n=JSON.parse(n)}catch(i){return void e({code:1})}var o=n.crd&&function(t){return t=n.crd.split("_"),t.length>4&&{x:t[0],y:t[1],longitude:t[2],latitude:t[3],accuracy:t[4]}}(n.crd);if(!o)return void e({code:1});var r=new c(o,parseInt(n.t,10),{city:n.city,district:n.district,street:n.street,cityCode:n.cc});r.coords.x&&r.timestamp+6e4*t>Date.now()?e(null,{position:r}):e({code:2})},setPosition:function(t){t=d(t),t=JSON.stringify(t),h(this.config.webCookieKey,t,{path:this.config.path,expires:new Date(Date.now()+this.config.expires)})}},E={getPosition:function(t){if(""===window.winksi.getLocationInfo())return void t({code:4});var e=JSON.parse(window.winksi.getLocationInfo()),n={longitude:e.lng,latitude:e.lat},i=new c(n,Date.now(),{city:e.city,zdcityid:e.zdcityid,province:e.province,district:e.district,street:e.street,streetNumber:e.streetnumber,cityCode:e.bdcitycode});t(null,{position:i})},forceGetPosition:function(t){if(!window.winksi.forceGetLocationInfo())return void t({code:4});var e=window.winksi.forceGetLocationInfo();e=e.replace(/^(\w+\:\w+)/,"").replace(/\)$/,""),e=JSON.parse(e);var n={longitude:e.lng,latitude:e.lat},i=new c(n,Date.now(),{city:e.city,zdcityid:e.zdcityid,province:e.province,district:e.district,street:e.street,streetNumber:e.streetnumber,cityCode:e.bdcitycode});t(null,{position:i})}},k={getPosition:function(t,e){if(!navigator.geolocation)return void e({code:4});t=t||{};var n={timeout:t.timeout,enableHighAccuracy:t.enableHighAccuracy,maximumAge:t.maximumAge};navigator.geolocation.getCurrentPosition(function(t){e(null,{position:t})},e,n)}},C={alipay:function(t,e){window.Ali&&window.Ali.alipayVersion&&window.Ali.alipayVersion.slice(0,3)>=8.1?window.Ali.geolocation.getCurrentPosition({timeout:5e3},function(t){t.errorCode?e(t.errorCode):e(null,{position:new c(t.coords,Date.now())})}):e("not in alipay")},"url-1":function(t,e){try{var n=g.parse(),i=n.locMC.split("|").map(parseFloat),o=p.pixelToLngLat(i[0],i[1],18)}catch(r){return void e(r)}e(null,{position:new c({x:i[0],y:i[1],longitude:o[0],latitude:o[1]},Date.now())})},"url-2":function(t,e){try{var n=g.parse(),i=JSON.parse(n.bdboxinfo),o=i.ofniw.split("_").slice(0,2).map(parseFloat),r=p.pixelToLngLat(o[0],o[1],18)}catch(s){return void e(s)}e(null,{position:new c({x:o[0],y:o[1],longitude:r[0],latitude:r[1]},Date.now())})},"url-3":function(t,e){try{var n=g.parse(),i=parseFloat(n.lng),o=parseFloat(n.lat)}catch(r){return void e(r)}e(null,{position:new c({x:i,y:o,longitude:i,latitude:o},Date.now())})},"cookie-5":function(t,e){var n=function(){var t=u("channel_webapp")&&u("channel_webapp").toLowerCase();return t&&t.indexOf("zhongda_")>-1?!0:!1}();n?S.getPosition(e):T.getPosition(5,e)},zhongda:function(t,e){try{E.getPosition(e)}catch(n){e({code:4})}},"cookie-30":function(t,e){var n=function(){var t=u("channel_webapp")&&u("channel_webapp").toLowerCase();return t&&t.indexOf("zhongda_")>-1?!0:!1}();n?S.getPosition(e):T.getPosition(5,e)},"light-app":function(t,e){x.getPosition(function(t,n){return t?void e(t):void e(t,{position:new c(n.position.coords,n.position.timestamp)})})},"native":function(t,e){w.getPosition(e)},html5:function(t,e){k.getPosition(t,function(t,n){return t?void e(t):void e(t,{position:new c(n.position.coords,n.position.timestamp)})})},mobileBaiduClient:function(t,e){var n=document.body,i="cb"+(Math.random()+"").slice(2),o=document.createElement("iframe");window[i]=function(t){t=JSON.parse(t),e(null,{position:new c(t.coords,+new Date)}),delete window[i],n.removeChild(o)};try{o.src="baiduboxapp://utils?action=getCurrentLocation&func="+i+"&minver=6.0.0.0",o.width="0",o.height="0",o.style="visibility:hidden;display:none;",n.appendChild(o)}catch(r){e(r)}},"bainuo-na-bridge":function(t,e){var n=window.BNJS.location;return n.hasLocation?void e(null,{position:new c({longitude:n.longitude,latitude:n.latitude},Date.now())}):void e("No location info")}},D=function(t){var e=u("channel_webapp"),n=e&&(0===e.indexOf("baiduboxapp")||0===e.indexOf("kuangfaxian")||0===e.indexOf("wise_m_gtuangou")),i=e&&0===e.indexOf("fr_na"),o=navigator.userAgent.indexOf("Android")>-1,r=navigator.userAgent.match(/i(Phone|Pod|Pad)/i),s=e&&e.indexOf("zhongda_"),a=u("gpsGot")&&"1"===u("gpsGot")?!0:!1,c=u("channel")?u("channel").indexOf("fczhitongche")>-1:!1,l=n&&!o||i||c||a,h=function(t){return l||t.push("html5"),/android/i.test(navigator.userAgent)&&t.push("native"),v.isAlipay()&&t.push("alipay"),n&&r&&t.push("mobileBaiduClient"),t}(["light-app"]),d=function(e){t.cookieFirst?e.unshift("cookie-5"):e.push("cookie-5"),window.BNJS&&e.unshift("bainuo-na-bridge");var n=g.parse();return n.locMC&&e.unshift("url-1"),n.lng&&n.lat&&e.unshift("url-3"),s>-1&&e.unshift("zhongda"),n.bdboxinfo,t.usePositionIn30Min&&e.push("cookie-30"),!l&&t.retry&&e.push("html5"),e}([h]);return d},P=function(t,e,n){var i=Date.now(),r={enableHighAccuracy:!1,timeout:3e4,maximumAge:1e4,retry:!0,cookieFirst:!0,usePositionIn30Min:!0,needAddress:!0};r=o(r,n);var s=D(r),a={},c=!1,h=function(e,n){if(n.indexOf("cookie")<0){var i=function(){var t=u("channel_webapp")&&u("channel_webapp").toLowerCase();return t&&t.indexOf("zhongda_")>-1?!0:!1}();i?S.setPosition(e):T.setPosition(e)}t&&t(e,n)},d=function(t){e&&e(t)},p=function(t,e,n){if(c=!0,m.send({action:"locate",type:t?"success":"failure",reason:n,code:Object.keys(a).map(function(t){return t+":"+(a[t]&&a[t].code)}).join(","),time:Date.now()-i}),t){var o=e.position;r.needAddress&&!o.address?l(o,function(t,e){t?(a.getAddress=t,d(a)):h(e,n)}):h(o,n)}else d(a)},f=function(t){t=t||0;var e=s[t];e="[object Array]"===Object.prototype.toString.call(e)?e:[e];var n=e.length,i=function(e,i,o){if(!c)if(e){if(a[o]=e,--n)return;s[++t]?f(t):p(!1,a,o)}else p(!0,i,o)};e.forEach(function(t){C[t](r,function(e,n){i(e,n,t)})})};f()},A=function(t){var e=function(){var t=u("channel_webapp")&&u("channel_webapp").toLowerCase();return t&&t.indexOf("zhongda_")>-1?!0:!1}();e?S.setPosition(t.position):T.setPosition(t.position)};window.geolocation={getCurrentPosition:P,setCookiePosition:A},i.exports={getPosition:function(t,e){return e=e||function(){},P(function(t,n){e(null,t,n)},e,t)},setCookiePosition:A,getAddressInfo:function(t,e){l(new c(t,Date.now()),function(t,n){return t?void e(t):void e(null,n.addressComponent)})}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},73:function(t,e,n){var i;i=function(t,e,n){function i(t,e,n){return s([t/Math.pow(2,n-18),e/Math.pow(2,n-18)])}function o(t,e,n){var i=r([t,e]),o=i[0]*Math.pow(2,n-18),s=i[1]*Math.pow(2,n-18);return[Math.ceil(o),Math.ceil(s)]}function r(t){t[0]=l(t[0],-180,180),t[1]=c(t[1],-74,74);for(var e,n=t.slice(0),i=0;i<h.length;i++)if(n[1]>=h[i]){e=p[i];break}if(!e)for(i=h.length-1;i>=0;i--)if(n[1]<=-h[i]){e=p[i];break}var o=a(t,e);return t=[o[0].toFixed(2),o[1].toFixed(2)]}function s(t){for(var e,n=[Math.abs(t[0]),Math.abs(t[1])],i=0;i<u.length;i++)if(n[1]>=u[i]){e=d[i];break}var o=a(t,e);return t=[o[0].toFixed(6),o[1].toFixed(6)]}function a(t,e){if(t&&e){var n=e[0]+e[1]*Math.abs(t[0]),i=Math.abs(t[1])/e[9],o=e[2]+e[3]*i+e[4]*i*i+e[5]*i*i*i+e[6]*i*i*i*i+e[7]*i*i*i*i*i+e[8]*i*i*i*i*i*i;return n*=t[0]<0?-1:1,o*=t[1]<0?-1:1,[n,o]}}function c(t,e,n){return null!=e&&(t=Math.max(t,e)),null!=n&&(t=Math.min(t,n)),t}function l(t,e,n){for(;t>n;)t-=n-e;for(;e>t;)t+=n-e;return t}var u=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],h=[75,60,45,30,15,0],d=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],p=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];n.exports={pixelToLngLat:i,lngLatToPixel:o}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},74:function(t,e,n){var i;i=function(t,e,i){var o=n(55),r=function(){var t=navigator.userAgent;if(t&&t.indexOf("AlipayClient")>=0)return!0;var e=o.get("channel");if(e){var n=e.indexOf("||"),i=e.substr(0,n);return"sns_zhifubao_wap"===i}return!1},s=function(){var t=navigator.userAgent.toLowerCase();return t&&t.indexOf("micromessenger")>-1?!0:!1},a=function(){return"baiduwiseqyy"===o.get("channel_webapp")},c=function(){return"yizhifu"===o.get("channel_webapp")};i.exports={isAlipay:r,isWeChat:s,isZhidahao:a,isYizhifu:c}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},75:function(t,e){var n={};!function(t){function e(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new e(null)}function i(t,e,n,i,o,r){for(;--r>=0;){var s=e*this[t++]+n[i]+o;o=Math.floor(s/67108864),n[i++]=67108863&s}return o}function o(t,e,n,i,o,r){for(var s=32767&e,a=e>>15;--r>=0;){var c=32767&this[t],l=this[t++]>>15,u=a*c+l*s;c=s*c+((32767&u)<<15)+n[i]+(1073741823&o),o=(c>>>30)+(u>>>15)+a*l+(o>>>30),n[i++]=1073741823&c}return o}function r(t,e,n,i,o,r){for(var s=16383&e,a=e>>14;--r>=0;){var c=16383&this[t],l=this[t++]>>14,u=a*c+l*s;c=s*c+((16383&u)<<14)+n[i]+o,o=(c>>28)+(u>>14)+a*l,n[i++]=268435455&c}return o}function s(t){return De.charAt(t)}function a(t,e){var n=Pe[t.charCodeAt(e)];return null==n?-1:n}function c(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function l(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+this.DV:this.t=0}function u(t){var e=n();return e.fromInt(t),e}function h(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var o=t.length,r=!1,s=0;--o>=0;){var c=8==i?255&t[o]:a(t,o);0>c?"-"==t.charAt(o)&&(r=!0):(r=!1,0==s?this[this.t++]=c:s+i>this.DB?(this[this.t-1]|=(c&(1<<this.DB-s)-1)<<s,this[this.t++]=c>>this.DB-s):this[this.t-1]|=c<<s,s+=i,s>=this.DB&&(s-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&e.ZERO.subTo(this,this)}function d(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function p(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,o=!1,r="",a=this.t,c=this.DB-a*this.DB%e;if(a-->0)for(c<this.DB&&(n=this[a]>>c)>0&&(o=!0,r=s(n));a>=0;)e>c?(n=(this[a]&(1<<c)-1)<<e-c,n|=this[--a]>>(c+=this.DB-e)):(n=this[a]>>(c-=e)&i,0>=c&&(c+=this.DB,--a)),n>0&&(o=!0),o&&(r+=s(n));return o?r:"0"}function f(){var t=n();return e.ZERO.subTo(this,t),t}function m(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function y(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function w(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function x(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function S(t,e){var n,i=t%this.DB,o=this.DB-i,r=(1<<o)-1,s=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>o|a,a=(this[n]&r)<<i;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function T(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var i=t%this.DB,o=this.DB-i,r=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&r)<<o,e[s-n]=this[s]>>i;i>0&&(e[this.t-n-1]|=(this.s&r)<<o),e.t=this.t-n,e.clamp()}function E(t,e){for(var n=0,i=0,o=Math.min(t.t,this.t);o>n;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function k(t,n){var i=this.abs(),o=t.abs(),r=i.t;for(n.t=r+o.t;--r>=0;)n[r]=0;for(r=0;r<o.t;++r)n[r+i.t]=i.am(0,o[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function C(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function D(t,i,o){var r=t.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=n());var a=n(),c=this.s,l=t.s,u=this.DB-y(r[r.t-1]);u>0?(r.lShiftTo(u,a),s.lShiftTo(u,o)):(r.copyTo(a),s.copyTo(o));var h=a.t,d=a[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=o.t,b=v-h,w=null==i?n():i;for(a.dlShiftTo(b,w),o.compareTo(w)>=0&&(o[o.t++]=1,o.subTo(w,o)),e.ONE.dlShiftTo(h,w),w.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--b>=0;){var x=o[--v]==d?this.DM:Math.floor(o[v]*f+(o[v-1]+g)*m);if((o[v]+=a.am(0,x,o,b,0,h))<x)for(a.dlShiftTo(b,w),o.subTo(w,o);o[v]<--x;)o.subTo(w,o)}null!=i&&(o.drShiftTo(h,i),c!=l&&e.ZERO.subTo(i,i)),o.t=h,o.clamp(),u>0&&o.rShiftTo(u,o),0>c&&e.ZERO.subTo(o,o)}}}function P(t){var i=n();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i}function A(t){this.m=t}function _(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function O(t){t.divRemTo(this.m,null,t)}function R(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function L(t,e){t.squareTo(e),this.reduce(e)}function B(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function M(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function N(t){var i=n();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function U(t){var e=n();return t.copyTo(e),this.reduce(e),e}function j(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function K(t,e){t.squareTo(e),this.reduce(e)}function F(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function H(){return 0==(this.t>0?1&this[0]:this.s)}function V(t,i){if(t>4294967295||1>t)return e.ONE;var o=n(),r=n(),s=i.convert(this),a=y(t)-1;for(s.copyTo(o);--a>=0;)if(i.sqrTo(o,r),(t&1<<a)>0)i.mulTo(r,s,o);else{var c=o;o=r,r=c}return i.revert(o)}function z(t,e){var n;return n=256>t||e.isEven()?new A(e):new M(e),this.exp(t,n)}function Y(){var t=n();return this.copyTo(t),t}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function X(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function W(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function G(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),o=u(i),r=n(),s=n(),a="";for(this.divRemTo(o,r,s);r.signum()>0;)a=(i+s.intValue()).toString(t).substr(1)+a,r.divRemTo(o,r,s);return s.intValue().toString(t)+a}function Z(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),o=Math.pow(n,i),r=!1,s=0,c=0,l=0;l<t.length;++l){var u=a(t,l);0>u?"-"==t.charAt(l)&&0==this.signum()&&(r=!0):(c=n*c+u,++s>=i&&(this.dMultiply(o),this.dAddOffset(c,0),s=0,c=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(c,0)),r&&e.ZERO.subTo(this,this)}function Q(t,n,i){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),at,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=new Array,r=7&t;o.length=(t>>3)+1,n.nextBytes(o),r>0?o[0]&=(1<<r)-1:o[0]=0,this.fromString(o,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var n,i=this.DB-t*this.DB%8,o=0;if(t-->0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[o++]=n|this.s<<this.DB-i);t>=0;)8>i?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,0>=i&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(e[o++]=n);return e}function et(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function ot(t,e,n){var i,o,r=Math.min(t.t,this.t);for(i=0;r>i;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(o=t.s&this.DM,i=r;i<this.t;++i)n[i]=e(this[i],o);n.t=this.t}else{for(o=this.s&this.DM,i=r;i<t.t;++i)n[i]=e(o,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function rt(t,e){return t&e}function st(t){var e=n();return this.bitwiseTo(t,rt,e),e}function at(t,e){return t|e}function ct(t){var e=n();return this.bitwiseTo(t,at,e),e}function lt(t,e){return t^e}function ut(t){var e=n();return this.bitwiseTo(t,lt,e),e}function ht(t,e){return t&~e}function dt(t){var e=n();return this.bitwiseTo(t,ht,e),e}function pt(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function ft(t){var e=n();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function mt(t){var e=n();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function gt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+gt(this[t]);return this.s<0?this.t*this.DB:-1}function yt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=yt(this[n]^e);return t}function wt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function xt(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i}function St(t){return this.changeBit(t,at)}function Tt(t){return this.changeBit(t,ht)}function Et(t){return this.changeBit(t,lt)}function kt(t,e){for(var n=0,i=0,o=Math.min(t.t,this.t);o>n;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=0>i?-1:0,i>0?e[n++]=i:-1>i&&(e[n++]=this.DV+i),e.t=n,e.clamp()}function Ct(t){var e=n();return this.addTo(t,e),e}function Dt(t){var e=n();return this.subTo(t,e),e}function Pt(t){var e=n();return this.multiplyTo(t,e),e}function At(){var t=n();return this.squareTo(t),t}function _t(t){var e=n();return this.divRemTo(t,e,null),e}function It(t){var e=n();return this.divRemTo(t,null,e),e}function Ot(t){var e=n(),i=n();return this.divRemTo(t,e,i),new Array(e,i)}function Rt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Lt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Bt(){}function Mt(t){return t}function Nt(t,e,n){t.multiplyTo(e,n)}function Ut(t,e){t.squareTo(e)}function jt(t){return this.exp(t,new Bt)}function Kt(t,e,n){var i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;var o;for(o=n.t-this.t;o>i;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(o=Math.min(t.t,e);o>i;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()}function Ft(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)}function Ht(t){this.r2=n(),this.q3=n(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Vt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e}function zt(t){return t}function Yt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Jt(t,e){t.squareTo(e),this.reduce(e)}function Xt(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function qt(t,e){var i,o,r=t.bitLength(),s=u(1);if(0>=r)return s;i=18>r?1:48>r?3:144>r?4:768>r?5:6,o=8>r?new A(e):e.isEven()?new Ht(e):new M(e);var a=new Array,c=3,l=i-1,h=(1<<i)-1;if(a[1]=o.convert(this),i>1){var d=n();for(o.sqrTo(a[1],d);h>=c;)a[c]=n(),o.mulTo(d,a[c-2],a[c]),c+=2}var p,f,m=t.t-1,g=!0,v=n();for(r=y(t[m])-1;m>=0;){for(r>=l?p=t[m]>>r-l&h:(p=(t[m]&(1<<r+1)-1)<<l-r,m>0&&(p|=t[m-1]>>this.DB+r-l)),c=i;0==(1&p);)p>>=1,--c;if((r-=c)<0&&(r+=this.DB,--m),g)a[p].copyTo(s),g=!1;else{for(;c>1;)o.sqrTo(s,v),o.sqrTo(v,s),c-=2;c>0?o.sqrTo(s,v):(f=s,s=v,v=f),o.mulTo(v,a[p],s)}for(;m>=0&&0==(t[m]&1<<r);)o.sqrTo(s,v),f=s,s=v,v=f,--r<0&&(r=this.DB-1,--m)}return o.revert(s)}function Wt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var o=e.getLowestSetBit(),r=n.getLowestSetBit();if(0>r)return e;for(r>o&&(r=o),r>0&&(e.rShiftTo(r,e),n.rShiftTo(r,n));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function $t(t){if(0>=t)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n}function Gt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),o=this.clone(),r=u(1),s=u(0),a=u(0),c=u(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;o.isEven();)o.rShiftTo(1,o),n?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);i.compareTo(o)>=0?(i.subTo(o,i),n&&r.subTo(a,r),s.subTo(c,s)):(o.subTo(i,o),n&&a.subTo(r,a),c.subTo(s,c))}return 0!=o.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}function Zt(t){var e,n=this.abs();if(1==n.t&&n[0]<=Ae[Ae.length-1]){for(e=0;e<Ae.length;++e)if(n[0]==Ae[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<Ae.length;){for(var i=Ae[e],o=e+1;o<Ae.length&&_e>i;)i*=Ae[o++];for(i=n.modInt(i);o>e;)if(i%Ae[e++]==0)return!1}return n.millerRabin(t)}function Qt(t){var i=this.subtract(e.ONE),o=i.getLowestSetBit();if(0>=o)return!1;var r=i.shiftRight(o);t=t+1>>1,t>Ae.length&&(t=Ae.length);for(var s=n(),a=0;t>a;++a){s.fromInt(Ae[Math.floor(Math.random()*Ae.length)]);var c=s.modPow(r,this);if(0!=c.compareTo(e.ONE)&&0!=c.compareTo(i)){for(var l=1;l++<o&&0!=c.compareTo(i);)if(c=c.modPowInt(2,this),0==c.compareTo(e.ONE))return!1;if(0!=c.compareTo(i))return!1}}return!0}function te(){this.i=0,this.j=0,this.S=new Array}function ee(t){var e,n,i;for(e=0;256>e;++e)this.S[e]=e;for(n=0,e=0;256>e;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function ne(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function ie(){return new te}function oe(){if(null==Ie){for(Ie=ie();Le>Re;){var t=Math.floor(65536*Math.random());Oe[Re++]=255&t}for(Ie.init(Oe),Re=0;Re<Oe.length;++Re)Oe[Re]=0;Re=0}return Ie.next()}function re(t){var e;for(e=0;e<t.length;++e)t[e]=oe()}function se(){}function ae(t,n){return new e(t,n)}function ce(t,n){if(n<t.length+11)return console.error("Message too long for RSA"),null;for(var i=new Array,o=t.length-1;o>=0&&n>0;){var r=t.charCodeAt(o--);128>r?i[--n]=r:r>127&&2048>r?(i[--n]=63&r|128,i[--n]=r>>6|192):(i[--n]=63&r|128,i[--n]=r>>6&63|128,i[--n]=r>>12|224)}i[--n]=0;for(var s=new se,a=new Array;n>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);i[--n]=a[0]}return i[--n]=2,i[--n]=0,new e(i)}function le(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ue(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=ae(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")}function he(t){return t.modPowInt(this.e,this.n)}function de(t){var e=ce(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function pe(t,e){for(var n=t.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var o="";++i<n.length;){var r=255&n[i];128>r?o+=String.fromCharCode(r):r>191&&224>r?(o+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(o+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return o}function fe(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=ae(t,16),this.e=parseInt(e,16),this.d=ae(n,16)):console.error("Invalid RSA private key")}function me(t,e,n,i,o,r,s,a){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=ae(t,16),this.e=parseInt(e,16),this.d=ae(n,16),this.p=ae(i,16),this.q=ae(o,16),this.dmp1=ae(r,16),this.dmq1=ae(s,16),this.coeff=ae(a,16)):console.error("Invalid RSA private key")}function ge(t,n){var i=new se,o=t>>1;this.e=parseInt(n,16);for(var r=new e(n,16);;){for(;this.p=new e(t-o,1,i),0!=this.p.subtract(e.ONE).gcd(r).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(o,1,i),0!=this.q.subtract(e.ONE).gcd(r).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(e.ONE),c=this.q.subtract(e.ONE),l=a.multiply(c);if(0==l.gcd(r).compareTo(e.ONE)){
this.n=this.p.multiply(this.q),this.d=r.modInverse(l),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}function ve(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function ye(t){var e=ae(t,16),n=this.doPrivate(e);return null==n?null:pe(n,this.n.bitLength()+7>>3)}function be(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=Ue.charAt(n>>6)+Ue.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=Ue.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=Ue.charAt(n>>2)+Ue.charAt((3&n)<<4));(3&i.length)>0;)i+=je;return i}function we(t){var e,n,i="",o=0;for(e=0;e<t.length&&t.charAt(e)!=je;++e)v=Ue.indexOf(t.charAt(e)),v<0||(0==o?(i+=s(v>>2),n=3&v,o=1):1==o?(i+=s(n<<2|v>>4),n=15&v,o=2):2==o?(i+=s(n),i+=s(v>>2),n=3&v,o=3):(i+=s(n<<2|v>>4),i+=s(15&v),o=0));return 1==o&&(i+=s(n<<2)),i}var xe,Se=0xdeadbeefcafe,Te=15715070==(16777215&Se);Te&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=o,xe=30):Te&&"Netscape"!=navigator.appName?(e.prototype.am=i,xe=26):(e.prototype.am=r,xe=28),e.prototype.DB=xe,e.prototype.DM=(1<<xe)-1,e.prototype.DV=1<<xe;var Ee=52;e.prototype.FV=Math.pow(2,Ee),e.prototype.F1=Ee-xe,e.prototype.F2=2*xe-Ee;var ke,Ce,De="0123456789abcdefghijklmnopqrstuvwxyz",Pe=new Array;for(ke="0".charCodeAt(0),Ce=0;9>=Ce;++Ce)Pe[ke++]=Ce;for(ke="a".charCodeAt(0),Ce=10;36>Ce;++Ce)Pe[ke++]=Ce;for(ke="A".charCodeAt(0),Ce=10;36>Ce;++Ce)Pe[ke++]=Ce;A.prototype.convert=_,A.prototype.revert=I,A.prototype.reduce=O,A.prototype.mulTo=R,A.prototype.sqrTo=L,M.prototype.convert=N,M.prototype.revert=U,M.prototype.reduce=j,M.prototype.mulTo=F,M.prototype.sqrTo=K,e.prototype.copyTo=c,e.prototype.fromInt=l,e.prototype.fromString=h,e.prototype.clamp=d,e.prototype.dlShiftTo=w,e.prototype.drShiftTo=x,e.prototype.lShiftTo=S,e.prototype.rShiftTo=T,e.prototype.subTo=E,e.prototype.multiplyTo=k,e.prototype.squareTo=C,e.prototype.divRemTo=D,e.prototype.invDigit=B,e.prototype.isEven=H,e.prototype.exp=V,e.prototype.toString=p,e.prototype.negate=f,e.prototype.abs=m,e.prototype.compareTo=g,e.prototype.bitLength=b,e.prototype.mod=P,e.prototype.modPowInt=z,e.ZERO=u(0),e.ONE=u(1),Bt.prototype.convert=Mt,Bt.prototype.revert=Mt,Bt.prototype.mulTo=Nt,Bt.prototype.sqrTo=Ut,Ht.prototype.convert=Vt,Ht.prototype.revert=zt,Ht.prototype.reduce=Yt,Ht.prototype.mulTo=Xt,Ht.prototype.sqrTo=Jt;var Ae=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],_e=(1<<26)/Ae[Ae.length-1];e.prototype.chunkSize=W,e.prototype.toRadix=G,e.prototype.fromRadix=Z,e.prototype.fromNumber=Q,e.prototype.bitwiseTo=ot,e.prototype.changeBit=xt,e.prototype.addTo=kt,e.prototype.dMultiply=Rt,e.prototype.dAddOffset=Lt,e.prototype.multiplyLowerTo=Kt,e.prototype.multiplyUpperTo=Ft,e.prototype.modInt=$t,e.prototype.millerRabin=Qt,e.prototype.clone=Y,e.prototype.intValue=J,e.prototype.byteValue=X,e.prototype.shortValue=q,e.prototype.signum=$,e.prototype.toByteArray=tt,e.prototype.equals=et,e.prototype.min=nt,e.prototype.max=it,e.prototype.and=st,e.prototype.or=ct,e.prototype.xor=ut,e.prototype.andNot=dt,e.prototype.not=pt,e.prototype.shiftLeft=ft,e.prototype.shiftRight=mt,e.prototype.getLowestSetBit=vt,e.prototype.bitCount=bt,e.prototype.testBit=wt,e.prototype.setBit=St,e.prototype.clearBit=Tt,e.prototype.flipBit=Et,e.prototype.add=Ct,e.prototype.subtract=Dt,e.prototype.multiply=Pt,e.prototype.divide=_t,e.prototype.remainder=It,e.prototype.divideAndRemainder=Ot,e.prototype.modPow=qt,e.prototype.modInverse=Gt,e.prototype.pow=jt,e.prototype.gcd=Wt,e.prototype.isProbablePrime=Zt,e.prototype.square=At,te.prototype.init=ee,te.prototype.next=ne;var Ie,Oe,Re,Le=256;if(null==Oe){Oe=new Array,Re=0;var Be;if(window.crypto&&window.crypto.getRandomValues){var Me=new Uint32Array(256);for(window.crypto.getRandomValues(Me),Be=0;Be<Me.length;++Be)Oe[Re++]=255&Me[Be]}var Ne=function(t){if(this.count=this.count||0,this.count>=256||Re>=Le)return void(window.removeEventListener?window.removeEventListener("mousemove",Ne,!1):window.detachEvent&&window.detachEvent("onmousemove",Ne));this.count+=1;var e=t.x+t.y;Oe[Re++]=255&e};window.addEventListener?window.addEventListener("mousemove",Ne,!1):window.attachEvent&&window.attachEvent("onmousemove",Ne)}se.prototype.nextBytes=re,le.prototype.doPublic=he,le.prototype.setPublic=ue,le.prototype.encrypt=de,le.prototype.doPrivate=ve,le.prototype.setPrivate=fe,le.prototype.setPrivateEx=me,le.prototype.generate=ge,le.prototype.decrypt=ye,function(){var t=function(t,i,o){var r=new se,s=t>>1;this.e=parseInt(i,16);var a=new e(i,16),c=this,l=function(){var i=function(){if(c.p.compareTo(c.q)<=0){var t=c.p;c.p=c.q,c.q=t}var n=c.p.subtract(e.ONE),i=c.q.subtract(e.ONE),r=n.multiply(i);0==r.gcd(a).compareTo(e.ONE)?(c.n=c.p.multiply(c.q),c.d=a.modInverse(r),c.dmp1=c.d.mod(n),c.dmq1=c.d.mod(i),c.coeff=c.q.modInverse(c.p),setTimeout(function(){o()},0)):setTimeout(l,0)},u=function(){c.q=n(),c.q.fromNumberAsync(s,1,r,function(){c.q.subtract(e.ONE).gcda(a,function(t){0==t.compareTo(e.ONE)&&c.q.isProbablePrime(10)?setTimeout(i,0):setTimeout(u,0)})})},h=function(){c.p=n(),c.p.fromNumberAsync(t-s,1,r,function(){c.p.subtract(e.ONE).gcda(a,function(t){0==t.compareTo(e.ONE)&&c.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(h,0)})})};setTimeout(h,0)};setTimeout(l,0)};le.prototype.generateAsync=t;var i=function(t,e){var n=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(n.compareTo(i)<0){var o=n;n=i,i=o}var r=n.getLowestSetBit(),s=i.getLowestSetBit();if(0>s)return void e(n);s>r&&(s=r),s>0&&(n.rShiftTo(s,n),i.rShiftTo(s,i));var a=function(){(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(a,0):(s>0&&i.lShiftTo(s,i),setTimeout(function(){e(i)},0))};setTimeout(a,10)};e.prototype.gcda=i;var o=function(t,n,i,o){if("number"==typeof n)if(2>t)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),at,this),this.isEven()&&this.dAddOffset(1,0);var r=this,s=function(){r.dAddOffset(2,0),r.bitLength()>t&&r.subTo(e.ONE.shiftLeft(t-1),r),r.isProbablePrime(n)?setTimeout(function(){o()},0):setTimeout(s,0)};setTimeout(s,0)}else{var a=new Array,c=7&t;a.length=(t>>3)+1,n.nextBytes(a),c>0?a[0]&=(1<<c)-1:a[0]=0,this.fromString(a,256)}};e.prototype.fromNumberAsync=o}();var Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="=",Ke=Ke||{};Ke.env=Ke.env||{};var Fe=Ke,He=Object.prototype,Ve="[object Function]",ze=["toString","valueOf"];Ke.env.parseUA=function(t){var e,n=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},i=navigator,o={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:i&&i.cajaVersion,secure:!1,os:null},r=t||navigator&&navigator.userAgent,s=window&&window.location,a=s&&s.href;return o.secure=a&&0===a.toLowerCase().indexOf("https"),r&&(/windows|win32/i.test(r)?o.os="windows":/macintosh/i.test(r)?o.os="macintosh":/rhino/i.test(r)&&(o.os="rhino"),/KHTML/.test(r)&&(o.webkit=1),e=r.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(o.webkit=n(e[1]),/ Mobile\//.test(r)?(o.mobile="Apple",e=r.match(/OS ([^\s]*)/),e&&e[1]&&(e=n(e[1].replace("_","."))),o.ios=e,o.ipad=o.ipod=o.iphone=0,e=r.match(/iPad|iPod|iPhone/),e&&e[0]&&(o[e[0].toLowerCase()]=o.ios)):(e=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(o.mobile=e[0]),/webOS/.test(r)&&(o.mobile="WebOS",e=r.match(/webOS\/([^\s]*);/),e&&e[1]&&(o.webos=n(e[1]))),/ Android/.test(r)&&(o.mobile="Android",e=r.match(/Android ([^\s]*);/),e&&e[1]&&(o.android=n(e[1])))),e=r.match(/Chrome\/([^\s]*)/),e&&e[1]?o.chrome=n(e[1]):(e=r.match(/AdobeAIR\/([^\s]*)/),e&&(o.air=e[0]))),o.webkit||(e=r.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(o.opera=n(e[1]),e=r.match(/Version\/([^\s]*)/),e&&e[1]&&(o.opera=n(e[1])),e=r.match(/Opera Mini[^;]*/),e&&(o.mobile=e[0])):(e=r.match(/MSIE\s([^;]*)/),e&&e[1]?o.ie=n(e[1]):(e=r.match(/Gecko\/([^\s]*)/),e&&(o.gecko=1,e=r.match(/rv:([^\s\)]*)/),e&&e[1]&&(o.gecko=n(e[1]))))))),o},Ke.env.ua=Ke.env.parseUA(),Ke.isFunction=function(t){return"function"==typeof t||He.toString.apply(t)===Ve},Ke._IEEnumFix=Ke.env.ua.ie?function(t,e){var n,i,o;for(n=0;n<ze.length;n+=1)i=ze[n],o=e[i],Fe.isFunction(o)&&o!=He[i]&&(t[i]=o)}:function(){},Ke.extend=function(t,e,n){if(!e||!t)throw new Error("extend failed, please check that all dependencies are included.");var i,o=function(){};if(o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==He.constructor&&(e.prototype.constructor=e),n){for(i in n)Fe.hasOwnProperty(n,i)&&(t.prototype[i]=n[i]);Fe._IEEnumFix(t.prototype,n)}},/**
	 * @fileOverview
	 * @name asn1-1.0.js
	 * @author Kenji Urushima kenji.urushima@gmail.com
	 * @version 1.0.2 (2013-May-30)
	 * @since 2.1
	 * @license <a href="http://kjur.github.io/jsrsasign/license/">MIT License</a>
	 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var n=t.toString(16);if("-"!=n.substr(0,1))n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n);else{var i=n.substr(1),o=i.length;o%2==1?o+=1:n.match(/^[0-7]/)||(o+=2);for(var r="",s=0;o>s;s++)r+="f";var a=new e(r,16),c=a.xor(t).add(e.ONE);n=c.toString(16).replace(/^-/,"")}return n},this.getPEMStringFromHex=function(t,e){var n=CryptoJS.enc.Hex.parse(t),i=CryptoJS.enc.Base64.stringify(n),o=i.replace(/(.{64})/g,"$1\r\n");return o=o.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+o+"\r\n-----END "+e+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n="0"+n),128>e)return n;var i=n.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var o=128+i;return o.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex&&this.setStringHex(t.hex))},Ke.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(t){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e){var n=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var r=n(String(i.getMonth()+1),2),s=n(String(i.getDate()),2),a=n(String(i.getHours()),2),c=n(String(i.getMinutes()),2),l=n(String(i.getSeconds()),2);return o+r+s+a+c+l+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setByDateValue=function(t,e,n,i,o,r){var s=new Date(Date.UTC(t,e-1,n,i,o,r,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},Ke.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.array&&(this.asn1Array=t.array)},Ke.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Ke.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(t){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var n=new e(String(t),10);this.setByBigInteger(n)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.setByBigInteger(t.bigint):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},Ke.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(t){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(0>t||t>7)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var n=0;e>=n;n++)t+="0";for(var i="",n=0;n<t.length-1;n+=8){var o=t.substr(n,8),r=parseInt(o,2).toString(16);1==r.length&&(r="0"+r),i+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+e+i},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)e+=1==t[n]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):"undefined"!=typeof t.bin?this.setByBinaryString(t.bin):"undefined"!=typeof t.array&&this.setByBooleanArray(t.array))},Ke.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(t){KJUR.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},Ke.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ke.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(t){var n=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},i=function(t){var i="",o=new e(t,10),r=o.toString(2),s=7-r.length%7;7==s&&(s=0);for(var a="",c=0;s>c;c++)a+="0";r=a+r;for(var c=0;c<r.length-1;c+=7){var l=r.substr(c,7);c!=r.length-7&&(l="1"+l),i+=n(parseInt(l,2))}return i};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",o=t.split("."),r=40*parseInt(o[0])+parseInt(o[1]);e+=n(r),o.splice(0,2);for(var s=0;s<o.length;s++)e+=i(o[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.asn1.x509.OID.name2oidList[t];this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.oid?this.setValueOidString(t.oid):"undefined"!=typeof t.hex?this.setValueHex(t.hex):"undefined"!=typeof t.name&&this.setValueName(t.name))},Ke.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(t){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},Ke.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(t){KJUR.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},Ke.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(t){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},Ke.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(t){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},Ke.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(t){KJUR.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},Ke.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(t){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},Ke.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(t){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},Ke.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(t){KJUR.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t+=n.getEncodedHex()}return this.hV=t,this.hV}},Ke.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(t){KJUR.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return t.sort(),this.hV=t.join(""),this.hV}},Ke.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(t){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.hT=t.tag),"undefined"!=typeof t.explicit&&(this.isExplicit=t.explicit),"undefined"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Ke.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(t){"use strict";var e,n={};n.decode=function(n){var i;if(e===t){var o="0123456789ABCDEF",r=" \f\n\r	 \u2028\u2029";for(e=[],i=0;16>i;++i)e[o.charAt(i)]=i;for(o=o.toLowerCase(),i=10;16>i;++i)e[o.charAt(i)]=i;for(i=0;i<r.length;++i)e[r.charAt(i)]=-1}var s=[],a=0,c=0;for(i=0;i<n.length;++i){var l=n.charAt(i);if("="==l)break;if(l=e[l],-1!=l){if(l===t)throw"Illegal character at offset "+i;a|=l,++c>=2?(s[s.length]=a,a=0,c=0):a<<=4}}if(c)throw"Hex encoding incomplete: 4 bits missing";return s},window.Hex=n}(),function(t){"use strict";var e,n={};n.decode=function(n){var i;if(e===t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="= \f\n\r	 \u2028\u2029";for(e=[],i=0;64>i;++i)e[o.charAt(i)]=i;for(i=0;i<r.length;++i)e[r.charAt(i)]=-1}var s=[],a=0,c=0;for(i=0;i<n.length;++i){var l=n.charAt(i);if("="==l)break;if(l=e[l],-1!=l){if(l===t)throw"Illegal character at offset "+i;a|=l,++c>=4?(s[s.length]=a>>16,s[s.length]=a>>8&255,s[s.length]=255&a,a=0,c=0):a<<=6}}switch(c){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:s[s.length]=a>>10;break;case 3:s[s.length]=a>>16,s[s.length]=a>>8&255}return s},n.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,n.unarmor=function(t){var e=n.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw"RegExp out of sync";t=e[2]}return n.decode(t)},window.Base64=n}(),function(t){"use strict";function e(t,n){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}function n(t,e,n,i,o){this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=o}var i=100,o="…",r={tag:function(t,e){var n=document.createElement(t);return n.className=e,n},text:function(t){return document.createTextNode(t)}};e.prototype.get=function(e){if(e===t&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},e.prototype.hexDump=function(t,e,n){for(var i="",o=t;e>o;++o)if(i+=this.hexByte(this.get(o)),n!==!0)switch(15&o){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},e.prototype.parseStringISO=function(t,e){for(var n="",i=t;e>i;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(t,e){for(var n="",i=t;e>i;){var o=this.get(i++);n+=128>o?String.fromCharCode(o):o>191&&224>o?String.fromCharCode((31&o)<<6|63&this.get(i++)):String.fromCharCode((15&o)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},e.prototype.parseStringBMP=function(t,e){for(var n="",i=t;e>i;i+=2){var o=this.get(i),r=this.get(i+1);n+=String.fromCharCode((o<<8)+r)}return n},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(t,e){var n=this.parseStringISO(t,e),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(t,e){var n=e-t;if(n>4){n<<=3;var i=this.get(t);if(0===i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var o=0,r=t;e>r;++r)o=o<<8|this.get(r);return o},e.prototype.parseBitString=function(t,e){var n=this.get(t),i=(e-t-1<<3)-n,o="("+i+" bit)";if(20>=i){var r=n;o+=" ";for(var s=e-1;s>t;--s){for(var a=this.get(s),c=r;8>c;++c)o+=a>>c&1?"1":"0";r=0}}return o},e.prototype.parseOctetString=function(t,e){var n=e-t,r="("+n+" byte) ";n>i&&(e=t+i);for(var s=t;e>s;++s)r+=this.hexByte(this.get(s));return n>i&&(r+=o),r},e.prototype.parseOID=function(t,e){for(var n="",i=0,o=0,r=t;e>r;++r){var s=this.get(r);if(i=i<<7|127&s,o+=7,!(128&s)){if(""===n){var a=80>i?40>i?0:1:2;n=a+"."+(i-40*a)}else n+="."+(o>=31?"bigint":i);i=o=0}}return n},n.prototype.typeName=function(){if(this.tag===t)return"unknown";var e=this.tag>>6,n=(this.tag>>5&1,31&this.tag);switch(e){case 0:switch(n){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+n.toString(16)}case 1:return"Application_"+n.toString(16);case 2:return"["+n+"]";case 3:return"Private_"+n.toString(16)}},n.prototype.reSeemsASCII=/^[ -~]+$/,n.prototype.content=function(){if(this.tag===t)return null;var e=this.tag>>6,n=31&this.tag,r=this.posContent(),s=Math.abs(this.length);if(0!==e){if(null!==this.sub)return"("+this.sub.length+" elem)";var a=this.stream.parseStringISO(r,r+Math.min(s,i));return this.reSeemsASCII.test(a)?a.substring(0,2*i)+(a.length>2*i?o:""):this.stream.parseOctetString(r,r+s)}switch(n){case 1:return 0===this.stream.get(r)?"false":"true";case 2:return this.stream.parseInteger(r,r+s);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(r,r+s);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(r,r+s);case 6:return this.stream.parseOID(r,r+s);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(r,r+s);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(r,r+s);case 30:return this.stream.parseStringBMP(r,r+s);case 23:case 24:return this.stream.parseTime(r,r+s)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},n.prototype.print=function(e){if(e===t&&(e=""),document.writeln(e+this),null!==this.sub){e+="  ";for(var n=0,i=this.sub.length;i>n;++n)this.sub[n].print(e)}},n.prototype.toPrettyString=function(e){e===t&&(e="");var n=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(n+="+"),n+=this.length,32&this.tag?n+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+=" (encapsulates)"),n+="\n",null!==this.sub){e+="  ";for(var i=0,o=this.sub.length;o>i;++i)n+=this.sub[i].toPrettyString(e)}return n},n.prototype.toDOM=function(){var t=r.tag("div","node");t.asn1=this;var e=r.tag("div","head"),n=this.typeName().replace(/_/g," ");e.innerHTML=n;var i=this.content();if(null!==i){i=String(i).replace(/</g,"&lt;");var o=r.tag("span","preview");o.appendChild(r.text(i)),e.appendChild(o)}t.appendChild(e),this.node=t,this.head=e;var s=r.tag("div","value");if(n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?n+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+="<br/>(encapsulates)"),null!==i&&(n+="<br/>Value:<br/><b>"+i+"</b>","object"==typeof oids&&6==this.tag)){var a=oids[i];a&&(a.d&&(n+="<br/>"+a.d),a.c&&(n+="<br/>"+a.c),a.w&&(n+="<br/>(warning!)"))}s.innerHTML=n,t.appendChild(s);var c=r.tag("div","sub");if(null!==this.sub)for(var l=0,u=this.sub.length;u>l;++l)c.appendChild(this.sub[l].toDOM());return t.appendChild(c),e.onclick=function(){t.className="node collapsed"==t.className?"node":"node collapsed"},t},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.fakeHover=function(t){this.node.className+=" hover",t&&(this.head.className+=" hover")},n.prototype.fakeOut=function(t){var e=/ ?hover/;this.node.className=this.node.className.replace(e,""),t&&(this.head.className=this.head.className.replace(e,""))},n.prototype.toHexDOM_sub=function(t,e,n,i,o){if(!(i>=o)){var s=r.tag("span",e);s.appendChild(r.text(n.hexDump(i,o))),t.appendChild(s)}},n.prototype.toHexDOM=function(e){var n=r.tag("span","hex");if(e===t&&(e=n),this.head.hexNode=n,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},n.asn1=this,n.onmouseover=function(){var t=!e.selected;t&&(e.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(t)},n.onmouseout=function(){var t=e.selected==this.asn1;this.asn1.fakeOut(t),t&&(e.selected=null,this.className="hex")},this.toHexDOM_sub(n,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(n,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)n.appendChild(r.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var i=this.sub[0],o=this.sub[this.sub.length-1];this.toHexDOM_sub(n,"intro",this.stream,this.posContent(),i.posStart());for(var s=0,a=this.sub.length;a>s;++s)n.appendChild(this.sub[s].toHexDOM(e));this.toHexDOM_sub(n,"outro",this.stream,o.posEnd(),this.posEnd())}return n},n.prototype.toHexString=function(t){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0===n)return-1;e=0;for(var i=0;n>i;++i)e=e<<8|t.get();return e},n.hasContent=function(t,i,o){if(32&t)return!0;if(3>t||t>4)return!1;var r=new e(o);3==t&&r.get();var s=r.get();if(s>>6&1)return!1;try{var a=n.decodeLength(r);return r.pos-o.pos+a==i}catch(c){return!1}},n.decode=function(t){t instanceof e||(t=new e(t,0));var i=new e(t),o=t.get(),r=n.decodeLength(t),s=t.pos-i.pos,a=null;if(n.hasContent(o,r,t)){var c=t.pos;if(3==o&&t.get(),a=[],r>=0){for(var l=c+r;t.pos<l;)a[a.length]=n.decode(t);if(t.pos!=l)throw"Content size is not correct for container starting at offset "+c}else try{for(;;){var u=n.decode(t);if(0===u.tag)break;a[a.length]=u}r=c-t.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else t.pos+=r;return new n(i,s,r,o,a)},n.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],i=0,o=t.length;o>i;++i){var r=new e(t[i].value,0),s=n.decodeLength(r);s!=t[i].expected&&document.write("In test["+i+"] expected "+t[i].expected+" got "+s+"\n")}},window.ASN1=n}(),ASN1.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},le.prototype.parseKey=function(t){try{var e=0,n=0,i=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,o=i.test(t)?Hex.decode(t):Base64.unarmor(t),r=ASN1.decode(o);if(3===r.sub.length&&(r=r.sub[2].sub[0]),9===r.sub.length){e=r.sub[1].getHexStringValue(),this.n=ae(e,16),n=r.sub[2].getHexStringValue(),this.e=parseInt(n,16);var s=r.sub[3].getHexStringValue();this.d=ae(s,16);var a=r.sub[4].getHexStringValue();this.p=ae(a,16);var c=r.sub[5].getHexStringValue();this.q=ae(c,16);var l=r.sub[6].getHexStringValue();this.dmp1=ae(l,16);var u=r.sub[7].getHexStringValue();this.dmq1=ae(u,16);var h=r.sub[8].getHexStringValue();this.coeff=ae(h,16)}else{if(2!==r.sub.length)return!1;var d=r.sub[1],p=d.sub[0];e=p.sub[0].getHexStringValue(),this.n=ae(e,16),n=p.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(f){return!1}},le.prototype.getPrivateBaseKey=function(){var t={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},e=new KJUR.asn1.DERSequence(t);return e.getEncodedHex()},le.prototype.getPrivateBaseKeyB64=function(){return be(this.getPrivateBaseKey())},le.prototype.getPublicBaseKey=function(){var t={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},e=new KJUR.asn1.DERSequence(t);t={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var n=new KJUR.asn1.DERSequence(t);t={hex:"00"+n.getEncodedHex()};var i=new KJUR.asn1.DERBitString(t);t={array:[e,i]};var o=new KJUR.asn1.DERSequence(t);return o.getEncodedHex()},le.prototype.getPublicBaseKeyB64=function(){return be(this.getPublicBaseKey())},le.prototype.wordwrap=function(t,e){if(e=e||64,!t)return t;var n="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},le.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},le.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},le.prototype.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},le.prototype.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},le.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)};var Ye=function(t){le.call(this),t&&("string"==typeof t?this.parseKey(t):(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t))&&this.parsePropertiesFrom(t))};Ye.prototype=new le,Ye.prototype.constructor=Ye;var Je=function(t){t=t||{},this.default_key_size=parseInt(t.default_key_size)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null};Je.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new Ye(t)},Je.prototype.setPrivateKey=function(t){this.setKey(t)},Je.prototype.setPublicKey=function(t){this.setKey(t)},Je.prototype.decrypt=function(t){try{return this.getKey().decrypt(we(t))}catch(e){return!1}},Je.prototype.encrypt=function(t){try{return be(this.getKey().encrypt(t))}catch(e){return!1}},Je.prototype.getKey=function(t){if(!this.key){if(this.key=new Ye,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},Je.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},Je.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},Je.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},Je.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.JSEncrypt=Je}(n);n.JSEncrypt;t.exports=n.JSEncrypt},76:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(55),s=n(53),a=function(){o.ajax({type:"GET",url:"https://app.nuomi.com/naserver/https/httpslink",data:{appid:"wap",method:"naserver.https.httpslink",deviceType:"wap",sign:"0f7fe1e86d1163598ca1e20eeba28260"},dataType:"jsonp",jsonpCallback:"callback",timeout:2e4,success:function(t){r.set("https_lync","1",{domain:document.domain,expires:7}),s.send("element_type=https&is_success=1")},fail:function(t){r.set("https_lync","0",{domain:document.domain,expires:7}),s.send("element_type=https&is_success=0")}})};e.init=function(){var t=r.get("https_lync")?parseInt(r.get("https_lync"),10):"";window.location.protocol.toLowerCase().indexOf("https")>-1||1===t||a()}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},77:function(t,e,n){var i;i=function(t,e,i){var o=n(70),r={init:function(t){this.openApp(t)},getIframe:function(t){var e=document.createElement("iframe");e.style.cssText="display:none;width:0;height:0;",e.src=t,document.body.appendChild(e)},getUseragent:function(){var t=window.navigator.userAgent;return{isAndroid:t.match(/(Android);?[\s\/]+([\d.]+)?/),isIPhone:t.match(/(iPhone)[\s\/]+([OS]+)?(\s)?([\d_]+)?/),isSafari:t.match(/Safari\/?(\d*)/)&&!t.match(/CriOS\/?(\d*)/),isChrome:t.match(/Chrome\/?(\d*)/)||t.match(/CriOS\/?(\d*)/),isBaidu:t.match(/(Baidu);?/),isAndrBaiduMap:t.match(/baidumap_ANDR/),isIosBaiduMap:t.match(/baidumap_IPHO/),isBaiduBox:t.match(/baiduboxapp/)}},getChromeIntent:function(t){var e=t.split("://");return"intent://"+e[1]+"#Intent;scheme="+e[0]+";package=com.nuomi;end"},openApp:function(t){var e=this,n=this.getUseragent();if(e.startTime=new Date,(n.isIPhone||n.isAndroid)&&!(n.isAndrBaiduMap||n.isBaiduBox||n.isIosBaiduMap)){if(n.isIPhone&&n.isChrome)return o.setItem("openApp","1"),location.href=t,void e.openFail();if(n.isAndroid&&(t="index"===F.context("page-info")?t:t+"&from=wap",n.isChrome&&!n.isBaidu&&+n.isChrome[1]>=25))return o.setItem("openApp","1"),location.href=e.getChromeIntent(t),void e.openFail();n.isBaiduBox||o.setItem("openApp","1"),e.getIframe(t),e.openFail()}},openFail:function(){var t=new Date-this.startTime;1e3>t&&console.log("open app timeout!")}};e.init=function(t){var e=o.getItem("openApp"),n=F.context("page-info")&&F.context("page-info").name;e&&"detail_local"!==n||Object.create(r).init(t)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},78:function(t,e,n){var i;i=function(t,e,i){n(79);var o=n(45),r=n(56),s=n(67),a=n(53),c=function(t){var e=/^(?:[\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/.exec(t);return e?e[1]:""},l=function(t,e){return t===e?!0:t&&t.slice(-(e.length+1))==="."+e},u=function(){if(!document.referrer)return!1;var t=c(document.referrer),e=["https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/t10.nuomi.com","https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/t10sc.nuomi.com","https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/huodong.static.nuomi.com","https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/m.dianying.baidu.com","https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/www.baidu.com","https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/m.baidu.com","https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/huodong.nuomi.com"];return F.context("is-dayuecheng")?!0:e.indexOf(t)>=0||l(t,document.domain)||!F.context("back-optimize")},h={init:function(t){var e=o("#header"),i=s.parse(),r=t&&t.origin?t.origin:"",c=t&&t.dealId?t.dealId:"";if(e.length){if(i&&i.ztcrefer&&509===+i.ztcrefer)return void e.hide();if(1===+i.hidehomebutton)return void e.hide();var l=this;e.find('[data-role="extra-op"]').on("tap",function(){l.fire("extra-op")});var h=u()?function(){window.history.back()}:function(){location.href="https://gss0.bdstatic.com/"};e.find('[data-role="back"]').on("tap",function(){h(),"normal-tuan"==r&&a.send({actionID:"wap_Deal_back",dealID:c})}),e.find('[data-role="collect"]').length&&n(95).init({container:e.find('[data-role="collect"]')}),e.find('[data-role="collect"]').on("tap",function(){"normal-tuan"==r&&a.send({actionID:"wap_Deal_fav",dealID:c})}),F.context("is-dayuecheng")&&(e.find('[data-role="home-link"]').hide(),e.find('[data-role="search"]').hide())}}};r.mixTo(h),i.exports=h}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},79:function(t,e){},95:function(t,e,n){var i;i=function(t,e,i){var o=(n(45),n(96)),r=n(65),s=r.getInfoLoader(62),a=F.context("deal"),c=function(t){var e=a.id||t.id||"";if(e){var n=t.container;s.get("user",function(t){o.init(n,{isLogin:!!t,dealId:a.id})})}};i.exports={init:c}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},96:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(51),s=n(97),a={wrapper:null,options:{ajaxUrl:"/webapp/user/wishlist",loginUrl:"/webapp/user/login",backUrl:window.location.href,isLogin:!1,hash:"collect"},init:function(t,e){t=this.wrapper=o(t),t.length&&(e=r.extend(this.options,e),e.isLogin?this.checkCollectStatus():this.invokePassport())},invokePassport:function(){var t=this.options,e=t.hash,n=t.backUrl;e&&(n+=(n.indexOf("#")>-1?"":"#")+e),n=t.loginUrl+"?backUrl="+encodeURIComponent(n),this.wrapper.on("tap",function(t){t.preventDefault(),location.href=n})},checkCollectStatus:function(){var t=this,e=t.options.dealId;this.setAjax({data:{ac:4,dealId:e},callback:t.dealCollect.bind(t)})},dealCollect:function(t){this.bindUI();var e=this.options.hash;1===t.data.isWishItem?(e&&location.hash.indexOf(e)>-1&&(location.hash="",s.create({text:"已经收藏过此团单",delay:1500})),this.collect=!0,this.wrapper.addClass("collected")):e&&location.hash.indexOf(e)>-1&&(location.hash="",this.collect=!1,this.wrapper.trigger("tap"))},setAjax:function(t){if(!this.isAjax){this.isAjax=!0;var e=this.options.ajaxUrl,n=this;o.ajax({url:e,type:"post",data:t.data,dataType:"json",success:function(e){n.isAjax=!1,t.callback&&"function"==typeof t.callback&&t.callback(e)},complete:function(){n.isAjax=!1}})}},addCollect:function(){var t=this,e=t.options.dealId,n=function(){this.collect=!0,this.wrapper.addClass("collected"),s.create({text:"收藏成功",delay:1500})};this.setAjax({data:{ac:1,dealId:e},callback:n.bind(t)})},deleteCollect:function(){var t=this,e=t.options.dealId,n=function(){this.collect=!1,this.wrapper.removeClass("collected"),s.create({text:"取消收藏成功",delay:1500})};this.setAjax({data:{ac:2,dealIds:e},callback:n.bind(t)})},bindUI:function(){var t=this;this.wrapper.tap(function(){t.collect?t.deleteCollect():t.addCollect()})}};e.init=function(t,e){return Object.create(a).init(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},97:function(t,e,n){var i;i=function(t,e,i){n(98);var o=n(45),r=n(51),s=n(100),a=n(110);e.create=function(t,e){t="string"==typeof t?{text:t}:t,t=r.extend({mask:!1,text:"",delay:1e3},t),e=e||r.doNothing;var n=o(a(t)),i=s.create(r.extend(t,{content:n,autoCenter:!0}));return t.delay&&setTimeout(function(){
i.hide(),e()},t.delay),i}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},98:function(t,e){},100:function(t,e,n){var i;i=function(t,e,i){function o(t){t=a.extend({mask:!0,content:null,autoCenter:!1,autoDestroy:!0,hideOnTouchMask:!1,iscroll:null,history:!1,show:!0,lazyRender:!1,zIndex:null},t),t.history=!(!t.history||!history.pushState),this.init(t)}n(101);var r=n(45),s=n(103),a=n(51),c=n(104),l=n(105),u=n(109),h=r(document.body);a.inherits(o,c),o.prototype.init=function(t){this.opt=t,this.dom=r(t.content?t.content:u()),this.firstShow=!0,null!=t.zIndex&&this.dom.css("z-index",t.zIndex),t.mask&&(this.mask=l.create(a.extend({autoDestroy:t.autoDestroy,lazyRender:t.lazyRender,zIndex:null!=t.zIndex?t.zIndex-1+"":null},t.mask))),t.lazyRender||h.append(this.dom),this.bindEvent(),t.show&&this.show(),t.history&&(this.realHide=this.hide,this.hide=function(){this.showing&&history.back()})},o.prototype.bindEvent=function(){var t=this,e=this.opt;if(e.autoCenter){var n=function(){a.center(t.dom)};r(window).on("resize",n),this.on("show",n)}e.autoDestroy&&this.on("hide",function(){setTimeout(t.destroy.bind(t),1e3)}),e.hideOnTouchMask&&e.mask&&this.mask.on("touchstart",function(){t.hide()})},o.prototype._show=function(){var t=this.opt,e=this.firstShow;if(this.firstShow=!1,e&&t.lazyRender&&h.append(this.dom),t.mask&&this.mask.show(),this.dom.addClass("visible"),t.iscroll)if(this.scroller){var n=this.scroller;setTimeout(function(){n.refresh()},0)}else{var i=a.format('[data-role="${iscroll}"]',t),o=this.dom.find(i);if(!o.length)return;this.scroller=new s(o[0],{mouseWheel:!0}),t.mask&&this.mask.on("touchstart",function(t){t.preventDefault()}),this.dom.on("touchmove",function(t){t.preventDefault()})}if(t.history){history.pushState({},t.history);var r=this,c=function(t){t.preventDefault(),r.realHide(),window.removeEventListener("popstate",c)};window.addEventListener("popstate",c,!1)}},o.prototype._hide=function(t){this.mask&&this.mask.hide(),this.dom.removeClass("visible")},o.prototype.destroy=function(){this.dom.remove(),this.fire("destroy")},o.create=function(t){return new o(t)},i.exports=o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},101:function(t,e){},103:function(t,e){/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
!function(e,n,i){function o(t,e){this.wrapper="string"==typeof t?n.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"",this.options.useTransition=c.hasTransition&&this.options.useTransition,this.options.useTransform=c.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function r(t,e,i){var o=n.createElement("div"),r=n.createElement("div");return i===!0&&(o.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(i===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(i===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",e||(o.style.pointerEvents="none"),o.appendChild(r),o}function s(t,i){this.wrapper="string"==typeof i.el?n.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in i)this.options[o]=i[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(c.addEvent(this.indicator,"touchstart",this),c.addEvent(e,"touchend",this)),this.options.disablePointer||(c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.addEvent(e,c.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(c.addEvent(this.indicator,"mousedown",this),c.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[c.style.transform]=this.scroller.translateZ,this.wrapperStyle[c.style.transitionDuration]=c.isBadAndroid?"https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/0.001s":"0ms",this.wrapperStyle.opacity="0")}var a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},c=function(){function t(t){return s===!1?!1:""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1)}var o={},r=n.createElement("div").style,s=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in r)return e[n].substr(0,e[n].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var n in e)t[n]=e[n]},o.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},o.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},o.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},o.momentum=function(t,e,n,o,r,s){var a,c,l=t-e,u=i.abs(l)/n;return s=void 0===s?6e-4:s,a=t+u*u/(2*s)*(0>l?-1:1),c=u/s,o>a?(a=r?o-r/2.5*(u/8):o,l=i.abs(a-t),c=l/u):a>0&&(a=r?r/2.5*(u/8):0,l=i.abs(t)+a,c=l/u),{destination:i.round(a),duration:c}};var a=t("transform");return o.extend(o,{hasTransform:a!==!1,hasPerspective:t("perspective")in r,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:t("transition")in r}),o.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),o.extend(o.style={},{transform:a,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),o.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},o.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},o.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),o.tap=function(t,e){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},o.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=n.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},o}();o.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==c.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||c.eventType[t.type]===this.initiated)){!this.options.preventDefault||c.isBadAndroid||c.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=c.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=c.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,o,r,s=t.touches?t.touches[0]:t,a=s.pageX-this.pointX,l=s.pageY-this.pointY,u=c.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=a,this.distY+=l,o=i.abs(this.distX),r=i.abs(this.distY),!(u-this.endTime>300&&10>o&&10>r)){if(this.directionLocked||this.options.freeScroll||(o>r+this.options.directionLockThreshold?this.directionLocked="h":r>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,l=this.hasVerticalScroll?l:0,e=this.x+a,n=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+l/3:n>0?0:this.maxScrollY),this.directionX=a>0?-1:0>a?1:0,this.directionY=l>0?-1:0>l?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,o=(t.changedTouches?t.changedTouches[0]:t,c.getTime()-this.startTime),r=i.round(this.x),s=i.round(this.y),a=i.abs(r-this.startX),l=i.abs(s-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=c.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&c.tap(t,this.options.tap),this.options.click&&c.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>o&&100>a&&100>l)return void this._execEvent("flick");if(this.options.momentum&&300>o&&(e=this.hasHorizontalScroll?c.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},n=this.hasVerticalScroll?c.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},r=e.destination,s=n.destination,u=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(r,s);this.currentPage=d,u=this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-d.x),1e3),i.min(i.abs(s-d.y),1e3)),300),r=d.x,s=d.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return r!=this.x||s!=this.y?((r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(h=c.ease.quadratic),void this.scrollTo(r,s,u,h)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),e==this.x&&n==this.y?!1:(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=c.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;n>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||c.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,o,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=c.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,n===!0&&(n=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=o||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-s.left),i.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,r)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[c.style.transitionDuration]=t+"ms",!t&&c.isBadAndroid&&(this.scrollerStyle[c.style.transitionDuration]="https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[c.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var n=t?c.removeEvent:c.addEvent,i=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),c.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,c.prefixPointerEvent("pointerdown"),this),n(i,c.prefixPointerEvent("pointermove"),this),n(i,c.prefixPointerEvent("pointercancel"),this),n(i,c.prefixPointerEvent("pointerup"),this)),c.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,i=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[c.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),n=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,o=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:r("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),o.push(e)),this.options.scrollX&&(e={el:r("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),o.push(e))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var c=o.length;c--;)this.indicators.push(new s(this,o[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this),c.addEvent(this.wrapper,"mousewheel",this),c.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){c.removeEvent(this.wrapper,"wheel",this),c.removeEvent(this.wrapper,"mousewheel",this),c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,n,o,r,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return o=this.currentPage.pageX,r=this.currentPage.pageY,e>0?o--:0>e&&o++,n>0?r--:0>n&&r++,void this.goToPage(o,r);o=this.x+i.round(this.hasHorizontalScroll?e:0),r=this.y+i.round(this.hasVerticalScroll?n:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(o,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,o,r,s,a=0,c=0,l=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=i.round(u/2),o=i.round(h/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[a][t]={x:i.max(l,this.maxScrollX),y:i.max(r,this.maxScrollY),width:u,height:h,cx:l-n,cy:r-o},r-=h,t++;l-=u,a++}else for(s=this.options.snap,t=s.length,e=-1;t>a;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=i.max(-s[a].offsetLeft,this.maxScrollX),r=i.max(-s[a].offsetTop,this.maxScrollY),n=l-i.round(s[a].offsetWidth/2),o=r-i.round(s[a].offsetHeight/2),this.pages[c][e]={x:l,y:r,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:n,cy:o},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,o=this.pages.length,r=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);o>n;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(o=this.pages[n].length;o>r;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,0>n?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r==this.currentPage.pageY&&(r+=this.directionY,0>r?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},goToPage:function(t,e,n,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var r=this.pages[t][e].x,s=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-this.x),1e3),i.min(i.abs(s-this.y),1e3)),300):n,this.currentPage={x:r,y:s,pageX:t,pageY:e},this.scrollTo(r,s,n,o)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,0>n&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(t){var n,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in i)this.options.keyBindings[n]=this.options.keyBindings[n]||i[n];c.addEvent(e,"keydown",this),this.on("destroy",function(){c.removeEvent(e,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,o=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,s=c.getTime(),a=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>s-a?i.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,r=0;break;case this.options.keyBindings.left:o+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(o,r);o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,r,0),this.keyTime=s}},_animate:function(t,e,n,i){function o(){var d,p,f,m=c.getTime();return m>=h?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"))):(m=(m-u)/n,f=i(m),d=(t-s)*f+s,p=(e-l)*f+l,r._translate(d,p),void(r.isAnimating&&a(o)))}var r=this,s=this.x,l=this.y,u=c.getTime(),h=u+n;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},s.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(c.removeEvent(this.indicator,"touchstart",this),c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.removeEvent(this.indicator,"mousedown",this),c.removeEvent(e,"touchmove",this),c.removeEvent(e,c.prefixPointerEvent("pointermove"),this),c.removeEvent(e,"mousemove",this),c.removeEvent(e,"touchend",this),c.removeEvent(e,c.prefixPointerEvent("pointerup"),this),c.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=c.getTime(),this.options.disableTouch||c.addEvent(e,"touchmove",this),this.options.disablePointer||c.addEvent(e,c.prefixPointerEvent("pointermove"),this),this.options.disableMouse||c.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,o,r=t.touches?t.touches[0]:t;c.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+e,o=this.y+n,this._pos(i,o),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),c.removeEvent(e,"touchmove",this),c.removeEvent(e,c.prefixPointerEvent("pointermove"),this),c.removeEvent(e,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);(this.scroller.x!=n.x||this.scroller.y!=n.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[c.style.transitionDuration]=t+"ms",!t&&c.isBadAndroid&&(this.indicatorStyle[c.style.transitionDuration]="https://gss0.bdstatic.com/8r1VaTipBBZU8tG8nYGOKT67gB5-reHg-_/static/page/submission/0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[c.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(c.addClass(this.wrapper,"iScrollBothScrollbars"),c.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(c.removeClass(this.wrapper,"iScrollBothScrollbars"),c.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[c.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},o.utils=c,"undefined"!=typeof t&&t.exports?t.exports=o:e.IScroll=o}(window,document,Math)},104:function(t,e,n){
var i;i=function(t,e,i){function o(t,e,n){this.showing=n||!1,this._show=t,this._hide=e}var r=n(56);o.prototype.show=function(){this.showing||(this._show.apply(this,arguments),this.showing=!0,this.fire("show"))},o.prototype.hide=function(){this.showing&&(this._hide.apply(this,arguments),this.showing=!1,this.fire("hide"))},r.mixTo(o.prototype),i.exports=o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},105:function(t,e,n){var i;i=function(t,e,i){function o(t){t=s.extend({autoDestroy:!0,lazyRender:!1,zIndex:null},t),this.init(t)}n(106);var r=n(45),s=n(51),a=n(104),c=n(108),l=r(document.body);s.inherits(o,a),o.prototype.init=function(t){this.opt=t,this.dom=r(c(t));var e=this;["touchstart","tap","click"].forEach(function(t){e.dom.on(t,function(n){e.fire(t,n)})}),null!=t.zIndex&&this.dom.css("z-index",t.zIndex),l.append(this.dom)},o.prototype._show=function(){this.dom.addClass("visible")},o.prototype._hide=function(){this.dom.removeClass("visible"),this.opt.autoDestroy&&setTimeout(this.destroy.bind(this),1e3)},o.prototype.destroy=function(){this.dom.remove(),this.fire("destroy")},o.create=function(t){return new o(t)},i.exports=o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},106:function(t,e){},108:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="nuomi-mask"></div>'}},109:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="nuomi-popup">\n</div>'}},110:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";return o+='\n<div class="nuomi-toast">\n',n=t.text,null!=n&&(o+=e(n)),o+="\n</div>"}},124:function(t,e,n){var i;i=function(t,e,i){var o,r=n(45),s=function(t,e,n,i){o=window.BNJS,o.location.hasLocation&&(e.lat=o.location.latitude,e.lng=o.location.longitude),o.http.post({url:t,params:e,onSuccess:n,onFail:i?i:function(t){o.ui.showErrorPage("网络不给力哦...",1),o.ui.toast.show("加载数据失败")}})},a={location:function(t){var e={};return o.location.hasLocation&&(e[t[0]]=o.location.latitude+","+o.location.longitude),e},cityCode:function(t){var e={};return e[t[0]]=o.location.selectCityCode,e},platform:function(t){var e={};return e[t[0]]=o.device.platform,e},os:function(t){var e={};return e[t[0]]=o.device.os,e},device:function(t){var e={};return e[t[0]]=o.device.name,e}},c=function(t,e,n,i,s){o=window.BNJS,o&&r.each(t,function(t,e){var i=a[e.func].apply(null,[e.keys]);n=r.extend(n,i)}),o.http.post({url:e,params:n,onSuccess:i,onFail:s?s:function(t){o.ui.showErrorPage("网络不给力哦...",1)}})};i.exports={postDataWithAddParam:c,postDataWithLocation:s}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},226:function(t,e,n){var i;i=function(t,e,n){n.exports=function(){function t(t){try{return JSON.parse(t)}catch(e){return t}}var e=window.localStorage,n=function(){try{return e.setItem("t","t"),!0}catch(t){return!1}}(),i="__val",o="__exp",r=function(t,r,s){if(n){if("string"!=typeof r&&"object"!=typeof r)throw new Error("`"+r+"` is not the valid value, only support String or Object");if("number"==typeof s){var a={};a[i]=r,a[o]=+Date.now()+1e3*s*3600*24;try{e.setItem(t,JSON.stringify(a))}catch(c){alert(c)}}else e.setItem(t,"object"==typeof r?JSON.stringify(r):r);return r}},s=function(t){n&&e.removeItem(t)},a=function(r){if(n){var a=t(e.getItem(r));return a&&"object"==typeof a&&a.hasOwnProperty(o)?a[o]>+Date.now()?a[i]:(s(r),null):a}},c=function(){n&&e.clear()},l=function(){if(n){for(var t={},i=[],o=0,r=e.length;r>o;o++)i.push(e.key(o));for(o=0,r=i.length;r>o;o++){var s=i[o],c=a(s);null!==c&&(t[s]=c)}return t}},u=function(){n&&l()};return u(),{available:n,setItem:r,getItem:a,removeItem:s,clear:c,getAll:l,cleanup:u}}()}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},265:function(t,e,n){var i;i=function(t,e,i){var o=n(51),r=n(56),s=n(97),a=n(67),c=n(226),l=n(266),u=n(267),h=n(74),d=n(268),p=n(53),f={init:function(t,e){if(this._options=o.extend({dealId:"",dealType:1,dealTinyUrl:"",dealOptions:[],max:0,bought:0,min:0,unitPrice:0,delivery:0,deliveryFreeLimit:0,isLogin:!1,addressList:[],logData:{},promotion:!0,antiType:"",showToast:!0,antiState:""},t),this._data=o.extend({nums:[],privileges:[],privilege:null,vouchers:[],voucher:null,balance:0,useBalance:!1,deliveryAddress:null,deliveryTime:"2",hbCheckUse:{}},e),this.manualChoices={},this.resumeState(),this.resumeNumsFromUrl(),this.updateNum(),!this.getDelivery().address){var n=this._options.addressList,i=n.filter(function(t){return 1===parseInt(t.is_default,10)})[0]||n[0];this._data.deliveryAddress=i&&i.id}},isWuliu:function(){return 2===this._options.dealType},hasOptions:function(){return this._options.dealOptions&&this._options.dealOptions.length||0},getTotal:function(t){var e=t?o.extend(this._data,t,!0):this._data,n=this.hasOptions();return n?e.nums.slice(0,n).reduce(function(t,e){return(t||0)+(e||0)}):e.nums[0]||0},getPrice:function(t){var e=t?o.extend(this._data,t,!0):this._data,n=this._options,i=this.getTotal(),r={origin:i*n.unitPrice,exact:0,privilege:0,voucher:0,balance:0,delivery:0};r.exact=r.origin;var s=this.getPrivilege(t);s&&(r.privilege=Math.min(s.reductionAmount,r.exact),r.exact-=r.privilege);var a=this.getVoucher(t);if(a&&(r.voucher=Math.min(a.money,r.exact),r.exact-=r.voucher),e.useBalance&&r.exact>e.balance&&(this._data.hbCheckUse.paymentTag=1),e.useBalance&&1===e.hbCheckUse.paymentTag&&(r.balance=Math.min(e.balance,r.exact),r.exact-=r.balance,r.exact<=0&&(r.exact=0)),e.useBalance&&2===e.hbCheckUse.paymentTag){var c=e.hbCheckUse.payMoney||0;r.balance=Math.min(e.balance,r.exact)-c,r.exact-=r.balance,r.exact<=0&&(r.exact=c)}return this.isWuliu()&&(r.delivery=i>=n.deliveryFreeLimit?0:n.delivery,r.exact+=r.delivery),r},validate:function(t){var e=t?o.extend(this._data,t,!0):this._data,n=this._options,i=e.nums;if(this.hasOptions())for(var r,s,a=n.dealOptions,c=0,h=a.length;h>c;c++){if(r=i[c]||0,s=a[c],0>r)throw new l("optionMin",{index:c});if(r>0&&r>s.buyLimit-s.saleCount)throw new l("optionMax",{index:c})}var d=this.getTotal(t);if(d>n.max)throw new l("max");if(d<n.min)throw new l("min");var p=this.getPrivilege(t),f=this.getVoucher(t),m=p&&2===p.voucherUseType;if(m&&f)throw new l("noVoucher");var g=this.getPrice(t);if(f&&g.origin-g.privilege<f.threshold)throw new l("privilegeNoVoucher");var v=this.isWuliu();if(v){if(!e.deliveryAddress)throw new l("noAddress");if(e.deliveryAddress&&!u.getById(this._options.addressList,e.deliveryAddress))throw new l("invalidAddress")}},check:function(t){try{this.validate(t)}catch(e){return e}return null},updateNum:function(){var t=this._data,e=this.hasOptions();if(e>1)for(var n=0,i=e;i>n;n++)t.nums[n]=t.nums[n]>0?t.nums[n]:0;else t.nums[0]=t.nums[0]>1?t.nums[0]:1;this.fire("update-num",t,this._options),this._options.promotion&&this.fetchPromotion()},fetchPromotion:function(){this._fetching&&this._fetching.abort();var t=this._options,e=this.getTotal(),n=a.parse(),i={dealId:t.dealId,num:e,money:t.unitPrice*e};o.extend(i,n);var r=this,c=function(t,e){"abort"!==e&&s.create(e&&e.message||"请求优惠信息出错")},l=function(t,e){if("abort"!==e){if(t.errno)return void c(null,t.msg);if("abort"!==e){if(t.errno)return void c(null,t.msg);var n=(t.data.activityList||[]).map(function(t){return t.reductionAmount=parseInt(t.reductionAmount,10),t}),i=(t.data.gifts||[]).map(function(t){return t.money=parseInt(t.money,10),t.threshold=parseInt(t.threshold,10),t}),s=parseInt(t.data.balance.canUse||0,10),a=t.data.hbCheckUse||{};o.forEach(a,function(t,e){a[e]=parseInt(t,10)}),o.extend(r._data,{privileges:n,vouchers:i,balance:s,hbCheckUse:a}),r.useBestPromotion()}}};this._fetching=$.ajax({url:"/webapp/pay/promotion",type:"post",timeout:1e4,data:i,dataType:"json",success:l,error:c,complete:function(t,e){r._fetching=null}})},fetchAntiCheat:function(){this._fetchAnti&&this._fetchAnti.abort();var t=this,e=function(t,e){"abort"!==e&&s.create(e&&e.message||"请求支付方式信息出错")},n=function(n,i){if("abort"!==i){if(n.errno)return void e(null,n.msg);if("abort"!==i){if(n.errno)return void e(null,n.msg);o.extend(t._options,{antiState:parseInt(n.data.is_new.state,10),antiType:parseInt(n.data.is_new.cashier_type,1)}),t.fire("update-promotion",t._data,t._options)}}},i=f.getPrivilege(),r=f.getVoucher(),a=0;a+=i?i.reductionAmount:0,a+=r?r.money:0;var c={dealId:f._options.dealId,platBenefitMoney:a};this._fetchAnti=$.ajax({url:"/webapp/pay/paytype",type:"GET",data:c,dataType:"json",success:n,error:e,complete:function(t,e){this._fetchAnti=!1}})},getBestPromotion:function(t){return u.getBestPromotion(this._data,this.getPrice.bind(this),this.check.bind(this),t)},useBestPromotion:function(){var t=this,e=o.filter(this.manualChoices,function(e,n){return"privilege"===n&&t.getPrivilege({privilege:e})||"voucher"===n&&t.getVoucher({voucher:e})}),n=this.getBestPromotion(e);this.set(n,!0)},get:function(t){return this._data[t]},set:function(t,e,n){if(!n){var i=this.check(t);if(i){var r={num:["nums"],promotion:["privileges","privilege","vouchers","voucher","balance","useBalance"],delivery:["deliveryAddress","deliveryTime"]},s=Object.keys(t);if(o.hasAny(s,r[i.reject]||[]))throw i}}o.extend(this._data,t);var a=Object.keys(t);if(!e){var c=this.manualChoices;a.forEach(function(e){null!==t[e]?c[e]=t[e]:delete c[e]})}if(o.hasAny(a,["useBalance"])&&this.fire("update-promotion",this._data,this._options),o.hasAny(a,["privilege","voucher"])&&this.fetchAntiCheat(),o.hasAny(a,["privileges","vouchers"])&&this.fire("update-promotion-list",this.data,this._options),o.hasAny(a,["deliveryAddress","deliveryTime"])&&this.fire("update-delivery",this._data,this._options),o.hasAny(a,["nums"])&&this.updateNum(),o.hasAny(a,["privilege","voucher","nums"])){var l=this.getBalance();l&&!l.available&&l.inUse&&this.set({useBalance:!1})}a.length&&(this.saveState(),this.fire("change"))},saveState:function(){c.setItem("SUBMISSION_"+this._options.dealId,this._data,1)},resumeState:function(){o.extend(this._data,c.getItem("SUBMISSION_"+this._options.dealId))},resumeNumsFromUrl:function(){var t=a.parse();if(t.orderData)try{o.extend(this._data,JSON.parse(t.orderData))}catch(e){}},clearState:function(){c.removeItem("SUBMISSION_"+this._options.dealId)},setNum:function(t,e){if(!isNaN(e)){var n=o.clone(this._data.nums);n[t]=e,this.set({nums:n})}},getPrivilege:function(t){var e=t?o.extend(this._data,t,!0):this._data;return u.getById(e.privileges,e.privilege)},getVoucher:function(t){var e=t?o.extend(this._data,t,!0):this._data;return u.getById(e.vouchers,e.voucher)},getBalance:function(t){var e=t?o.extend(this._data,t,!0):this._data;if(!e.balance)return null;var n=this.getPrice({useBalance:!0}).balance;return{remaining:e.balance,available:n,inUse:e.useBalance}},getDelivery:function(){var t=this._data;return{address:u.getById(this._options.addressList,t.deliveryAddress),time:t.deliveryTime}},submit:function(){var t=this.check();if(t)return void s.create(t.message);var e=this.isWuliu,n=this._options,i=this._data,r=n.logData||{},c=this.getPrivilege(),l=this.getVoucher(),u=this.getPrice(),f=this.getDelivery(),m={method:"json",s:r.s,rid:r.recomwd_id,dealType:n.dealType,dealTinyUrl:n.dealTinyUrl,dealPrice:n.unitPrice,giftCardId:l&&l.id,giftCardMoney:l&&l.money,hongbaoMoney:0,balanceMoney:u.balance,promoId:c&&c.id,promoMoney:c&&c.reductionAmount,totalMoney:u.origin,money:u.exact,count:this.getTotal(),rand:Date.now()};if(e&&o.extend(m,{addressId:f.address&&f.address.id,deliveryType:f.time,deliveryCost:u.delivery}),this.hasOptions()){var g=i.nums,v={};n.dealOptions.forEach(function(t,e){v[t.dealOptionId]=g[e]}),m.dealOptions=JSON.stringify(v)}h.isYizhifu()&&o.extend(m,{partnerUserInfo:d.user.getProduct(),orderSource:"TIANYI_PAY"});var y=a.parse();o.extend(m,y),this.fire("submit");var b=s.create("生成订单中..."),w=this,x=function(t){b.hide(),s.create(t||"抱歉，未下单成功，请重新下单"),w.fire("submit-fail")};$.ajax({url:"/webapp/pay/submit",type:"post",data:m,dataType:"json",success:function(t){if(n&&n.decoVersion){var e="";t&&t.data&&t.data.orderId&&(e=t.data.orderId),p.send({actionID:"submit_trade_order",mon:"order_id="+e+"&version="+n.decoVersion})}return 1===t.errno?void(t.data.payInfo?s.create("翼支付不支持秒杀"):w.seckill(t.data)):t.errno?void x(t.data&&t.data.msg):(b.hide(),w.clearState(),history.replaceState({pageBack:location.href},"pageBack",location.href),void w.fire("pay",t.data,x))},error:function(){x()}})},seckill:function(t){var e,n=this,i=0,o=[],r=!1,a=function(){r=!0,e=clearInterval(e)},c=function(t){s.create(t||"抱歉，未下单成功，请重新下单"),n.fire("submit-fail")};e=setInterval(function(){o.push($.ajax({type:"get",url:t.checkUrl,dataType:"jsonp",jsonp:"callback",success:function(t){return r?void 0:(a(),t.data.payUrl?void n.fire("pay",t.data,function(t){return t?void c(t):void n.fire("submit-succeed")}):void(1===parseInt(t.data.status,10)&&c()))},error:function(){r||(a(),c())}})),++i>=t.times&&a()},t.interval)},refreshCashier:function(t){var e=f.getVoucher(),n=f.getPrivilege();$.ajax({url:"/webapp/pay/getpayhtml",dataType:"json",method:"GET",data:{giftCardId:e&&e.id,giftCashierType:e&&e.cashierType,promotionCashierType:n&&n.cashierType,cheatCashierType:f._options.antiType,min_title:f._options.dealTitle},success:function(t){t.errno||t.data&&t.data.payHtml&&$("#cashier-wrapper").html(t.data.payHtml).show()},error:function(){}})}};r.mixTo(f),i.exports=f}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},266:function(t,e,n){var i;i=function(t,e,i){function o(t,e){this.type="ORDER_ERROR",this.name=t,r.extend(this,s[t]),r.extend(this,e)}var r=n(51),s={max:{reject:"num",message:"超出最大购买数目"},min:{reject:"num",message:"少于最少购买数目"},optionMax:{reject:"num",message:"套餐超出最大购买数目"},optionMin:{reject:"num",message:"套餐少于最少购买数目"},noVoucher:{reject:"promotion",message:"当前优惠不能与优惠券同时使用"},noAddress:{reject:"delivery",message:"请选择或创建收货地址"},invalidAddress:{reject:"delivery",message:"无效的收货地址"},privilegeNoVoucher:{reject:"promotion",message:"优惠后不能满足优惠券门槛"}};i.exports=o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},267:function(t,e,n){var i;i=function(t,e,n){var i=function(t,e){return t.filter(function(t){return t.id===e})[0]},o=function(t,e){return t.exact!==e.exact?t.exact<e.exact:t.balance!==e.balance?t.balance<e.balance:t.voucher!==e.voucher?t.voucher<e.voucher:!1},r=function(t,e,n,i){i=i||{};var r=i.hasOwnProperty("privilege")?[i.privilege]:t.privileges.map(function(t){return t.id}).concat(null),s=i.hasOwnProperty("voucher")?[i.voucher]:t.vouchers.map(function(t){return t.id}).concat(null),a={privilege:null,voucher:null},c=e(a);return r.forEach(function(t){s.forEach(function(i){var r={privilege:t,voucher:i};if(!n(r)){var s=e(r);o(s,c)&&(a=r,c=s)}})}),a};n.exports={getById:i,costLessThan:o,getBestPromotion:r}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},268:function(t,e,n){var i;i=function(t,e,n){var i={onPay:function(t,e,n){var i={params:t};return l("Payment","onPay",i,e,n)}},o={getProduct:function(){return c("User","getProduct",{})}},r={getClientVersion:function(){return c("App","getClientVersionName",{})},autoLogin:function(t){var e={productNo:"",location:""};l("App","autoLogin",e,t)},getSessionKey:function(){return c("App","getSessionKey",{})},overrideBackPressed:function(t){var e={bound:t};return c("App","overrideBackPressed",e)},exitApp:function(){return c("App","exitApp",{})},setKeyEventListener:function(t){r.listener=t},onKeyEvent:function(t){"function"==typeof r.listener&&r.listener(t)},setTitle:function(t){var e={title:t};c("App","setTitle",e)},jumpToNativeView:function(t,e,n,i){"undefined"==typeof e&&(e={});var o=e;o.viewName=t,l("App","jumpToNativeView",o,n,i)},openSafeKeyBoard:function(t,e,n,i){t=t||6,e=e||"";var o={len:t,title:e};l("App","openSafeKeyBoard",o,n,i)},getCommonRequestParams:function(){var t=c("App","getCommonRequestParams",{});return s?t:JSON.parse(t)}},s=/iP(ad|hone|od)/.test(navigator.userAgent),a={idCounter:0,INPUT_CMDS:{},INPUT_ARGS:{},OUTPUT_RESULTS:{},CALL_STATUS:{SUCCESS:0},CALLBACK_SUCCESS:function(t){console.log(t)},CALLBACK_FAIL:function(t){console.log(t)},callNative:function(t,e,n,i){var o="ID_"+ ++this.idCounter;s?(this.INPUT_CMDS[o]=t,this.INPUT_ARGS[o]=e,"undefined"!=typeof n&&(this.CALLBACK_SUCCESS[o]=n),"undefined"!=typeof i&&(this.CALLBACK_FAIL[o]=i)):(this.INPUT_CMDS=t,this.INPUT_ARGS=e,window.nintf.setCmds(this.getInputCmd(),o),window.nintf.setArgs(this.getInputArgs(),o));var r=document.createElement("IFRAME");return r.setAttribute("src","bestpayhtml://ready?id="+o),document.documentElement.appendChild(r),r.parentNode.removeChild(r),r=null,console.log("return this.OUTPUT_RESULTS:"+this.OUTPUT_RESULTS),s?this.OUTPUT_RESULTS[o]:this.OUTPUT_RESULTS},getInputCmd:function(t){return s?this.INPUT_CMDS[t]:JSON.stringify(this.INPUT_CMDS)},getInputArgs:function(t){return s?this.INPUT_ARGS[t]:this.INPUT_ARGS},callBackJs:function(t,e){if(s){this.OUTPUT_RESULTS[e]=t;var n=JSON.parse(t),i=n.message,o=n.status;o==a.CALL_STATUS.SUCCESS?"undefined"!=typeof this.CALLBACK_SUCCESS[e]&&setTimeout("BestpayHtml5.CALLBACK_SUCCESS['"+e+"']('"+i+"')",0):"undefined"!=typeof this.CALLBACK_FAIL[e]&&setTimeout("BestpayHtml5.CALLBACK_FAIL['"+e+"']('"+i+"')",0)}else{this.OUTPUT_RESULTS=t;var n=JSON.parse(t),i=n.message,o=n.status;o==a.CALL_STATUS.SUCCESS?"undefined"!=typeof this.CALLBACK_SUCCESS&&setTimeout("BestpayHtml5.CALLBACK_SUCCESS('"+i+"')",0):"undefined"!=typeof this.CALLBACK_FAIL&&setTimeout("BestpayHtml5.CALLBACK_FAIL('"+i+"')",0)}}},c=function(t,e,n){var i={service:t,action:e};if(s){var o=a.callNative(JSON.stringify(i),JSON.stringify(n)),r={};try{r=JSON.parse(o);var c=r.status,l=r.message;return l}catch(u){return console.error(u.message),null}}else{var o=prompt(JSON.stringify(i),JSON.stringify(n)),r={};try{r=JSON.parse(o)}catch(u){console.error(u.message)}var c=r.status,l=r.message;if(0==c)return l;console.error("service:"+t+" action:"+e+" error:"+l)}},l=function(t,e,n,i,o){var r={service:t,action:e};if(s)a.callNative(JSON.stringify(r),JSON.stringify(n),i,o);else{"success"!=typeof o&&(a.CALLBACK_SUCCESS=i),"undefined"!=typeof o?a.CALLBACK_FAIL=o:a.CALLBACK_FAIL=function(){};a.callNative(r,JSON.stringify(n))}};window.BestpayHtml5||(window.BestpayHtml5=a),n.exports={payment:i,user:o,app:r}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},269:function(t,e,n){var i;i=function(t,e,i){n(270);var o=n(45),r=n(104),s=n(51),a=n(272),c=n(265),l=n(282),u=n(100),h=n(277).init(),d={wrapper:n(286),submit:n(287)},p=o(document.body);i.exports=s.extend(new r(function(){this.popup.show(),this.submit.show(),this.inputs.update(),window.scrollTo(0,0)},function(){this.popup.hide(),this.submit.hide(),h.hide()}),{init:function(t){t=this.options=s.extend({dealTitle:"",unitPrice:0,dealOptions:[],deliveryFreeLimit:0,hasOptions:!!c.hasOptions(),fullScreen:!0},t),t.min&&1!==t.min?t.limitTip=s.format("（最少买${min}件）",t):t.limitTip=t.max?s.format("（最多买${max}件）",t):null;var e=this.wrapper=o(d.wrapper(t)),n=this.submit=o(d.submit());s.isSystem("IOS")&&e.css("position","fixed");var i=this.popup=u.create({content:e,mask:!t.fullScreen,autoDestroy:!1,iscroll:"content-wrapper",history:!0,show:!1,lazyRender:!0}),r=this.doms={wrapper:e,close:e.find('[data-role="close-btn"]'),submit:n.find('[data-role="submit-btn"]'),numInputWrappers:e.find('[data-role="num-input-wrapper"]')},l=this,f=this.inputs=a.init(r.numInputWrappers,!1);i.on("show",function(){l.show()}),i.on("hide",function(){l.hide()}),r.close.on("tap",function(){l.hide()}),h.on("show",function(){if(l.showing){var t=h.height()+"px";e.css("top","0px"),e.css("bottom",t),n.css("bottom",t),i.scroller.refresh(),i.scroller.scrollToElement(".focus",null,null,-9)}}),h.on("hide",function(){l.showing&&(e.css("top",null),e.css("bottom","0px"),n.css("bottom","0px"),i.scroller.refresh())}),r.submit.on("click",function(){setTimeout(function(){f.isCorrecting()||l.doSubmit()},100)}),n.on("touchmove",function(t){t.preventDefault()}),p.append(n)},doSubmit:function(){try{c.set({nums:this.inputs.val()})}catch(t){return void l.create({text:t.message,zIndex:110})}this.hide(),this.onSubmit&&(this.onSubmit(),this.onSubmit=null)},selectThen:function(t){this.show(),this.onSubmit=t}})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},270:function(t,e){},272:function(t,e,n){var i;i=function(t,e,i){var o=n(51),r=n(97),s=n(53),a=n(273),c=n(265),l=function(t,e,n){for(var i;e>t+2;){i=Math.round((t+e)/2);var o=n(i);if(0===o)return i;o>0&&(e=i),0>o&&(t=i)}return t+1},u=function(t,e,n){var i=n[e];n[e]=t;var o=c.check({nums:n});return n[e]=i,o},h=function(t,e,n){var i=u(t,e,n);return i&&("max"===i.name||"optionMax"===i.name&&i.index===e)},d=function(t,e,n){var i=u(t,e,n);return i&&("min"===i.name||"optionMin"===i.name&&i.index===e)},p=function(t,e,n,i){var s=o.cachable(function(t){return h(t,e,n)}),a=o.cachable(function(t){return d(t,e,n)}),u=c.get("nums")[e],p=!c.check(),f=p?u+1:Math.pow(2,20),m=p?u-1:-1,g=function(t){i||r.create(t)};if(isNaN(t))return g("请输入合法的数目"),l(-1,f,function(t){return a(t)?-1:a(t-1)?0:1});if(s(t)){var v=l(m,t,function(t){return s(t)?1:s(t+1)?0:-1});return g("最多购买"+v+"件"),v}if(a(t)){var y=l(t,f,function(t){return a(t)?-1:a(t-1)?0:1});return g("最少购买"+y+"件"),y}return t},f=function(t,e){var n=[];t.each(function(t,e){e=$(e);var i=parseInt(e.attr("data-index"),10);n[i]=a.init(e)});var i,o=function(){return n.map(function(t){return t?t.val():0})},r=function(){var t=c.get("nums");n.forEach(function(e,n){e&&e.val(t[n])})},l=function(){var t=o();n.forEach(function(e,n){var i=!h(t[n]+1,n,t);e[i?"enable":"disable"]("plus");var o=!d(t[n]-1,n,t);e[o?"enable":"disable"]("minus")})};return n.forEach(function(t,n){t&&t.on("changed",function(r,a){a&&s.send("area=quantity&element="+r);var u=p(r,n,o(),!a);u!==r&&(t.val(u),clearTimeout(i),i=setTimeout(function(){i=null},300)),l(),e&&c.set({nums:o()})})}),c.on("update-num",r),r(),l(),{val:o,update:r,isCorrecting:function(){return!!i}}};i.exports={init:f}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},273:function(t,e,n){var i;i=function(t,e,i){n(274);var o=n(45),r=n(51),s=n(56),a=n(276),c=n(277),l={init:function(t,e){t.html(a(e)),this.options=e,this._val=e.val;var n=this.doms={wrapper:t,input:t.find('[data-role="input"]'),plus:t.find('[data-role="plus"]'),minus:t.find('[data-role="minus"]')};this.simulateInput(n.input);var i=this;return n.input.on("input",function(){var t=parseInt(n.input.val(),10);t!==i._val&&(i._val=t,i.fire("change",i._val,!0))}),n.input.on("blur",function(){i.fire("changed",i._val,!0)}),n.input.on("keypress",function(t){13===t.which&&n.input.blur()}),n.plus.on("click",function(){i.val(i._val+1,!0)}),n.minus.on("click",function(){i.val(i._val-1,!0)}),this},simulateInput:function(t){t.on("tap",function(){setTimeout(function(){t.triggerHandler("focus")},0)}),t.on("focus",function(){t.focused=!0,t.addClass("focus"),c.focus(t)}),o(document.body).on("tap",function(e){t.focused&&!t[0].contains(e.target)&&t.triggerHandler("blur")}),t.on("blur",function(){t.hasClass("focus")&&(t.focused=!1,t.removeClass("focus"),c.unfocus())}),t.val=function(e){return arguments.length&&t.text((e+"").replace(/^0(?=.+)/,"")),t.text()}},enable:function(t){var e=this.doms[t];e&&e.attr("disabled",null)},disable:function(t){var e=this.doms[t];e&&e.attr("disabled","")},val:function(t,e){return"number"==typeof t&&t!==this._val&&(this._val=t,this.doms.input.val(t),this.fire("change",t,e),this.fire("changed",t,e)),this._val}};s.mixTo(l),e.init=function(t,e){return t=o(t),e=r.extend({val:0},e),Object.create(l).init(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},274:function(t,e){},276:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";return o+='\n<div class="num-input">\n<button class="plus-btn" data-role="plus" type="button"></button>\n<span class="num-input" data-role="input">',n=t.val,null!=n&&(o+=e(n)),o+='</span>\n<button class="minus-btn" data-role="minus" type="button"></button>\n</div>'}},277:function(t,e,n){var i;i=function(t,e,i){n(278);var o=n(45),r=n(104),s=n(51),a=n(100),c=n(281),l=o(document.body);i.exports=s.extend(new r(function(){this.popup.show(),l.css("padding-bottom",this.height()+"px")},function(){this.popup.hide(),l.css("padding-bottom",null)}),{init:function(t){t=this.options=s.extend({},t);var e=this.wrapper=o(c(t)),n=this.popup=a.create({content:e,mask:!1,autoDestroy:!1,show:!1,lazyRender:!0}),i=this;return n.on("show",function(){i.show()}),n.on("hide",function(){i.hide()}),e.on("tap",'[data-role="key"]',function(){var t=o(this).attr("data-key");if(i.fire("keypress",t),i.focusTo){var e=i.focusTo;"del"===t?e.val(e.val().slice(0,-1)):e.val(e.val()+t),e.triggerHandler("input")}}),e.on("click",'[data-role="close"]',function(){i.unfocus()}),e.on("tap",function(t){t.stopPropagation()}),e.on("touchmove",function(t){t.preventDefault()}),this.inited=!0,this},focus:function(t){this.inited||this.init(),this.focusTo=t,setTimeout(this.show.bind(this),0)},unfocus:function(){if(this.focusTo){this.focusTo.triggerHandler("blur"),this.focusTo=null;var t=this;setTimeout(function(){t.focusTo||t.hide()},100)}},height:function(){return this.wrapper.height()}})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},278:function(t,e){},281:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="num-keyboard-block">\n<div class="keyboard-line">\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="1">1</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="2">2</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="3">3</a>\n</div>\n<div class="keyboard-line">\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="4">4</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="5">5</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="6">6</a>\n</div>\n<div class="keyboard-line">\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="7">7</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="8">8</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="9">9</a>\n</div>\n<div class="keyboard-line">\n<a class="keyboard-key" href="javascript:;" data-role="close">完成</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="0">0</a>\n<a class="keyboard-key" href="javascript:;" data-role="key" data-key="del"><i class="icon-del"></i></a>\n</div>\n</div>\n'}},282:function(t,e,n){var i;i=function(t,e,i){n(283);var o=n(45),r=n(51),s=n(100),a=n(285);e.create=function(t,e){t="string"==typeof t?{text:t}:t,e=e||r.doNothing,t=r.extend({text:"",confirmText:"确定"},t);var n=o(a(t)),i=s.create(r.extend(t,{content:n,autoCenter:!0}));return i.dom.on("click",'[data-role="confirm-btn"]',function(){i.hide(),e()}),i}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},283:function(t,e){},285:function(t,e){t.exports=function(t){var e,n="";n+="\n";var i="";if(n+="\n",t.width){n+="\n";var i='style="width:'+t.width+'";';n+="\n"}return n+='\n<div class="nuomi-alert" ',null!=i&&(n+=i),n+='>\n<p class="text-content">\n',e=t.text,null!=e&&(n+=e),n+='\n</p>\n<p class="footer-content">\n<button class="confirm-btn" data-role="confirm-btn">',e=t.confirmText,null!=e&&(n+=e),n+="</button>\n</p>\n</div>"}},286:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";if(o+='\n<div class="num-selector-block',t.fullScreen&&(o+=" full-screen"),o+='">\n<section class="num-selector-header">\n<p class="deal-title">',n=t.dealTitle,null!=n&&(o+=e(n)),o+='</p>\n<p class="price-info">单价：<span class="price">&yen;',n=t.unitPrice/1e3,null!=n&&(o+=e(n)),o+='</span><span class="tip">满',n=t.deliveryFreeLimit,null!=n&&(o+=e(n)),o+='件包邮</span></p>\n<a class="close-btn" data-role="close-btn" href="javascript:;"><i class="close"></i></a>\n</section>\n<div class="num-selector-content" data-role="content-wrapper">\n<section class="option-list-block">\n<ul class="option-list">\n\n',t.hasOptions){o+="\n";for(var r=t.dealOptions,s=0;s<r.length;s++){var a=r[s];o+="\n";var c=0==a.shortAge&&a.buyLimit>a.saleCount;o+='\n<li class="option-item">\n<h5 class="line-title">',n=a.tinyName,null!=n&&(o+=e(n)),o+="</h5>\n",c?(o+='\n<p class="line-content" data-role="num-input-wrapper" data-index="',null!=s&&(o+=e(s)),o+='">\n</p>\n'):o+='\n<p class="line-content">缺货中</p>\n',o+="\n</li>\n"}o+="\n\n"}else o+='\n<li class="option-item">\n<h5 class="line-title">数量',t.limitTip&&(o+='<span class="tip">',n=t.limitTip,null!=n&&(o+=e(n)),o+="</span>"),o+='</h5>\n<p class="line-content" data-role="num-input-wrapper" data-index="0">\n</p>\n</li>\n';return o+="\n</ul>\n</section>\n</div>\n</div>"}},287:function(t,e){t.exports=function(t){var e="";return e+='\n<section class="num-selector-submit-block">\n<button class="submit-btn" data-role="submit-btn">确定</button>\n</section>\n'}},723:function(t,e,n){var i;i=function(t,e,i){n(724);var o=n(45),r=n(51),s=n(100),a=n(726);e.create=function(t,e){t="string"==typeof t?{text:t}:t,e=e||r.doNothing,"number"==typeof t.width&&(t.width+="px"),t=r.extend({theme:"normal",text:"",cancelText:"取消",confirmText:"确定",highlightConfirm:!0},t);var n=o(a(t)),i=s.create(r.extend(t,{content:n,autoCenter:!0}));return i.dom.on("click",'[data-role="cancel-btn"]',function(){i.hide(),e(!1)}),i.dom.on("click",'[data-role="confirm-btn"]',function(){i.hide(),e(!0)}),i}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},724:function(t,e){},726:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";o+="\n";var r="";if(o+="\n",t.width){o+="\n";var r='style="width:'+t.width+'";';o+="\n"}return o+='\n<div class="nuomi-confirm theme-',n=t.theme,null!=n&&(o+=e(n)),o+='" ',null!=r&&(o+=r),o+='>\n<p class="text-content">\n',n=t.text,null!=n&&(o+=n),o+='\n</p>\n<p class="footer-content">\n<a class="cancel-btn" href="javascript:;" data-role="cancel-btn">',n=t.cancelText,null!=n&&(o+=n),o+='</a>\n<a class="confirm-btn',t.highlightConfirm&&(o+=" highlight-btn"),o+='" href="javascript:;" data-role="confirm-btn">',n=t.confirmText,null!=n&&(o+=n),o+="</a>\n</p>\n</div>"}},985:function(t,e,n){var i;i=function(t,e,i){n(986);var o=n(45),r=n(51),s=n(988),a=n(989),c={goodInfo:n(990),huoguo:n(991)},l=function(t,e){var n={wrapper:t,numInputWrappers:t.find('[data-role="num-input-wrapper"]'),price:t.find('[data-role="price"]'),tips:t.find('[data-role="num-tips"]')},i=!1;if(e.juyouhui&&!e.hasOptions){var o=parseInt(e.juyouhui.clchannel,10),r=parseInt(e.juyouhui.subtype,10);1!==o||1!==r&&2!==r||(n.numInputWrappers.html("1"),n.tips.hide(),i=!0),2===parseInt(e.juyouhui.clchannel,10)&&(n.tips.hide(),n.numInputWrappers.html("1"),t.append(c.huoguo()),i=!0)}i||(this.inputs=a.init(n.numInputWrappers,!0));var l=function(){n.price.text("￥"+s.getTotal()*s.getOption("unitPrice")/1e3)};s.on("before-update",l),l()};e.init=function(t,e){t=o(t),e=r.extend({min:0,max:1e4,hasOptions:!!s.hasOptions()},e),e.min&&1!==e.min?e.limitTip=r.format("（最少买${min}件）",e):e.limitTip=e.max?r.format("（最多买${max}件）",e):null,t.html(c.goodInfo(e)),l(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},986:function(t,e){},988:function(t,e,n){var i;i=function(t,e,i){function o(t,e){if(t&&t.status){if(0!==parseInt(t.status,10)||3===parseInt(t.status,10))return!1;if(parseInt(t.threshold,10)<=e&&0===parseInt(t.usedMoney,10))return!0}return!1}function r(){var t=A.info;P.privilege=t.selectedActivity&&t.selectedActivity.id||-1,P.voucher=t.selectedGiftCard&&t.selectedGiftCard.id||-1;var e;if(e=t.selectedActivity?Math.min(t.totalAmount-t.selectedActivity.reductionAmount,t.selectedActivity.costAmount):t.totalAmount,t&&t.giftCardList)for(var n=0,i=t.giftCardList.length;i>n;n++)t.giftCardList[n].isValidGiftCard=o(t.giftCardList[n],e)?1:0}function s(t){return!0}function a(t){for(var e=0,n=t.length;n>e;e++)if(1===t[e].isValidGiftCard)return!0;return!1}function c(t){var e=A.info.giftCardList;if(!e.length)return!1;for(var n=[void 0,!1,!1,!0],i=0,o=e.length;o>i;i++)n[e[i].composVoucherType]=!0;
return n[t]}function l(t){var e=A.info.activityList;if(!e.length)return!1;for(var n=[void 0,!1,!1,!1],i=0,o=e.length;o>i;i++)n[e[i].composFlag]=!0;return n[3]||n[t]}function u(t,e){return 0===!(h(e)&d(t))}function h(t){if(-1===t)return 3;for(var e=A.info.giftCardList,n=0,i=e.length;i>n;n++)if(e[n].id===t)return+e[n].composVoucherType}function d(t){if(-1===t)return 3;for(var e=A.info.activityList,n=0,i=e.length;i>n;n++)if(e[n].id===t)return+e[n].composFlag}function p(){var t=P,e=A.hasOptions();if(e>1)for(var n=0,i=e;i>n;n++)t.nums[n]=t.nums[n]>0?t.nums[n]:0;else t.nums[0]=t.nums[0]>1?t.nums[0]:1}function f(){x.removeItem("SUBMISSION_"+D.dealId)}function m(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;i>n;n++)if(t[n]!==e[n])return!1;return!0}function g(){function t(t,e){"abort"!==e&&b.create(e&&e.message||"请求价格信息出错")}function e(e,n){if("abort"!==n){if(e.errno)return void t(null,e.errmsg);A.info=e.data,r(),v.extend(D,{antiState:parseInt(e.is_new.state,10),antiType:parseInt(e.is_new.cashier_type,10)}),A.fire("update-calculate")}}_&&_.abort(),A.fire("before-update");var n={dealId:D.dealId,count:A.getTotal(),giftCardIds:P.voucher,activityIds:P.privilege,useHbBalance:P.useHbBalance?1:0};_=C.ajax({url:"/webapp/pay/calculate",type:"get",timeout:1e4,data:n,dataType:"json",success:e,error:t,complete:function(t,e){_=null}})}var v=n(51),y=n(56),b=n(97),w=n(67),x=n(226),S=n(266),T=n(74),E=n(268),k=n(53),C=n(45),D={dealId:"",dealType:1,dealTinyUrl:"",dealOptions:[],max:0,bought:0,min:0,unitPrice:0,delivery:0,deliveryFreeLimit:0,isLogin:!1,logData:{},showToast:!0,antiState:""},P={nums:[],privileges:[],privilege:-1,vouchers:[],voucher:-1,balance:0,useBalance:!1,useHbBalance:0,hbCheckUse:{}},A={info:{giftCardList:[],activityList:[],selectedGiftCard:null,selectedActivity:null,hbBalanceTotalAmount:0,hbBalanceCanUseAmount:0,hbBalanceLimitAmount:0,hbBalanceAllCanUseAmount:0,totalPrice:0,payAmount:0,giftCardReduceAmount:0,activityReduceAmount:0},init:function(t,e){v.extend(D,t),v.extend(A.info,e),r(),p()},getOption:function(t){return D[t]},get:function(t){return P[t]},set:function(t,e,n){if(!n){var i=A.check(t);if(i){var o={num:["nums"],promotion:["privileges","privilege","vouchers","voucher","balance","useBalance"],delivery:["deliveryAddress","deliveryTime"]},r=Object.keys(t);if(v.hasAny(r,o[i.reject]||[]))throw i}}var s=Object.keys(t)[0];if("privilege"===s)!u(t.privilege,P.voucher)&&(P.voucher=-1);else if("voucher"===s)!u(P.privilege,t.voucher)&&(P.privilege=-1);else if("nums"===s){if(m(P.nums,t.nums))return;P.voucher=0,P.privilege=0,p()}v.extend(P,t),g()},submit:function(t){var e=A.check();if(e)return void b.create(e.message);var n=D.logData||{},i=A.info,o=i.selectedGiftCard,r=i.selectedActivity,s={method:"json",s:n.s,rid:n.recomwd_id,dealType:D.dealType,dealTinyUrl:D.dealTinyUrl,dealPrice:D.unitPrice,giftCardId:o&&o.id,giftCardMoney:o&&10*o.money,hongbaoMoney:0,balanceMoney:10*i.hbBalanceCanUseAmount,promoId:r&&r.id,promoMoney:r&&10*r.reductionAmount,totalMoney:10*i.totalPrice,money:10*i.payAmount,count:A.getTotal(),rand:Date.now()};if(A.hasOptions()){var a=P.nums,c={};D.dealOptions.forEach(function(t,e){c[t.dealOptionId]=a[e]}),s.dealOptions=JSON.stringify(c)}T.isYizhifu()&&v.extend(s,{partnerUserInfo:E.user.getProduct(),orderSource:"TIANYI_PAY"});var l=w.parse();v.extend(s,l),A.fire("submit");var u=b.create("生成订单中..."),h=function(t){u.hide(),b.create(t||"抱歉，未下单成功，请重新下单"),A.fire("submit-fail")};C.ajax({url:"/webapp/pay/submit",type:"post",data:s,dataType:"json",success:function(e){if(D&&D.decoVersion){var n="";e&&e.data&&e.data.orderId&&(n=e.data.orderId),k.send({actionID:"submit_trade_order",mon:"order_id="+n+"&version="+D.decoVersion})}if(e)if(0===e.errno)u.hide(),f(),history.replaceState({pageBack:location.href},"pageBack",location.href),t.isYizhifu?A.fire("payYizhifu",e.data,h):t.popOnoff?A.fire("popSuccess",e.data,h):A.fire("popFail",e.data,h);else{if(1===e.errno)return void(e.data.payInfo?b.create("翼支付不支持秒杀"):A.seckill(e.data));if(e.errno)return void h(e.data&&e.data.msg);h()}else h()},error:function(){h()}})},seckill:function(t){var e,n=0,i=[],o=!1,r=function(){o=!0,e=clearInterval(e)},s=function(t){b.create(t||"抱歉，未下单成功，请重新下单"),A.fire("submit-fail")};e=setInterval(function(){i.push(C.ajax({type:"get",url:t.checkUrl,dataType:"jsonp",jsonp:"callback",success:function(t){return o?void 0:(r(),t.data.payUrl?void self.fire("pay",t.data,function(t){return t?void s(t):void self.fire("submit-succeed")}):void(1===parseInt(t.data.status,10)&&s()))},error:function(){o||(r(),s())}})),++n>=t.times&&r()},t.interval)},voucherLineDesc:function(){var t=A.info.giftCardList,e=A.info.selectedGiftCard,n=A.info.selectedActivity;return t.length?a(t)?e?"- ¥ "+A.info.giftCardReduceAmount/100:n?c(n.composFlag)?"未使用":"与优惠活动不可同时使用":"未使用":"暂无可用":!1},privilegeLineDesc:function(){var t=A.info.activityList,e=A.info.selectedGiftCard,n=A.info.selectedActivity;return t.length?s()?n?"- ¥ "+A.info.activityReduceAmount/100:e?l(e.composVoucherType)?"未使用":"与优惠券不可同时使⽤":"未使用":"暂无可用":!1},hasOptions:function(){return D.dealOptions&&D.dealOptions.length||0},getTotal:function(t){var e=t?v.extend(P,t,!0):P,n=A.hasOptions();return n?e.nums.slice(0,n).reduce(function(t,e){return(t||0)+(e||0)}):e.nums[0]||0},validate:function(t){var e=t?v.extend(P,t,!0):P,n=D,i=e.nums;if(A.hasOptions())for(var o,r,s=n.dealOptions,a=0,c=s.length;c>a;a++){if(o=i[a]||0,r=s[a],0>o)throw new S("optionMin",{index:a});if(o>0&&o>r.buyLimit-r.saleCount)throw new S("optionMax",{index:a})}var l=A.getTotal(t);if(l>n.max)throw new S("max");if(l<n.min)throw new S("min")},check:function(t){try{A.validate(t)}catch(e){return e}return null}},_=null;y.mixTo(A),i.exports=A}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},989:function(t,e,n){var i;i=function(t,e,i){var o=n(51),r=n(97),s=n(53),a=n(273),c=n(988),l=function(t,e,n){for(var i;e>t+2;){i=Math.round((t+e)/2);var o=n(i);if(0===o)return i;o>0&&(e=i),0>o&&(t=i)}return t+1},u=function(t,e,n){var i=n[e];n[e]=t;var o=c.check({nums:n});return n[e]=i,o},h=function(t,e,n){var i=u(t,e,n);return i&&("max"===i.name||"optionMax"===i.name&&i.index===e)},d=function(t,e,n){var i=u(t,e,n);return i&&("min"===i.name||"optionMin"===i.name&&i.index===e)},p=function(t,e,n,i){var s=o.cachable(function(t){return h(t,e,n)}),a=o.cachable(function(t){return d(t,e,n)}),u=c.get("nums")[e],p=!c.check(),f=p?u+1:Math.pow(2,20),m=p?u-1:-1,g=function(t){i||r.create(t)};if(isNaN(t))return g("请输入合法的数目"),l(-1,f,function(t){return a(t)?-1:a(t-1)?0:1});if(s(t)){var v=l(m,t,function(t){return s(t)?1:s(t+1)?0:-1});return g("最多购买"+v+"件"),v}if(a(t)){var y=l(t,f,function(t){return a(t)?-1:a(t-1)?0:1});return g("最少购买"+y+"件"),y}return t},f=function(t,e){var n=[];t.each(function(t,e){e=$(e);var i=parseInt(e.attr("data-index"),10);n[i]=a.init(e)});var i,o=function(){return n.map(function(t){return t?t.val():0})},r=function(){var t=c.get("nums");n.forEach(function(e,n){e&&e.val(t[n])})},l=function(){var t=o();n.forEach(function(e,n){var i=!h(t[n]+1,n,t);e[i?"enable":"disable"]("plus");var o=!d(t[n]-1,n,t);e[o?"enable":"disable"]("minus")})};return n.forEach(function(t,n){t&&t.on("changed",function(r,a){a&&s.send("area=quantity&element="+r);var u=p(r,n,o(),!a);u!==r&&(t.val(u),clearTimeout(i),i=setTimeout(function(){i=null},300)),l(),e&&c.set({nums:o()})})}),c.on("update-calculate",r),r(),l(),{val:o,update:r,isCorrecting:function(){return!!i}}};i.exports={init:f}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},990:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";if(o+="\n",t.isWuliu)o+='\n\n<div class="good-info-block wuliu">\n<div class="good-line" data-role="good-line">\n<h5 class="line-title">\n<p class="good-title">',n=t.dealTitle,null!=n&&(o+=e(n)),o+='</p>\n<p class="good-price"><strong>￥ ',n=t.unitPrice/1e3,null!=n&&(o+=e(n)),o+='</strong></p>\n</h5>\n<p class="line-content">\n<span data-role="num"></span>件<i class="arrow-right"></i>\n</p>\n</div>\n<div class="delivery-line">\n<h5 class="line-title">邮费</h5>\n<p class="line-content">&yen;<span data-role="delivery">计算中...</span></p>\n</div>\n<div class="money-line">\n<h5 class="line-title">总价</h5>\n<p class="line-content">&yen;<span data-role="price">计算中...</span></p>\n</div>\n</div>\n';else{if(o+='\n\n<div class="good-info-block normal">\n<div class="good-line">\n<h5 class="line-title">',n=t.dealTitle,null!=n&&(o+=e(n)),o+='</h5>\n<p class="line-content">￥',n=t.unitPrice/1e3,null!=n&&(o+=e(n)),o+="</p>\n</div>\n\n",t.hasOptions){o+="\n";for(var r=t.dealOptions,s=0;s<r.length;s++){var a=r[s];o+="\n";var c=0==a.shortAge&&a.buyLimit>a.saleCount;o+='\n<div class="num-line">\n<h5 class="line-title">',n=a.tinyName,null!=n&&(o+=e(n)),o+="</h5>\n",c?(o+='\n<p class="line-content" data-role="num-input-wrapper" data-index="',null!=s&&(o+=e(s)),o+='">\n</p>\n'):o+='\n<p class="line-content">缺货中</p>\n',o+="\n</div>\n"}o+="\n\n"}else o+='\n<div class="num-line">\n<h5 class="line-title">数量',t.limitTip&&(o+='<span class="tip" data-role="num-tips">',n=t.limitTip,null!=n&&(o+=e(n)),o+="</span>"),o+='</h5>\n<p class="line-content" data-role="num-input-wrapper" data-index="0">\n</p>\n</div>\n';o+='\n<div class="money-line">\n<h5 class="line-title">小计</h5>\n<p class="line-content"><span data-role="price">计算中...</span></p>\n</div>\n</div>\n'}return o+="\n"}},991:function(t,e){t.exports=function(t){var e="";return e+='<div class="huoguoxingqiu-line">购买火锅星球一卡通，尊享火锅星人特权</div>'}},992:function(t,e,n){var i;i=function(t,e,i){n(993);var o=n(45),r=n(55),s=n(51),a=n(67),c=n(97),l=n(723),u=n(995),h=window.location,d=function(t,e){var n={wrapper:t,loginLink:t.find('[data-role="login-link"]'),loginFormWrapper:t.find('[data-role="login-form-wrapper"]'),submit:t.find('[data-role="submit"]')},i=a.create({orderData:""}),s=h.href.replace(h.search,"?"+i),u=n.loginLink.attr("href")+encodeURIComponent(s),d=function(t){t&&(h.href=u)};window.passport.use("smsLogin",{library:!1,defaultCss:!1},function(t){var i=t.passport.smsLogin,s=new i({product:"nuomi",u:h.origin+"/webapp/user/bindaccount?retype=stoken",connect:1,phone:"",staticPage:h.origin+"/static/v3Jump.html"});s.on("render",function(t){var i=n.loginForm=n.loginFormWrapper.find("form"),r=i.find("input.pass-text-input-mobilenum");if(r.attr("type","tel"),n.submit.removeAttr("disabled"),e.isDayuecheng&&e.phone){var a=s.getElement("mobilenum");a.readOnly=!0,a.value=e.phone||"",o("span.pass-clear").remove()}}),s.on("loginSuccess",function(t){r.set("light_login",1,{expires:20}),r.set("back_url",h.href)}),s.on("connectError",function(t){var e=t.rsp.errInfo,n=parseInt(e.no,10),i=t.rsp.data;if(0!==n){if(2===n){var o="您输入的购买手机号已有对应的账号，请使用该账号密码登陆<br/>";i.passUsername&&(o+="用户名："+i.passUsername+"<br/>"),i.passPhone&&(o+="手机号："+i.passPhone+"<br/>"),i.passEmail&&(o+="邮箱："+i.passEmail+"<br/>"),l.create({text:o,confirmText:"去登陆"},d)}else c.create(e.msg);t.returnValue=!1}}),s.render(n.loginFormWrapper[0])}),n.submit.on("click",function(){n.loginForm.submit()}),n.loginLink.attr("href",u)};e.init=function(t,e){t=o(t),e=s.extend({},e),t.html(u(e)),d(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},993:function(t,e){},995:function(t,e){t.exports=function(t){var e="";e+="\n";var n=t.isDayuecheng;return e+='\n<div class="login-block">\n<p class="login-tip">\n免登录直接购买&nbsp;',n||(e+='或<a class="login-link" data-role="login-link" href="https://gss0.bdstatic.com/webapp/user/login?sms=0&backUrl=">登录</a>，登录后可以获取最新优惠'),e+='\n</p>\n<div data-role="login-form-wrapper"></div>\n<section class="login-submit-block">\n<button class="ns-track submit-btn" data-role="submit" disabled mon="area=subBtn">确定</button>\n</section>\n</div>\n'}},997:function(t,e){},1e3:function(t,e,n){var i;i=function(t,e,i){var o=n(51),r=n(1001),s=n(97),a=function(t){t.useConditions=(t.useCondition||"").split(/\<br\/?\>/g);var e=parseInt(t.status,10);return t.statusText=["未使用","已使用","已过期"][e-1],t.usable=parseInt(t.fitWap,10)&&1===e,t.endTimeText=o.formatDate("$Y-$M-$d $H:$m:$s",1e3*parseInt(t.endTime,10)),t},c=function(t,e){t=o.extend({content:"成功添加优惠券！"},t||{}),e=e||function(){};var n=r.create({theme:"pretty",text:"添加优惠券",placeholder:"输入优惠券密码",highlightConfirm:!1,autoDestroy:!1},function(i){return null===i?void e():i?($.ajax({url:"/webapp/user/GcardExchange",type:"post",data:{code:i},dataType:"json",success:function(e){return e.errno?(s.create(e.msg),void n.input.focus()):(s.create(t.content),void window.location.reload())},error:function(){s.create("出错了"),n.input.focus()}}),!1):(s.create("请输入优惠券密码"),n.input.focus(),!1)});return n};i.exports={transform:a,add:c}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1001:function(t,e,n){var i;i=function(t,e,i){n(1002);var o=n(45),r=n(51),s=n(100),a=n(1004);e.create=function(t,e){t="string"==typeof t?{text:t}:t,e=e||r.doNothing,t=r.extend({theme:"normal",text:"",cancelText:"取消",confirmText:"确定",placeholder:"",highlightConfirm:!0,autoCenter:!0,mask:!0,hideOnTouchMask:!1},t);var n=o(a(t)),i=s.create(r.extend(t,{content:n,autoCenter:!0})),c=i.input=i.dom.find('[data-role="input"]'),l=i.cleaner=i.dom.find('[data-role="clear-input"]'),u=function(t){t.preventDefault(),c.blur(),setTimeout(function(){e(null),i.hide()},300)};i.dom.on("click",'[data-role="cancel-btn"]',u),i.mask.on("touchstart",u);var h=function(t){t.preventDefault()};i.dom.on("touchmove",h);var d=function(){c.blur();var t=e(c.val());t!==!1&&i.hide()};return c.on("input",function(){l[c.val()?"show":"hide"]()}),l.on("tap",function(){c.val("").focus(),l.hide()}),c.on("keypress",function(t){13===t.which&&d()}),i.dom.on("click",'[data-role="prompt-btn"]',d),i}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1002:function(t,e){},1004:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";return o+='\n<div class="nuomi-prompt theme-',n=t.theme,null!=n&&(o+=e(n)),o+='">\n<p class="text-content">\n',n=t.text,null!=n&&(o+=n),o+='\n</p>\n<p class="input-line">\n<input class="input" data-role="input" type="text" placeholder="',n=t.placeholder,null!=n&&(o+=e(n)),o+='" autocapitalize="off" autocorrect="off">\n<i class="clear-input" data-role="clear-input"></i>\n</p>\n<p class="footer-content">\n<a class="cancel-btn" href="javascript:;" data-role="cancel-btn">',n=t.cancelText,null!=n&&(o+=n),o+='</a>\n<a class="prompt-btn',t.highlightConfirm&&(o+=" highlight-btn"),o+='" href="javascript:;" data-role="prompt-btn">',n=t.confirmText,null!=n&&(o+=n),o+="</a>\n</p>\n</div>"}},1005:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(51),s=n(56),a={checked:null,init:function(t,e){this.options=e,this.list=e.list||[],this.doms={wrapper:t};var n=this;return t.on("tap",e.itemSelector,function(t){var i=o(this).attr(e.idAttr);return i!==n.checked?void n.active(i,!0):void(e.togglable&&n.active(-1,!0))}),this},render:function(t){var e=this.options,n=this.doms;n.wrapper.html(e.render({list:t})),this.list=t},val:function(){if(null===this.checked)return null;for(var t=0,e=this.list,n=this.checked+"",i=this.list.length;i>t;t++)if(e[t].id+""===n)return e[t];return null},active:function(t,e){t+="";var n=this.options,i=this.doms,o=this.list.filter(function(e){return e.id+""===t})[0];if(o&&!o.disabled){var r=i.wrapper.find(n.itemSelector);r.find(n.radioSelector).removeClass("checked"),this.checked=null;var s=r.filter("["+n.idAttr+'="'+t+'"]');s.find(n.radioSelector).addClass("checked"),this.checked=t,this.fire("change",e)}}};s.mixTo(a),e.init=function(t,e){return t=o(t),e=r.extend({render:null,itemSelector:'[data-role="radio-item"]',radioSelector:'[data-role="radio"]',idAttr:"data-radio-id",togglable:!1},e),Object.create(a).init(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1009:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";o+='\n<ul class="voucher-option-list">\n';for(var r=t.list,s=0;s<r.length;s++){var a=r[s];if(o+="\n",a.id>-1){o+='\n<li class="voucher-item ',1==a.isValidGiftCard&&(o+="availabel"),o+='" data-type="',n=a.composVoucherType,null!=n&&(o+=e(n)),o+='" data-role="radio-item" data-radio-id="',n=a.id,null!=n&&(o+=e(n)),o+='">\n<div class="voucher-top">\n<p class="voucher-amount">￥<span class="amount-num">',n=a.money/100,null!=n&&(o+=e(n)),o+='</span></p>\n<p class="voucher-name">',n=a.name,null!=n&&(o+=e(n)),o+="</p>\n",1==a.isValidGiftCard&&(o+='\n<span class="radio-content">\n<i class="radio-select" data-role="radio"></i>\n</span>\n'),o+='\n</div>\n<div class="voucher-bottom">\n<p class="voucher-deadline">',n=a.startTime,null!=n&&(o+=e(n)),o+=" 至 ",n=a.expireTime,null!=n&&(o+=e(n)),o+=" 可用</p>\n";for(var c=a.rule,l=0;l<c.length;l++){var u=c[l];o+='\n<p class="voucher-deadline" data-role="rule" data-index="',null!=l&&(o+=e(l)),o+='">',null!=u&&(o+=e(u)),o+="</p>\n"}o+="\n",a.rule.length>1&&(o+='\n<span class="arrow-wapper" data-role="show-rule">\n<i class="arrow arrow-down"></i>\n</span>\n'),o+="\n</div>\n</li>\n"}o+="\n"}return o+="\n</ul>"}},1019:function(t,e,n){var i;i=function(t,e,i){n(1020);var o=n(45),r=n(988),s=n(51),a=n(1022),c=n(53),l=(n(282),n(74),n(1023)),u=n(1030),h=function(t){[t.privilege,t.money,t.voucher].forEach(function(t){t.loading.hide(),t.content.show()});var e=r.voucherLineDesc(),n=r.privilegeLineDesc();e?"-"===e[0]?t.voucher.desc.removeClass("gray-color").text(e):t.voucher.desc.addClass("gray-color").text(e):t.voucher.line.hide(),n?"-"===n[0]?t.privilege.desc.removeClass("gray-color").text(n):t.privilege.desc.addClass("gray-color").text(n):t.privilege.line.hide(),t.money.price.text((r.info.totalAmount-r.info.discountTotalReduceAmount)/100)},d=function(t,e){var n=t.find('[data-role="privilege-line"]'),i=t.find('[data-role="voucher-line"]'),o=t.find('[data-role="money-line"]'),s={wrapper:t,privilege:{line:n,tip:n.find('[data-role="tip"]'),loading:n.find('[data-role="loading"]'),content:n.find('[data-role="content"]'),desc:n.find('[data-role="desc"]')},voucher:{line:i,tip:i.find('[data-role="tip"]'),loading:i.find('[data-role="loading"]'),content:i.find('[data-role="content"]'),desc:i.find('[data-role="desc"]')},money:{line:o,loading:o.find('[data-role="loading"]'),content:o.find('[data-role="content"]'),price:o.find('[data-role="price"]')}};r.on("before-update",function(){[s.privilege,s.voucher,s.money].forEach(function(t){t.content.hide(),t.loading.show()})}),r.on("update-calculate",h.bind(null,s)),s.privilege.line.on("click",function(){c.send("area=specialoffers&element=zhankai"),l.show()}),s.voucher.line.on("click",function(){c.send("area=specialoffers&element=zhankai"),u.show()}),h(s)};e.init=function(t,e){t=o(t),e=s.extend({},e),t.html(a(e)),d(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1020:function(t,e){},1022:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="privilege-info-block">\n<div class="privilege-line" data-role="privilege-line">\n<h5 class="line-title">\n优惠活动\n<p class="tip" data-role="tip"></p>\n</h5>\n<p class="line-content" data-role="loading" style="display:none;">计算中...</p>\n<p class="line-content" data-role="content">\n<span data-role="desc">&nbsp;</span><i class="arrow-right"></i>\n</p>\n</div>\n<div class="privilege-line" data-role="voucher-line">\n<h5 class="line-title">\n优惠券\n<p class="tip" data-role="tip"></p>\n</h5>\n<p class="line-content" data-role="loading" style="display:none;">计算中...</p>\n<p class="line-content" data-role="content">\n<span data-role="desc">&nbsp;</span><i class="arrow-right"></i>\n</p>\n</div>\n<div class="money-line" data-role="money-line">\n<h5 class="line-title">订单总价</h5>\n<p class="line-content" data-role="loading" style="display:none;">计算中...</p>\n<p class="line-content pay-num" data-role="content">\n&yen; <span data-role="price"></span>\n</p>\n</div>\n</div>\n'}},1023:function(t,e,n){var i;i=function(t,e,i){function o(t){for(var e=[],n=0,i=t.length;i>n;n++)e[n]=Object.create(null),e[n].id=t[n].id,e[n].title=t[n].activityText.title,e[n].text=t[n].activityText.text,e[n].rule=t[n].activityText.rule||[],e[n].startTime=c.formatDate("$Y-$M-$d $H:$m",1e3*t[n].activityTime.startTime),e[n].endTime=c.formatDate("$Y-$M-$d $H:$m",1e3*t[n].activityTime.endTime);return e}n(997),n(1024);var r=n(45),s=n(103),a=n(104),c=n(51),l=n(53),u=n(1005),h=n(988),d={wrapper:n(1028),privilegeOption:n(1029)},p=r(document.body);i.exports=c.extend(new a(function(){this.wrapper.show(),window.scrollTo(0,0);var t=this.scroller;setTimeout(function(){t.refresh()},0)},function(){this.wrapper.hide()}),{init:function(t){t=this.options=c.extend({},t);var e=this.wrapper=r(d.wrapper()),n=this.doms={wrapper:e,privilegeList:e.find('[data-role="privilege-list-content"]'),close:e.find('[data-role="close-btn"]'),rules:e.find('[data-role="rule"]')},i=this.privilegeList=u.init(n.privilegeList,{render:d.privilegeOption,togglable:!0});i.on("change",this.onChoice.bind(this));var o=this;h.on("update-calculate",function(){o.initOpitons()}),n.close.on("tap",function(){o.val()!==h.get("privilege")&&h.set({privilege:o.val()}),o.hide()}),r(window).on("resize",function(){e.css("height",window.innerHeight+"px"),o.showing&&window.scrollTo(0,0)}),p.append(e),this.on("show",this.refresh.bind(this)),this.initOpitons(),this.refresh(),this.scroller=new s(e[0],{scrollY:!0,scrollX:!1,mouseWheel:!0})},val:function(){var t=this.privilegeList.val();return t&&t.id},initOpitons:function(){this.destroy();var t=(this.doms,o(h.info.activityList));t.push({id:-1}),this.privilegeList.render(t);var e=h.info.selectedActivity;this.privilegeList.active(e?e.id:-1);var n=this.wrapper.find(".privilege-item");n.forEach(function(t,e){for(var n=r(t).find('[data-role="show-rule"]'),i=n.find(".arrow"),o=r(t).find('[data-role="rule"]'),s=[],a=1,c=o.length;c>a;a++)s.push(o[a]);s.length&&s.forEach(function(t){r(t).hide()}),n.on("tap",function(t){t.stopPropagation(),i.hasClass("arrow-down")?i.removeClass("arrow-down").addClass("arrow-up"):i.removeClass("arrow-up").addClass("arrow-down"),s.forEach(function(t){r(t).toggle()})})})},destroy:function(){var t=this.wrapper.find(".privilege-item");t.forEach(function(t){var e=r(t).find('[data-role="show-rule"]');e.off("tap")})},refresh:function(){this.privilegeList.active(h.get("privilege"))},onChoice:function(t,e){var n=this.val();e&&l.send("area="+t+"&element="+n)}})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1024:function(t,e){},1028:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="privilege-voucher-list-block">\n<div class="list-block-content">\n<h3 class="list-title">\n<a class="back-link" data-role="close-btn" href="javascript:;"><i class="back"></i></a>\n优惠活动\n</h3>\n<div class="privilege-list" data-role="privilege-list-content"></div>\n</div>\n</div>\n'}},1029:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";o+='\n<ul class="privilege-option-list">\n';for(var r=t.list,s=0;s<r.length;s++){var a=r[s];if(o+="\n",a.id>-1){o+='\n<li class="privilege-item availabel" data-role="radio-item" data-radio-id="',n=a.id,null!=n&&(o+=e(n)),o+='">\n<div class="privilege-top">\n<p class="privilege-amount">',n=a.title,null!=n&&(o+=e(n)),o+='</p>\n<p class="privilege-name">',n=a.text,null!=n&&(o+=e(n)),o+='</p>\n<span class="radio-content">\n<i class="radio-select" data-role="radio"></i>\n</span>\n</div>\n<div class="privilege-bottom">\n<p class="privilege-deadline">',n=a.startTime,null!=n&&(o+=e(n)),o+=" 至 ",n=a.endTime,null!=n&&(o+=e(n)),o+=" 可用</p>\n";for(var c=a.rule,l=0;l<c.length;l++){var u=c[l];o+='\n<p class="privilege-deadline" data-role="rule" data-index="',null!=l&&(o+=e(l)),o+='">',null!=u&&(o+=e(u)),o+="</p>\n"}o+="\n",a.rule.length>1&&(o+='\n<span class="arrow-wapper" data-role="show-rule">\n<i class="arrow arrow-down"></i>\n</span>\n'),o+="\n</div>\n</li>\n"}o+="\n"}return o+="\n</ul>"}},1030:function(t,e,n){var i;i=function(t,e,i){n(1031);var o=n(45),r=n(103),s=n(104),a=n(51),c=n(53),l=n(1005),u=n(988),h=n(1e3),d={wrapper:n(1035),voucherOption:n(1009)},p=o(document.body);i.exports=a.extend(new s(function(){this.wrapper.show(),window.scrollTo(0,0);var t=this.scroller;setTimeout(function(){t.refresh()},0)},function(){this.wrapper.hide()}),{init:function(t){t=this.options=a.extend({},t);var e=this.wrapper=o(d.wrapper()),n=this.doms={wrapper:e,voucherList:e.find('[data-role="voucher-list-content"]'),close:e.find('[data-role="close-btn"]'),canPlus:e.find('[data-role="option-plus"]'),cantPlus:e.find('[data-role="option-noplus"]'),addVoucherBtn:e.find('[data-role="add-voucher"]'),noPlusList:e.find('[data-type="2"]'),plusList:e.find('[data-type="1"]'),tip:e.find('[data-role="voucher-tip"]'),mask:e.find('[data-role="mask"]')},i=this.voucherList=l.init(n.voucherList,{render:d.voucherOption,togglable:!0});i.on("change",this.onChoice.bind(this));var s=this;n.mask.hide(),n.mask.find('[data-role="mask-cancle"]').on("tap",function(){s.voucherList.active(u.get("voucher")),n.mask.hide()}),n.mask.find('[data-role="mask-yes"]').on("tap",function(){n.mask.hide()}),n.canPlus.on("tap",function(){n.cantPlus.find("span").removeClass("active"),n.canPlus.find("span").addClass("active"),n.noPlusList.hide(),n.plusList.show(),n.tip.text("与其他优惠活动可叠加使用")}),n.cantPlus.on("tap",function(){n.canPlus.find("span").removeClass("active"),n.cantPlus.find("span").addClass("active"),n.plusList.hide(),n.noPlusList.show(),n.tip.text("与其他优惠活动不可叠加使用")}),u.on("update-calculate",function(){s.initOptions()}),n.close.on("tap",function(){s.val()!==u.get("voucher")&&u.set({voucher:s.val()}),s.hide()}),o(window).on("resize",function(){e.css("height",window.innerHeight+"px"),s.showing&&window.scrollTo(0,0)}),p.append(e),this.on("show",this.refresh.bind(this)),this.initOptions(),this.scroller=new r(e[0],{scrollY:!0,scrollX:!1,mouseWheel:!0});var c;n.addVoucherBtn.on("tap",function(){c||(c=h.add({content:"成功添加优惠券！所有优惠券请到我的糯米-我的优惠券中查看"},function(){o(window).trigger("resize")})),c.input.val("").trigger("input").blur(),c.show()})},val:function(){var t=this.voucherList.val();return t&&t.id},initOptions:function(){this.destroy();var t=this.doms,e=u.info.giftCardList.slice();e.forEach(function(t,e){t.startTime=a.formatDate("$Y-$M-$d $H:$m",+t.startTime),t.expireTime=a.formatDate("$Y-$M-$d $H:$m",+t.expireTime),t.rule=t.descript.split("<br>")}),e.push({id:-1}),this.voucherList.render(e),t.noPlusList=this.wrapper.find('[data-type="2"]').hide(),t.plusList=this.wrapper.find('[data-type="1"]').hide(),t.canPlus.find("span").text("可叠加券("+t.plusList.length+")"),t.cantPlus.find("span").text("非叠加券("+t.noPlusList.length+")"),this.voucherList.active(u.get("voucher"));var n=u.info.selectedGiftCard;n&&"2"===n.composVoucherType||!t.plusList.length?(t.canPlus.find("span").removeClass("active"),t.cantPlus.find("span").addClass("active"),t.plusList.hide(),t.noPlusList.show(),t.tip.text("与其他优惠活动不可叠加使用")):(t.cantPlus.find("span").removeClass("active"),t.canPlus.find("span").addClass("active"),t.noPlusList.hide(),t.plusList.show(),t.tip.text("与其他优惠活动可叠加使用"));var i=this.wrapper.find(".voucher-item");i.forEach(function(t,e){for(var n=o(t).find('[data-role="show-rule"]'),i=n.find(".arrow"),r=o(t).find('[data-role="rule"]'),s=[],a=1,c=r.length;c>a;a++)s.push(r[a]);s.length&&s.forEach(function(t){o(t).hide()}),n.on("tap",function(t){t.stopPropagation(),i.hasClass("arrow-down")?i.removeClass("arrow-down").addClass("arrow-up"):i.removeClass("arrow-up").addClass("arrow-down"),s.forEach(function(t){o(t).toggle()})})})},refresh:function(){this.voucherList.active(u.get("voucher"));var t=u.info.selectedGiftCard,e=this.doms;t&&"2"===t.composVoucherType||!e.plusList.length?(e.canPlus.find("span").removeClass("active"),e.cantPlus.find("span").addClass("active"),e.plusList.hide(),e.noPlusList.show(),e.tip.text("与其他优惠活动不可叠加使用")):(e.cantPlus.find("span").removeClass("active"),e.canPlus.find("span").addClass("active"),e.noPlusList.hide(),e.plusList.show(),e.tip.text("与其他优惠活动可叠加使用"))},destroy:function(){var t=this.wrapper.find(".privilege-item");t.forEach(function(t){var e=o(t).find('[data-role="show-rule"]');e.off("tap")})},onChoice:function(t,e){var n=this.val();if(t){var i=this.voucherList.val(),o=u.info.selectedActivity,r=o?o.composFlag:"3";if("2"===i.composVoucherType&&"1"===r){var s=o.reductionAmount-i.money;s>0&&(this.doms.mask.find('[data-role="mask-price"]').text("少减"+s/100+"元"),this.doms.mask.show())}}e&&c.send("area="+t+"&element="+n)}})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1031:function(t,e){},1035:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="privilege-voucher-list-block">\n<div class="list-block-content">\n<h3 class="list-title">\n<a class="back-link" data-role="close-btn" href="javascript:;"><i class="back"></i></a>\n优惠券\n</h3>\n<div class="voucher-toggle">\n<div class="voucher-toggle-option" data-role="option-plus">\n<span class="active">可叠加券</span>\n</div><div class="voucher-toggle-option" data-role="option-noplus">\n<span>非叠加券</span>\n</div>\n</div>\n<p class="voucher-tip" data-role="voucher-tip"></p>\n<div class="voucher-list" data-role="voucher-list-content"></div>\n<div class="add-voucher">\n<a href="javascript:;" data-role="add-voucher">我有优惠券，立即添加？</a>\n</div>\n</div>\n<div class="list-mask" data-role="mask">\n<div class="list-mask-tip">\n<div class="list-mask-tip-top">\n该券比优惠活动<span class="list-mask-tip-price" data-role="mask-price"></span>哦\n<p class="list-mask-tip-text">非叠加券不能与优惠活动同时使用</p>\n</div>\n<div class="list-mask-tip-bottom">\n<span data-role="mask-cancle">那取消吧</span><span data-role="mask-yes">任性使用</span>\n</div>\n</div>\n</div>\n</div>\n'}},1036:function(t,e,n){var i;i=function(t,e,i){n(1037);var o=n(45),r=n(1039),s=n(51);e.init=function(t,e){t=o(t),e=e||{},e.bindMobile&&(e.bindMobile=s.protect("phone",e.bindMobile)),t.html(r(e));var n=t.find('[data-role="phone-link"]');n.attr("href",n.attr("href")+encodeURIComponent(location.href))}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1037:function(t,e){},1039:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";return o+='\n<div class="user-info-block">\n<div class="phone-line">\n<a data-role="phone-link" href="https://gss0.bdstatic.com/webapp/user/bindmobile?backUrl=">\n',t.bindMobile?(o+='\n<h5 class="line-title">已绑定手机</h5>\n<p class="line-content">',n=t.bindMobile,null!=n&&(o+=e(n)),o+='<i class="arrow-right"></i></p>\n'):o+='\n<h5 class="line-title">绑定手机号码</h5>\n<p class="line-content">&nbsp;<i class="arrow-right"></i></p>\n',o+="\n</a>\n</div>\n</div>\n"}},1041:function(t,e,n){var i;i=function(t,e,i){var o=n(45),r=n(51),s={},a={width:window.innerWidth,height:window.innerHeight},c=function(t){(t||[]).forEach(function(t){t()})},l=function(){var t={width:window.innerWidth,height:window.innerHeight},e=t.width-a.width,n=t.height-a.height;a=t,0===e&&(0>n&&c(s.show),n>0&&c(s.hide))},u=function(t){"focus"===t&&c(s.show),"blur"===t&&c(s.hide)},h=function(t,e){(s[t]=s[t]||[]).push(e)},d=function(t,e){var n=[];(s[t]||[]).forEach(function(t){t!==e&&n.push(t)}),s[t]=n};o(window).on("resize",l),(r.isSystem("IOS")||r.isSystem("Android")&&r.isBrowser("UC")||r.isSystem("Android")&&r.isBrowser("QQ")||r.isSystem("Android")&&r.isBrowser("LieBao"))&&o(document.body).on("focus blur","input",function(t){var e=o(this),n=e.attr("type");(!n||["text","password","number","date","tel"].indexOf(n)>=0)&&u(t.type)}),i.exports={add:h,remove:d}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1152:function(t,e){},1154:function(t,e,n){var i;i=function(t,e,i){n(1155);var o=n(45),r=n(1157);e.init=function(t,e){if(t=o(t),t.length&&e&&1===parseInt(e.clchannel,10)){var n="",i="",s="",a="",c="",l="";if(1===parseInt(e.subtype,10))s="01 AA付款",n="02 约人聚会",a="03 聚完返现",c="current",l="todo";else if(2===parseInt(e.subtype,10))s="01 接受邀请",n="02 AA付款",a="03 聚完返现",c="",l="current";else if(4===parseInt(e.subtype,10))s="01 我来买单",
n="02 约人聚会",a="03 聚完返现",c="current",l="todo";else if(1!==parseInt(e.subtype,10)&&2!==parseInt(e.subtype,10)&&4!==parseInt(e.subtype,10))return void t.hide();e.steps=[{text:s,status:c},{text:n,status:l},{text:a,status:"todo"}],e.warning=i,t.html(r(e))}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1155:function(t,e){},1157:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";o+='\n<div class="juyouhui-info">\n<!--     <div class="jyh-placeholder"></div> -->\n<ul class="jyh-progress" style="background-color: #f3f6f5;margin-bottom: -8px;">\n';for(var r=t.steps,s=0;s<r.length;s++){var a=r[s];o+='\n<li class="jyh-step-done ',a.status&&(o+="jyh-step-",n=a.status,null!=n&&(o+=e(n))),o+='" style="width:',n=crox.helpers.number_format(100/t.steps.length,2),null!=n&&(o+=e(n)),o+='%">\n<span>',n=a.text,null!=n&&(o+=e(n)),o+="</span>\n</li>\n"}return o+="\n</ul>\n</div>\n"}},1158:function(t,e,n){var i;i=function(t,e,i){n(1159);var o=n(45),r=n(988),s=n(51),a=n(1161),c=n(53),l=(n(282),n(74),function(t){[t.balance].forEach(function(t){t.loading.hide(),t.content.show()});var e={remaining:r.info.hbBalanceTotalAmount,available:r.info.hbBalanceCanUseAmount,limit:r.info.hbBalanceLimitAmount,allCanUse:r.info.hbBalanceAllCanUseAmount,inUse:r.get("useHbBalance")};e&&e.remaining?(t.balance.line.show(),t.balance.remaining.text(e.remaining/100),t.balance.available.text(e.allCanUse/100),e.inUse?t.balance.canuse.text("- ￥ "+e.available/100).show():t.balance.canuse.text("").hide(),t.balance.check[e.inUse?"addClass":"removeClass"]("checked")):t.balance.line.hide()}),u=function(t,e){var n=t.find('[data-role="balance-line"]'),i={wrapper:t,balance:{line:n,loading:n.find('[data-role="loading"]'),content:n.find('[data-role="content"]'),remaining:n.find('[data-role="remaining"]'),available:n.find('[data-role="available"]'),canuse:n.find('[data-role="canuse"]'),check:n.find('[data-role="check"]')}};r.on("before-update",function(){[i.balance].forEach(function(t){t.content.hide(),t.loading.show()})}),r.on("update-calculate",l.bind(null,i)),i.balance.line.on("click",function(){var t=!i.balance.check.hasClass("checked");r.set({useHbBalance:t}),c.send("area=balance&element="+t)}),l(i)};e.init=function(t,e){t=o(t),e=s.extend({},e),t.html(a(e)),u(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1159:function(t,e){},1161:function(t,e){t.exports=function(t){var e="";return e+='<div class="balance-info-block">\n<div class="balance-line" data-role="balance-line">\n<h5 class="line-title">余额<span class="tip">&yen;<span data-role="remaining"></span>，可用&yen;<span data-role="available"></span></span>\n</h5>\n<p class="line-content" data-role="loading" style="display:none;">计算中...</p>\n<p class="line-content" data-role="content">\n<span data-role="canuse"></span>&nbsp;<a class="check-btn" href="javascript:;" data-role="check"></a>\n</p>\n</div>\n</div>'}},1162:function(t,e,n){var i=n(45),o=n(51),r=n(1163),s=(n(1179),n(1180)),a=n(1186),c=!1,l=null,u=!1,h={casherType:2,openTimes:0,payChannelNums:0,defaultPayChannel:"",selectedPayChannel:"",isInitFolded:0,userUnFolded:0,useTime:0,agent:"wap"},d=function(t){var e=t;return a.isWeChat()&&(e=i.grep(e,function(t,e){return"BAIDU-SUPER-WECHAT-WISE"==t.pay_channel}),e[0].is_selected=1,e[0].is_fold=0),a.isAlipay()&&(e=i.grep(e,function(t,e){return"BAIDU-ALIPAY-WISE"==t.pay_channel}),e[0].is_selected=1,e[0].is_fold=0),e},p=function(t){if(!u){u=!0;var e=+new Date;t.onOrderCreate=!t.isOrderCreateByCashier&&t.onOrderCreate&&"function"==typeof t.onOrderCreate?t.onOrderCreate:o.doNothing,t.onFail=t.onFail&&"function"==typeof t.onFail?t.onFail:o.doNothing,t.onCancel=t.onCancel&&"function"==typeof t.onCancel?t.onCancel:o.doNothing,t.totalMoney>0?s.fetchGatewayList({orderAmount:t.totalMoney}).then(function(n){var i=d(n);i&&i.length>0?l=r.init({data:i,totalMoney:t.totalMoney},function(n){if("pay"===n.type){if(!t.isOrderCreateByCashier){var o=+new Date;v(i,n.payChannel,o-e),t.onOrderCreate(n.payChannel,JSON.stringify(h))}}else"close"===n.type&&(l=null,t.onCancel(),u=!1)}):(t.onFail({errno:-99998,errmsg:"收银台服务异常，请稍后重试"}),u=!1)})["catch"](function(e){e?t.onFail({errno:e.errno,errmsg:e.errmsg?e.errmsg:e.msg?e.msg:"系统异常"}):t.onFail({errno:1,errmsg:"系统异常"}),u=!1}):(t.onFail({errno:-99999,errmsg:"0元单无需调用收银台"}),u=!1)}},f=function(t){if(l){console.log(t),console.log("请求钱包接口"),t=encodeURIComponent(t);var e='type=wap&reqData={"payChannel":"'+l.getCurrentPayChannel()+'","token":0,"cbname":"lbscashier_jsonp_callback_2"}&from=&customerId=4&data='+t;if(c)var n="http://cp01-testing-wallet2014-04.cp01.baidu.com:8480/proxy/req/getpay?"+e;else var n="https://zhifu.baidu.com/proxy/req/getpay?"+e;console.log(n),i.ajax({type:"GET",url:n,dataType:"jsonp",jsonpCallback:"lbscashier_jsonp_callback_2",success:function(e){console.log("我要跳转"),console.log(e),e.data.payurl&&(window.location.href=e.data.payurl),t.onSuccess&&t.onSuccess()},error:function(e){console.log(e),t.onFail&&t.onFail()}}),setTimeout(function(){l.closeCashierPopup(),u=!1},0)}},m=function(){l&&(l.closeCashierPopup(),u=!1)},g=function(){l&&l.resetLoadingStatus()},v=function(t,e,n){h.openTimes+=1,h.payChannelNums=t.length,t.forEach(function(t,e){1===+t.is_fold&&(h.isInitFolded=1),1===+t.is_selected&&(h.defaultPayChannel=t.pay_channel)}),h.selectedPayChannel=e,h.userUnFolded=l.isMoreBtnClickByUser()?1:0,h.useTime=n};t.exports=window.nuomiCashier={callNuomiCashier:p,callStartPayWap:f,closeCashierPopup:m,resetLoadingStatus:g}},1163:function(t,e,n){n(1164);var i=n(45),o=n(51),r=n(1170),s=n(1171),a=n(53),c={pageData:{gatewayList:null,totalMoney:0,needFold:!1,hasPayItemSelected:!1,isLoadingStartPay:!1,isInitMianmi:!1},userRecords:{currentSelectPayChannel:"",isMoreBtnClickByUser:!1},wrapperClass:".cashier-popup-wrapper",callback:null,init:function(t,e){var n=this;t=o.extend({},t)||{},n.callback=e||o.doNothing,n.pageData.gatewayList=t.data||[],n.pageData.totalMoney=t.totalMoney||0,n._optionsPreprocess();var a=i(r(n.pageData));return n.popup=s.create(o.extend(t,{content:a,autoCenter:!0,zIndex:1500})),n.renderItemColor(),n._bindEvent(),n},_optionsPreprocess:function(){var t=this;t.pageData.needFold=t.pageData.hasPayItemSelected=t.pageData.isLoadingStartPay=t.pageData.isInitMianmi=!1,t.pageData.gatewayList.forEach(function(e,n){1===+e.is_fold&&(t.pageData.needFold=!0),1===+e.is_selected&&(t.pageData.hasPayItemSelected=!0,t.userRecords.currentSelectPayChannel=e.pay_channel,+e.free_pay>=t.pageData.totalMoney&&(t.pageData.isInitMianmi=!0))}),i("body").scrollTop(0)},_bindEvent:function(){var t=this;i(t.wrapperClass+" .more-btn").on("click",function(){t.pageData.needFold=!1,i(t.wrapperClass+" .pay-item").removeClass("fold"),i(this).off().remove(),t.userRecords.isMoreBtnClickByUser=!0}),i(t.wrapperClass+" .pay-item").on("click",t,t._payItemSelectHandler).on("tap",t,t._payItemSelectHandler),i(t.wrapperClass+" .pay-btn").on("click",function(e){return i(this).hasClass("disabled")?void i(t.wrapperClass+" .error-text").show():void(i(this).hasClass("loading")||t.isLoadingStartPay||(a.send("popcashier_pay_click"),t.isLoadingStartPay=!0,setTimeout(function(){t.isLoadingStartPay=!1},1500),t.callback&&(i(this).addClass("loading"),t.callback({type:"pay",payChannel:t.userRecords.currentSelectPayChannel}))))}),i(t.wrapperClass+" .close-btn").on("click",function(e){t.closeCashierPopup(),t.callback({type:"close"})})},_payItemSelectHandler:function(t){var e=t.data,n=i(t.currentTarget);n.hasClass("disabled")||n.hasClass("active")||(i(e.wrapperClass+" .pay-item").removeClass("active"),n.addClass("active"),i(e.wrapperClass+" .pay-btn").removeClass("disabled"),i(e.wrapperClass+" .error-text").hide(),""!==n.data("free-pay")&&+n.data("free-pay")>=e.pageData.totalMoney?i(e.wrapperClass+" .pay-btn .pre-text").html("免密支付"):i(e.wrapperClass+" .pay-btn .pre-text").html("确认支付"),e.userRecords.currentSelectPayChannel=n.data("pay-channel"))},isMoreBtnClickByUser:function(){return this.userRecords.isMoreBtnClickByUser},resetLoadingStatus:function(){i(this.wrapperClass+" .pay-btn").removeClass("loading")},closeCashierPopup:function(){i(this.wrapperClass).hide(),this.popup.hide()},getCurrentPayChannel:function(){return this.userRecords.currentSelectPayChannel},renderItemColor:function(){var t=this;i.each(t.pageData.gatewayList,function(e,n){if(""!==n.pay_text&&n.display_color&&"default"!==n.display_color){var o=i(t.wrapperClass+" .pay-item:nth-of-type("+(e+1)+") .pay-desc");o.css("color",n.display_color)}})}};t.exports=c},1164:function(t,e){},1170:function(t,e){t.exports=function(t){function e(t){return String(t).replace(/[<>&"]/g,function(t){return i[t]})}var n,i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},o="";o+='\n<div class="cashier-popup-wrapper">\n<div class="header">\n<h5 class="title">支付方式</h5>\n<!-- <p class="count-down">剩余支付时间29:52</p> -->\n<span class="close-btn"></span>\n</div>\n<ul class="pay-list">\n';for(var r=t.gatewayList,s=0;s<r.length;s++){var a=r[s];o+='\n<li class="pay-item ',0===s&&(o+="cashier-border-top"),o+=" cashier-border-bottom\n",1==a.is_fold&&(o+="fold"),o+="\n",1==a.is_selected&&(o+="active"),o+="\n",1!=a.enable&&(o+="disabled"),o+='"\ndata-pay-channel="',n=a.pay_channel,null!=n&&(o+=e(n)),o+='"\ndata-free-pay="',n=a.free_pay,null!=n&&(o+=e(n)),o+='"\ndata-index="',null!=s&&(o+=e(s)),o+='">\n<img class="pay-icon" src="',n=a.icon,null!=n&&(o+=e(n)),o+='">\n<div class="text-box">\n',""!=a.error_text||""!=a.pay_text?(o+='<p class="pay-name">',n=a.display_name,null!=n&&(o+=e(n)),o+="</p>"):(o+='<p class="pay-name pay-signle-line">',n=a.display_name,null!=n&&(o+=e(n)),o+="</p>"),o+='\n<p class="pay-desc">',""!=a.error_text?(n=a.error_text,null!=n&&(o+=e(n))):(n=a.pay_text,null!=n&&(o+=e(n))),o+='</p>\n</div>\n<span class="select-btn"></span>\n</li>\n'}return o+="\n</ul>\n",t.needFold&&(o+='\n<p class="more-btn">更多支付方式</p>\n'),o+='\n<p class="error-text">请选择支付方式</p>\n<div class="pay-btn-wrapper"><div class="pay-btn ',t.hasPayItemSelected||(o+="disabled"),o+='"><span class="pre-text">',o+=t.isInitMianmi?"免密支付":"确认支付",o+='</span>&nbsp;<span class="price-mark">&yen;</span>',n=t.totalMoney/100,null!=n&&(o+=e(n)),o+="</div></div>\n</div>"}},1171:function(t,e,n){var i;i=function(t,e,i){function o(t){t=s.extend({mask:!0,content:null,autoCenter:!1,autoDestroy:!0,hideOnTouchMask:!1,history:!1,show:!0,lazyRender:!1,zIndex:null},t),t.history=!(!t.history||!history.pushState),this.init(t)}n(1172);var r=n(45),s=n(51),a=n(104),c=n(1174),l=n(1178),u=r(document.body);s.inherits(o,a),o.prototype.init=function(t){this.opt=t,this.dom=r(t.content?t.content:l()),this.firstShow=!0,null!=t.zIndex&&this.dom.css("z-index",t.zIndex),t.mask&&(this.mask=c.create(s.extend({autoDestroy:t.autoDestroy,lazyRender:t.lazyRender,zIndex:null!=t.zIndex?t.zIndex-1+"":null},t.mask))),t.lazyRender||u.append(this.dom),this.bindEvent(),t.show&&this.show(),t.history&&(this.realHide=this.hide,this.hide=function(){this.showing&&history.back()})},o.prototype.bindEvent=function(){var t=this,e=this.opt;if(e.autoCenter){var n=function(){s.center(t.dom)};r(window).on("resize",n),this.on("show",n)}e.autoDestroy&&this.on("hide",function(){setTimeout(t.destroy.bind(t),1e3)}),e.hideOnTouchMask&&e.mask&&this.mask.on("touchstart",function(){t.hide()})},o.prototype._show=function(){var t=this.opt,e=this.firstShow;if(this.firstShow=!1,e&&t.lazyRender&&u.append(this.dom),t.mask&&this.mask.show(),this.dom.addClass("visible"),t.history){history.pushState({},t.history);var n=this,i=function(t){t.preventDefault(),n.realHide(),window.removeEventListener("popstate",i)};window.addEventListener("popstate",i,!1)}},o.prototype._hide=function(t){this.mask&&this.mask.hide(),this.dom.removeClass("visible")},o.prototype.destroy=function(){this.dom.remove(),this.fire("destroy")},o.create=function(t){return new o(t)},i.exports=o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1172:function(t,e){},1174:function(t,e,n){var i;i=function(t,e,i){function o(t){t=s.extend({autoDestroy:!0,lazyRender:!1,zIndex:null},t),this.init(t)}n(1175);var r=n(45),s=n(51),a=n(104),c=n(1177),l=r(document.body);s.inherits(o,a),o.prototype.init=function(t){this.opt=t,this.dom=r(c(t));var e=this;["touchstart","tap","click"].forEach(function(t){e.dom.on(t,function(n){e.fire(t,n)})}),null!=t.zIndex&&this.dom.css("z-index",t.zIndex),l.append(this.dom)},o.prototype._show=function(){this.dom.addClass("visible")},o.prototype._hide=function(){this.dom.removeClass("visible"),this.opt.autoDestroy&&setTimeout(this.destroy.bind(this),1e3)},o.prototype.destroy=function(){this.dom.remove(),this.fire("destroy")},o.create=function(t){return new o(t)},i.exports=o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1175:function(t,e){},1177:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="nuomi-mask"></div>'}},1178:function(t,e){t.exports=function(t){var e="";return e+='\n<div class="nuomi-popup">\n</div>'}},1179:function(t,e){var n,i,o,r,s,a,c,l,u="_pro_";"_DEV_"==u?(a=!1,r="bJMaa48ZjJ",s="3ea5e3b6d63487697afd5a46afa0cb31",a=!0,n="http://nj03-orp-app0650.nj03.baidu.com:8222/nop/server/rest/"):"_qa_"==u?(a=!0,r="webapp",s="b634d2221faa623b0c3d04db194f112f",n="http://cp01-nminst-devplat-e-2.epc.baidu.com:8360/nop/server/rest/"):"_pro_"==u&&(n="https://nop.nuomi.com/nop/server/rest/",r="1a9oN1TsLw",s="ee23dd7cc0bb46bd998e28d41524cd52",a=!0),i=/\/mock/.test(n),o=a?"nuomi.integration_cashier.gatewaylist":n+"gatewaylist",i&&(o+=".js"),t.exports={server:n,env:u,NOP_SWITCH:a,NOP_APPID:r,NOP_TOKEN:s,APPID:c,APPTOKEN:l,cashierGatewayList:o}},1180:function(t,e,n){var i=n(45),o=n(51),r=n(124).postDataWithAddParam,s=n(1179),a=n(1181),c=n(1183),l=n(1186),u=s.env,h={userId:"",deviceType:"WEBAPP",bduss:"",cuid:"",payEnv:0};window.BNJS&&window.BNJS._isAllReady?(h.userId=2250322249,h.bduss=BNJS.account.bduss,h.cuid=BNJS.env.cuid||""):(h.userId=2250322249,h.bduss="",h.cuid="");var d=function(t){return new c(function(e,n){i.ajax({url:"/webapp/bnjs/request",type:t.type,data:t.params,dataType:"json",success:function(t){t?e(t.data):n()},error:function(t){n(t)}})})},p=function(t){return new c(function(e,n){r("",t.url,t.params,function(t){e(t.data)},function(t){n(t)})})},f=function(t){var t=t;return l.isWeChat()&&(t.payEnv=1),l.isAlipay()&&(t.payEnv=2),t},m=function(t){"_DEV_"===u||(h.userId=2250322249),t=t||{};var e=o.extend(t,h),n=s.cashierGatewayList;if(console.log(n),e=f(e),s.NOP_SWITCH){n=s.server,e=o.extend({nop_appid:s.NOP_APPID,nop_method:s.cashierGatewayList,nop_timestamp:+new Date},e);var r=a.generateSign(e,s.NOP_TOKEN);return e.nop_sign=r,original=n+"?"+i.param(e),window.BNJS&&window.BNJS._isAllReady?p({url:n,params:e}):d({type:"POST",params:{original:original,type:"post"}})}return original=n+"?"+i.param(e),window.BNJS&&window.BNJS._isAllReady?p({url:n,params:e}):d({type:"POST",params:{original:original,type:"post"}})};t.exports.fetchGatewayList=m},1181:function(t,e,n){var i=n(1182),o={generateSign:function(t,e,n){var o=[],r="",s="";for(var a in t)o.push(a);o.sort();for(var c="",l=0;l!=o.length;++l)c=o[l]+"="+t[o[l]],r+=c,s+=c+"&";r+=e;var u=i(r);return n?s+="nop_sign="+u:u}};t.exports=o},1182:function(t,e){var n=function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,i,o,r,s;return o=2147483648&t,r=2147483648&e,n=1073741824&t,i=1073741824&e,s=(1073741823&t)+(1073741823&e),n&i?2147483648^s^o^r:n|i?1073741824&s?3221225472^s^o^r:1073741824^s^o^r:s^o^r}function i(t,e,n){return t&e|~t&n}function o(t,e,n){return t&n|e&~n}function r(t,e,n){return t^e^n}function s(t,e,n){return e^(t|~n)}function a(t,o,r,s,a,c,l){return t=n(t,n(n(i(o,r,s),a),l)),n(e(t,c),o)}function c(t,i,r,s,a,c,l){return t=n(t,n(n(o(i,r,s),a),l)),n(e(t,c),i)}function l(t,i,o,s,a,c,l){return t=n(t,n(n(r(i,o,s),a),l)),n(e(t,c),i)}function u(t,i,o,r,a,c,l){return t=n(t,n(n(s(i,o,r),a),l)),n(e(t,c),i)}function h(t){for(var e,n=t.length,i=n+8,o=(i-i%64)/64,r=16*(o+1),s=Array(r-1),a=0,c=0;n>c;)e=(c-c%4)/4,a=c%4*8,s[e]=s[e]|t.charCodeAt(c)<<a,c++;return e=(c-c%4)/4,a=c%4*8,s[e]=s[e]|128<<a,s[r-2]=n<<3,s[r-1]=n>>>29,s}function d(t){var e,n,i="",o="";for(n=0;3>=n;n++)e=t>>>8*n&255,o="0"+e.toString(16),i+=o.substr(o.length-2,2);return i}function p(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}var f,m,g,v,y,b,w,x,S,T=Array(),E=7,k=12,C=17,D=22,P=5,A=9,_=14,I=20,O=4,R=11,L=16,B=23,M=6,N=10,U=15,j=21;for(t=p(t),T=h(t),b=1732584193,w=4023233417,x=2562383102,S=271733878,f=0;f<T.length;f+=16)m=b,g=w,v=x,y=S,b=a(b,w,x,S,T[f+0],E,3614090360),S=a(S,b,w,x,T[f+1],k,3905402710),x=a(x,S,b,w,T[f+2],C,606105819),w=a(w,x,S,b,T[f+3],D,3250441966),b=a(b,w,x,S,T[f+4],E,4118548399),S=a(S,b,w,x,T[f+5],k,1200080426),x=a(x,S,b,w,T[f+6],C,2821735955),w=a(w,x,S,b,T[f+7],D,4249261313),b=a(b,w,x,S,T[f+8],E,1770035416),S=a(S,b,w,x,T[f+9],k,2336552879),x=a(x,S,b,w,T[f+10],C,4294925233),w=a(w,x,S,b,T[f+11],D,2304563134),b=a(b,w,x,S,T[f+12],E,1804603682),S=a(S,b,w,x,T[f+13],k,4254626195),x=a(x,S,b,w,T[f+14],C,2792965006),w=a(w,x,S,b,T[f+15],D,1236535329),b=c(b,w,x,S,T[f+1],P,4129170786),S=c(S,b,w,x,T[f+6],A,3225465664),x=c(x,S,b,w,T[f+11],_,643717713),w=c(w,x,S,b,T[f+0],I,3921069994),b=c(b,w,x,S,T[f+5],P,3593408605),S=c(S,b,w,x,T[f+10],A,38016083),x=c(x,S,b,w,T[f+15],_,3634488961),w=c(w,x,S,b,T[f+4],I,3889429448),b=c(b,w,x,S,T[f+9],P,568446438),S=c(S,b,w,x,T[f+14],A,3275163606),x=c(x,S,b,w,T[f+3],_,4107603335),w=c(w,x,S,b,T[f+8],I,1163531501),b=c(b,w,x,S,T[f+13],P,2850285829),S=c(S,b,w,x,T[f+2],A,4243563512),x=c(x,S,b,w,T[f+7],_,1735328473),w=c(w,x,S,b,T[f+12],I,2368359562),b=l(b,w,x,S,T[f+5],O,4294588738),S=l(S,b,w,x,T[f+8],R,2272392833),x=l(x,S,b,w,T[f+11],L,1839030562),w=l(w,x,S,b,T[f+14],B,4259657740),b=l(b,w,x,S,T[f+1],O,2763975236),S=l(S,b,w,x,T[f+4],R,1272893353),x=l(x,S,b,w,T[f+7],L,4139469664),w=l(w,x,S,b,T[f+10],B,3200236656),b=l(b,w,x,S,T[f+13],O,681279174),S=l(S,b,w,x,T[f+0],R,3936430074),x=l(x,S,b,w,T[f+3],L,3572445317),w=l(w,x,S,b,T[f+6],B,76029189),b=l(b,w,x,S,T[f+9],O,3654602809),S=l(S,b,w,x,T[f+12],R,3873151461),x=l(x,S,b,w,T[f+15],L,530742520),w=l(w,x,S,b,T[f+2],B,3299628645),b=u(b,w,x,S,T[f+0],M,4096336452),S=u(S,b,w,x,T[f+7],N,1126891415),x=u(x,S,b,w,T[f+14],U,2878612391),w=u(w,x,S,b,T[f+5],j,4237533241),b=u(b,w,x,S,T[f+12],M,1700485571),S=u(S,b,w,x,T[f+3],N,2399980690),x=u(x,S,b,w,T[f+10],U,4293915773),w=u(w,x,S,b,T[f+1],j,2240044497),b=u(b,w,x,S,T[f+8],M,1873313359),S=u(S,b,w,x,T[f+15],N,4264355552),x=u(x,S,b,w,T[f+6],U,2734768916),w=u(w,x,S,b,T[f+13],j,1309151649),b=u(b,w,x,S,T[f+4],M,4149444226),S=u(S,b,w,x,T[f+11],N,3174756917),x=u(x,S,b,w,T[f+2],U,718787259),w=u(w,x,S,b,T[f+9],j,3951481745),b=n(b,m),w=n(w,g),x=n(x,v),S=n(S,y);return(d(b)+d(w)+d(x)+d(S)).toLowerCase()};t.exports=n},1183:function(t,e,n){(function(e){!function(n){function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,i(s,this),i(a,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void h(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(o){return console.error(o.stack),void t.reject(o)}t.resolve(i)})}function s(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(i(e,t),i(s,this),i(a,this))}this._state=!0,this._value=t,c.call(this)}catch(n){a.call(this,n)}}function a(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,e=this._deferreds.length;e>t;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}var h="function"==typeof e&&e||function(t){setTimeout(t,1)},d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=this;return new o(function(i,o){r.call(n,new l(t,e,i,o))})},o.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new o(function(e,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(r,t)},n)}t[r]=s,0===--o&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},o._setImmediateFn=function(t){h=t},"undefined"!=typeof t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(1184).setImmediate)},1184:function(t,e,n){(function(t,i){function o(t,e){this._id=t,this._clearFn=e}var r=n(1185).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},l=0;e.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=l++,i=arguments.length<2?!1:a.call(arguments,1);return c[n]=!0,r(function(){c[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete c[t]}}).call(e,n(1184).setImmediate,n(1184).clearImmediate)},1185:function(t,e){function n(){l=!1,s.length?c=s.concat(c):u=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(n);l=!0;for(var e=c.length;e;){for(s=c,c=[];++u<e;)s[u].run();u=-1,e=c.length}s=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function r(){}var s,a=t.exports={},c=[],l=!1,u=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},1186:function(t,e,n){var i;i=function(t,e,i){var o=n(55),r=function(){var t=navigator.userAgent;if(t&&t.indexOf("AlipayClient")>=0)return!0;var e=o.get("channel");if(e){var n=e.indexOf("||"),i=e.substr(0,n);return"sns_zhifubao_wap"===i}return!1},s=function(){var t=navigator.userAgent.toLowerCase();return t&&t.indexOf("micromessenger")>-1?!0:!1},a=function(){return"baiduwiseqyy"===o.get("channel_webapp")},c=function(){return"yizhifu"===o.get("channel_webapp")};i.exports={isAlipay:r,isWeChat:s,isZhidahao:a,isYizhifu:c}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1187:function(t,e,n){var i;i=function(t,e,i){var o=n(45);e.init=function(t){o.ajax({url:"//passport.baidu.com/v3/login/api/sync/",data:t,dataType:"jsonp",success:function(){},error:function(){}})}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},1188:function(t,e,n){var i;i=function(t,e,i){n(986);var o=n(45),r=n(51),s=n(265),a=n(272),c=n(269),l={goodInfo:n(990),huoguo:n(991)},u=function(t,e){var n={wrapper:t,goodLine:t.find('[data-role="good-line"]'),num:t.find('[data-role="num"]'),delivery:t.find('[data-role="delivery"]'),price:t.find('[data-role="price"]')},i=function(){var t=s.getTotal();n.num.text(t);var e=s.getPrice();n.price.text((e.origin+e.delivery)/1e3),n.delivery.text(e.delivery/1e3)};s.on("update-num",i),n.goodLine.on("tap",function(){c.show()}),i()},h=function(t,e){var n={wrapper:t,numInputWrappers:t.find('[data-role="num-input-wrapper"]'),price:t.find('[data-role="price"]'),tips:t.find('[data-role="num-tips"]')},i=!1;if(e.juyouhui&&!e.hasOptions){var o=parseInt(e.juyouhui.clchannel,10),r=parseInt(e.juyouhui.subtype,10);1!==o||1!==r&&2!==r||(n.numInputWrappers.html("1"),n.tips.hide(),i=!0),2===parseInt(e.juyouhui.clchannel,10)&&(n.tips.hide(),n.numInputWrappers.html("1"),t.append(l.huoguo()),i=!0)}i||(this.inputs=a.init(n.numInputWrappers,s,!0));var c=function(){n.price.text(s.getPrice().origin/1e3)};s.on("update-num",c),c()};e.init=function(t,e){t=o(t),e=r.extend({min:0,max:1e4,isWuliu:s.isWuliu(),hasOptions:!!s.hasOptions()},e),e.min&&1!==e.min?e.limitTip=r.format("（最少买${min}件）",e):e.limitTip=e.max?r.format("（最多买${max}件）",e):null,t.html(l.goodInfo(e)),e.isWuliu?u(t,e):h(t,e)}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}});