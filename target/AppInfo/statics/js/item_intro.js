define("detail:widget/item_info/item_intro/item_intro.js",function(t,e,i){var s=function(){this.init.apply(this,arguments)};$.extend(s.prototype,{init:function(t){return this.priceObj=$("#j-jxPrice"),this.textObj=$("#j-jxText"),this.updateTimeObj=$("#j-jxUpdateTime"),this.textObjClass="jx-tiptext",$.extend(this,t),this.period&&this.period.scene&&this.period.scene.length<=0||!this.period||!this.period.scene?this:(this.statusText=["","即将开抢","限时抢购","已售罄","本场结束"],this.textData={starttrue:"距结束",endtrue:"距开始",startfalse:"活动距结束",endfalse:"活动距开始"},this.status=1*this.status||1,this.price=this.price,this.isPreferential=""!=this.price&&!isNaN(this.price),void this.start())},start:function(){this.countdown(this.period)},getTimes:function(t,e){var i=e-t,s=Math.floor(i/864e5),a=i%864e5,n=Math.floor(a/36e5),r=a%36e5,o=Math.floor(r/6e4),h=r%6e4,m=Math.floor(h/1e3),p=function(t){return 10>1*t?"0"+t:t};return{day:s,hour:n,minutes:o,seconds:m,format:n+o+m>0?[p(n),p(o),p(m)].join(":"):"",min:n>0?60*n+o:o}},countdown:function(t){var e=this,i=t.scene,s=t.periodIndex-1,a=i[s],n=null,r=i.length,o="end",h="",m=new Date,p=i[0]&&i[0].starttime?i[0].starttime:"10:00:00";p=p.substr(0,p.indexOf(":"));var d=new Date(m.getFullYear(),m.getMonth(),m.getDate()+1,p).getTime(),u=setInterval(function(){n=(new Date).getTime(),o="end",a?n>=a.StartTimeStamp&&n<=a.EndTimeStamp?(o="start",h=e.getTimes(n,a.EndTimeStamp).format,3==e.status&&(e.textObj.removeClass(e.textObjClass).html(e.statusText[e.status]).css({position:"relative",top:5}).show(),e.updateTimeObj.hide(),o="")):n>a.EndTimeStamp?(s+=1,a=i[s],a?h=e.getTimes(n,a.StartTimeStamp).format:s>=r?h=e.getTimes(n,d).format:clearInterval(u)):h=e.getTimes(n,a.StartTimeStamp).format:h=e.getTimes(n,d).format,e.update(h,o)},1e3)},update:function(t,e){var i=this.updateTimeObj,s=this.textObj;t=t.split(":"),i.html(["<span>",t[0],"</span>:","<span>",t[1],"</span>:","<span>",t[2],"</span>"].join("")),this.isPreferential&&s.removeClass(this.textObjClass),""!=e&&(s.html(this.textData[e+String(this.isPreferential)]).show(),this.updateTimeObj.show())}}),i.exports=s});